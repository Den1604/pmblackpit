% Script File: mac_04.mscr
% Decoded from: 0 to F5A0 (mac_04)

#new:Function_Init $Function_Init
{
	LAW       V0, 8007419C
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LH        V1, 8E (V0)
	ADDIU     V0, R0, 4
	BNE       V1, V0, .o34
	NOP
	LIA       A0, 800D9668
	LIA       A1, $ASCII_8024F550
	JAL       ~Func:sprintf
	RESERVED
	.o34
	LW        RA, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 80240044 to 80240050 (00000044 to 00000050)
00000000 00000000 00000000

#new:Function $Function_80240050
{
	ADDIU     SP, SP, FFB0
	SW        S1, 2C (SP)
	COPY      S1, A0
	SW        RA, 4C (SP)
	SW        S8, 48 (SP)
	SW        S7, 44 (SP)
	SW        S6, 40 (SP)
	SW        S5, 3C (SP)
	SW        S4, 38 (SP)
	SW        S3, 34 (SP)
	SW        S2, 30 (SP)
	SW        S0, 28 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S8, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S6, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S7, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S5, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S4, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S3, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S2, V0
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	COPY      S0, V0
	ANDI      A0, S8, FF
	ANDI      A1, S6, FF
	ANDI      S4, S4, FF
	ANDI      S3, S3, FF
	ANDI      S2, S2, FF
	ANDI      A2, S7, FF
	ANDI      A3, S5, FF
	SW        S4, 10 (SP)
	SW        S3, 14 (SP)
	SW        S2, 18 (SP)
	SW        S0, 1C (SP)
	JAL       8011BEB4
	SW        V0, 20 (SP)
	LW        RA, 4C (SP)
	LW        S8, 48 (SP)
	LW        S7, 44 (SP)
	LW        S6, 40 (SP)
	LW        S5, 3C (SP)
	LW        S4, 38 (SP)
	LW        S3, 34 (SP)
	LW        S2, 30 (SP)
	LW        S1, 2C (SP)
	LW        S0, 28 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 50
}

#new:Function $Function_80240194
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       8011D82C
	ADDIU     A0, R0, 3
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 802401B4 to 802401C0 (000001B4 to 000001C0)
00000000 00000000 00000000

#new:Function $Function_802401C0
{
	ADDIU     SP, SP, FFE8
	ADDIU     A0, R0, 9E
	ADDIU     A1, R0, FFFF
	ADDIU     A2, R0, 1
	SW        RA, 10 (SP)
	JAL       8011B950
	COPY      A3, A2
	CLEAR     A0
	COPY      A1, A0
	COPY      A2, A0
	JAL       ~Func:set_background_color_blend
	ADDIU     A3, R0, FF
	LIA       V1, 800B1D80
	SH        R0, 2C (V1)
	SH        R0, 2E (V1)
	SH        R0, 30 (V1)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 80240214 to 80240220 (00000214 to 00000220)
00000000 00000000 00000000

#new:Function $Function_80240220
{
	ADDIU     SP, SP, FFD0
	SDC1      F20, 18 (SP)
	MTC1      A1, F20
	SDC1      F22, 20 (SP)
	MTC1      A2, F22
	SW        S0, 10 (SP)
	SDC1      F24, 28 (SP)
	MTC1      A3, F24
	SW        RA, 14 (SP)
	JAL       ~Func:guMtxIdentF
	COPY      S0, A0
	MUL.S     F22, F20, F22
	NOP
	MUL.S     F20, F20, F24
	NOP
	LIF       F0, 1.0
	NOP
	SWC1      F0, 14 (S0)
	SWC1      F22, 10 (S0)
	SWC1      F20, 18 (S0)
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F24, 28 (SP)
	LDC1      F22, 20 (SP)
	LDC1      F20, 18 (SP)
	JR        RA
	ADDIU     SP, SP, 30
}

#new:Function $Function_80240290
{
	ADDIU     SP, SP, FF78
	SW        S1, 54 (SP)
	COPY      S1, A0
	SW        RA, 5C (SP)
	SW        S2, 58 (SP)
	SW        S0, 50 (SP)
	SDC1      F28, 80 (SP)
	SDC1      F26, 78 (SP)
	SDC1      F24, 70 (SP)
	SDC1      F22, 68 (SP)
	SDC1      F20, 60 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	JAL       ~Func:get_model_list_index_from_tree_index
	COPY      A0, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_float_variable
	COPY      S2, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_float_variable
	MOV.S     F28, F0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_float_variable
	MOV.S     F26, F0
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_float_variable
	MOV.S     F22, F0
	COPY      A0, S2
	JAL       ~Func:get_model_from_list_index
	MOV.S     F24, F0
	COPY      S1, V0
	LHU       V0, 0 (S1)
	ANDI      V0, V0, 400
	BNE       V0, R0, .o124
	ADDIU     S0, S1, 58
	MTC1      R0, F20
	MFC1      A2, F22
	MFC1      A1, F20
	MFC1      A3, F20
	JAL       ~Func:guTranslateF
	COPY      A0, S0
	MFC1      A1, F28
	MFC1      A2, F26
	MFC1      A3, F24
	JAL       $Function_80240220
	ADDIU     A0, SP, 10
	ADDIU     A0, SP, 10
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, S0
	ADDIU     A0, SP, 10
	NEG.S     F22, F22
	MFC1      A1, F20
	MFC1      A2, F22
	JAL       ~Func:guTranslateF
	COPY      A3, A1
	ADDIU     A0, SP, 10
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, A1
	LHU       V0, 0 (S1)
	ORI       V0, V0, 1400
	BEQ       R0, R0, .o19C
	SH        V0, 0 (S1)
	.o124
	MTC1      R0, F20
	MFC1      A2, F22
	MFC1      A1, F20
	MFC1      A3, F20
	JAL       ~Func:guTranslateF
	ADDIU     A0, SP, 10
	ADDIU     A0, SP, 10
	ADDIU     S0, S1, 58
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, S0
	MFC1      A1, F28
	MFC1      A2, F26
	MFC1      A3, F24
	JAL       $Function_80240220
	ADDIU     A0, SP, 10
	ADDIU     A0, SP, 10
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, S0
	ADDIU     A0, SP, 10
	NEG.S     F22, F22
	MFC1      A1, F20
	MFC1      A2, F22
	JAL       ~Func:guTranslateF
	COPY      A3, A1
	ADDIU     A0, SP, 10
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, A1
	.o19C
	LW        RA, 5C (SP)
	LW        S2, 58 (SP)
	LW        S1, 54 (SP)
	LW        S0, 50 (SP)
	LDC1      F28, 80 (SP)
	LDC1      F26, 78 (SP)
	LDC1      F24, 70 (SP)
	LDC1      F22, 68 (SP)
	LDC1      F20, 60 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 88
}

PADDING: 8024045C to 80240460 (0000045C to 00000460)
00000000

% Origin: HEURISTIC
#new:Function $Function_80240460
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	LIA       S0, $???_80243FE8
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LW        V0, 0 (S0)
	BNE       V0, R0, .o60
	COPY      S1, A0
	JAL       ~Func:heap_malloc
	ADDIU     A0, R0, 40
	SW        V0, 0 (S0)
	CLEAR     V1
	COPY      A1, V0
	COPY      A0, S1
	.o3C
	LW        V0, 84 (A0)
	ADDIU     A0, A0, 4
	ADDIU     V1, V1, 1
	SW        V0, 0 (A1)
	SLTI      V0, V1, 10
	BNE       V0, R0, .o3C
	ADDIU     A1, A1, 4
	BEQ       R0, R0, .o9C
	NOP
	.o60
	CLEAR     V1
	COPY      A1, V0
	COPY      A0, S1
	.o6C
	LW        V0, 0 (A1)
	ADDIU     A1, A1, 4
	ADDIU     V1, V1, 1
	SW        V0, 84 (A0)
	SLTI      V0, V1, 10
	BNE       V0, R0, .o6C
	ADDIU     A0, A0, 4
	LIA       S0, $???_80243FE8
	JAL       ~Func:heap_free
	LW        A0, 0 (S0)
	SW        R0, 0 (S0)
	.o9C
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_80240514
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LW        V0, C (S0)
	LW        S1, 0 (V0)
	JAL       ~Func:get_variable
	COPY      A1, S1
	LIO       V1, FFF0FFFF
	COPY      A0, S0
	AND       V0, V0, V1
	SLL       V0, V0, 5
	LTW       A2, V0 (800878E0)
	JAL       ~Func:set_variable
	COPY      A1, S1
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80240578
{
	ADDIU     V0, R0, 1
	SAW       V0, 80151310
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_8024058C
{
	SAW       R0, 80151310
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_8024059C
{
	ADDIU     SP, SP, FFB8
	SW        S1, 24 (SP)
	COPY      S1, A0
	LUI       A1, F840
	SW        RA, 44 (SP)
	SW        S8, 40 (SP)
	SW        S7, 3C (SP)
	SW        S6, 38 (SP)
	SW        S5, 34 (SP)
	SW        S4, 30 (SP)
	SW        S3, 2C (SP)
	SW        S2, 28 (SP)
	SW        S0, 20 (SP)
	LW        S8, 148 (S1)
	JAL       ~Func:get_variable
	ORI       A1, A1, 6268
	COPY      S0, V0
	COPY      A0, S1
	LIO       A1, *Flag_NPC_41
	JAL       ~Func:get_variable
	RESERVED
	COPY      S7, V0
	COPY      A0, S1
	LIO       A1, *Byte_NPC_04
	JAL       ~Func:get_variable
	RESERVED
	COPY      S6, V0
	COPY      A0, S1
	LIO       A1, *Byte_NPC_05
	JAL       ~Func:get_variable
	RESERVED
	COPY      S5, V0
	LBU       S3, 6D (S8)
	ANDI      V0, S6, FFFF
	SH        S3, 10 (SP)
	LBU       S2, 6E (S8)
	LBU       A3, 6F (S8)
	ANDI      S4, S3, FFFF
	BEQ       S4, V0, .oA8
	SH        A3, 1E (SP)
	CLEAR     S7
	COPY      S0, S7
	.oA8
	ANDI      V0, S0, FFFF
	BNE       V0, R0, .o108
	COPY      A0, S1
	JAL       ~Func:rand_int
	ADDIU     A0, R0, 64
	SLTI      V0, V0, 1E
	BEQ       V0, R0, .o108
	COPY      A0, S1
	JAL       ~Func:rand_int
	ADDIU     A0, S2, FFFF
	COPY      S5, V0
	COPY      S6, S3
	COPY      A0, S1
	LIO       A1, *Byte_NPC_04
	JAL       ~Func:set_variable
	COPY      A2, S4
	COPY      A0, S1
	LIO       A1, *Byte_NPC_05
	JAL       ~Func:set_variable
	ANDI      A2, S5, FFFF
	ADDIU     S0, R0, 1
	COPY      A0, S1
	.o108
	LIO       A1, *Flag_NPC_40
	JAL       ~Func:set_variable
	ANDI      A2, S0, FFFF
	COPY      A0, S1
	LIO       A1, *Flag_NPC_41
	JAL       ~Func:set_variable
	ANDI      A2, S7, FFFF
	CLEAR     A0
	LIO       A1, *CompletedQuizzes
	JAL       ~Func:get_variable
	RESERVED
	CLEAR     A0
	LIO       A1, *StoryProgress
	JAL       ~Func:get_variable
	COPY      S0, V0
	COPY      A1, V0
	CLEAR     V1
	LIA       A2, $QuizRequirements
	COPY      A0, A2
	.o164
	LW        V0, 0 (A0)
	SLT       V0, A1, V0
	BNE       V0, R0, .o188
	SLL       V0, V1, 3
	ADDIU     V1, V1, 1
	SLTI      V0, V1, 8
	BNE       V0, R0, .o164
	ADDIU     A0, A0, 8
	SLL       V0, V1, 3
	.o188
	ADDU      V0, V0, A2
	LW        V0, 4 (V0)
	LHU       V1, 10 (SP)
	SLT       A0, S0, V0
	ANDI      V0, S6, FFFF
	BNE       V1, V0, .o1C0
	ANDI      V0, S5, FFFF
	LHU       A3, 1E (SP)
	BNE       A3, V0, .o1C0
	ANDI      V0, S7, FFFF
	BNE       V0, R0, .o1C0
	NOP
	BNE       A0, R0, .o1DC
	ADDIU     V0, R0, 1
	.o1C0
	LAW       V0, 8007419C
	LB        V0, 75 (V0)
	BEQ       V0, R0, .o1E4
	NOP
	BEQ       A0, R0, .o1E4
	ADDIU     V0, R0, 1
	.o1DC
	BEQ       R0, R0, .o1F0
	SW        V0, 84 (S1)
	.o1E4
	JAL       ~Func:kill_enemy
	COPY      A0, S8
	SW        R0, 84 (S1)
	.o1F0
	LW        RA, 44 (SP)
	LW        S8, 40 (SP)
	LW        S7, 3C (SP)
	LW        S6, 38 (SP)
	LW        S5, 34 (SP)
	LW        S4, 30 (SP)
	LW        S3, 2C (SP)
	LW        S2, 28 (SP)
	LW        S1, 24 (SP)
	LW        S0, 20 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 48
}

#new:Function $Function_802407C0
{
	ADDIU     SP, SP, FFE8
	SW        RA, 14 (SP)
	SW        S0, 10 (SP)
	JAL       ~Func:get_npc_unsafe
	LW        A0, 14C (A0)
	ADDIU     A0, R0, 8
	COPY      S0, V0
	LIA       V0, $Function_8024082C
	JAL       ~Func:heap_malloc
	SW        V0, 8 (S0)
	COPY      V1, V0
	SW        V1, 20 (S0)
	SW        R0, 0 (V1)
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 1
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_8024080C
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:get_npc_unsafe
	LW        A0, 14C (A0)
	LW        RA, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
#new:Function $Function_8024082C
{
	ADDIU     SP, SP, FFE8
	LAH       V1, 8009A634
	LIA       A1, 800B1D80
	SW        RA, 10 (SP)
	SLL       V0, V1, 2
	ADDU      V0, V0, V1
	SLL       V0, V0, 2
	SUBU      V0, V0, V1
	SLL       V1, V0, 3
	ADDU      V0, V0, V1
	LW        V1, 20 (A0)
	SLL       V0, V0, 3
	LW        V1, 0 (V1)
	ANDI      V1, V1, 1
	BEQ       V1, R0, .o54
	ADDU      V0, V0, A1
	LWC1      F12, 6C (V0)
	JAL       ~Func:clamp_angle
	NEG.S     F12, F12
	.o54
	LW        RA, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_8024088C
{
	ADDIU     SP, SP, FFD8
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 24 (SP)
	SW        S4, 20 (SP)
	SW        S3, 1C (SP)
	SW        S2, 18 (SP)
	BEQ       A1, R0, .oEC
	SW        S0, 10 (SP)
	JAL       8011D82C
	ADDIU     A0, R0, 1
	CLEAR     A0
	COPY      A1, A0
	COPY      A2, A0
	COPY      A3, A0
	COPY      S0, A0
	ADDIU     S4, R0, FFFC
	ADDIU     S3, R0, 14
	LUI       S2, 80
	LAW       V1, 801512F0
	ADDIU     V0, R0, 1
	JAL       ~Func:set_background_color_blend
	SB        V0, 0 (V1)
	.o60
	JAL       ~Func:get_npc_by_index
	COPY      A0, S0
	COPY      A0, V0
	BEQL      A0, R0, .o9C
	ADDIU     S0, S0, 1
	LW        V0, 0 (A0)
	BEQL      V0, R0, .o9C
	ADDIU     S0, S0, 1
	LB        V1, A4 (A0)
	BEQ       V1, S4, .o9C
	ADDIU     S0, S0, 1
	BEQ       V1, S3, .o9C
	NOP
	OR        V0, V0, S2
	SW        V0, 0 (A0)
	.o9C
	SLTI      V0, S0, 40
	BNE       V0, R0, .o60
	NOP
	CLEAR     S0
	LUI       S2, 800
	.oB0
	JAL       ~Func:get_item_entity
	COPY      A0, S0
	COPY      V1, V0
	BEQ       V1, R0, .oDC
	ADDIU     S0, S0, 1
	LW        A0, 0 (V1)
	ANDI      V0, A0, 10
	BEQ       V0, R0, .oDC
	NOP
	OR        V0, A0, S2
	SW        V0, 0 (V1)
	.oDC
	SLTI      V0, S0, 100
	BNE       V0, R0, .oB0
	NOP
	SW        R0, 70 (S1)
	.oEC
	LW        V0, 70 (S1)
	ADDIU     V0, V0, 8
	SW        V0, 70 (S1)
	SLTI      V0, V0, 100
	BNE       V0, R0, .o10C
	CLEAR     A0
	ADDIU     V0, R0, FF
	SW        V0, 70 (S1)
	.o10C
	COPY      A1, A0
	LBU       A3, 73 (S1)
	JAL       ~Func:set_background_color_blend
	COPY      A2, A0
	LW        V0, 70 (S1)
	LW        RA, 24 (SP)
	LW        S4, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	XORI      V0, V0, FF
	SLTIU     V0, V0, 1
	SLL       V0, V0, 1
	JR        RA
	ADDIU     SP, SP, 28
}

#new:Function $Function_802409D8
{
	ADDIU     SP, SP, FFD8
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 20 (SP)
	SW        S3, 1C (SP)
	SW        S2, 18 (SP)
	BEQ       A1, R0, .o40
	SW        S1, 14 (SP)
	CLEAR     A0
	COPY      A1, A0
	COPY      A2, A0
	JAL       ~Func:set_background_color_blend
	ADDIU     A3, R0, FF
	ADDIU     V0, R0, FF
	SW        V0, 70 (S0)
	SW        R0, 74 (S0)
	.o40
	LW        V0, 70 (S0)
	ADDIU     V0, V0, FFF8
	BGEZ      V0, .o54
	SW        V0, 70 (S0)
	SW        R0, 70 (S0)
	.o54
	CLEAR     A0
	COPY      A1, A0
	LBU       A3, 73 (S0)
	JAL       ~Func:set_background_color_blend
	COPY      A2, A0
	LW        V0, 70 (S0)
	BNE       V0, R0, .o88
	NOP
	LW        V0, 74 (S0)
	BNE       V0, R0, .o88
	ADDIU     V0, R0, 1
	BEQ       R0, R0, .o154
	SW        V0, 74 (S0)
	.o88
	LW        V1, 74 (S0)
	ADDIU     V0, R0, 1
	BNE       V1, V0, .o158
	CLEAR     V0
	JAL       8011D82C
	CLEAR     A0
	CLEAR     S0
	ADDIU     S3, R0, FFFC
	ADDIU     S2, R0, 14
	LUI       S1, FF7F
	LAW       V0, 801512F0
	ORI       S1, S1, FFFF
	SB        R0, 0 (V0)
	.oC0
	JAL       ~Func:get_npc_by_index
	COPY      A0, S0
	COPY      A0, V0
	BEQL      A0, R0, .oFC
	ADDIU     S0, S0, 1
	LW        V0, 0 (A0)
	BEQL      V0, R0, .oFC
	ADDIU     S0, S0, 1
	LB        V1, A4 (A0)
	BEQ       V1, S3, .oFC
	ADDIU     S0, S0, 1
	BEQ       V1, S2, .oFC
	NOP
	AND       V0, V0, S1
	SW        V0, 0 (A0)
	.oFC
	SLTI      V0, S0, 40
	BNE       V0, R0, .oC0
	NOP
	CLEAR     S0
	LIO       S1, F7FFFFFF
	.o114
	JAL       ~Func:get_item_entity
	COPY      A0, S0
	COPY      V1, V0
	BEQ       V1, R0, .o140
	ADDIU     S0, S0, 1
	LW        A0, 0 (V1)
	ANDI      V0, A0, 10
	BEQ       V0, R0, .o140
	NOP
	AND       V0, A0, S1
	SW        V0, 0 (V1)
	.o140
	SLTI      V0, S0, 100
	BNE       V0, R0, .o114
	ADDIU     V0, R0, 2
	BEQ       R0, R0, .o158
	NOP
	.o154
	CLEAR     V0
	.o158
	LW        RA, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 28
}

#new:Function $Function_80240B4C
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	LIA       S0, 8010F290
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LHU       V1, 2C0 (S0)
	SLTIU     V0, V1, 3E7
	BEQ       V0, R0, .o30
	COPY      S1, A0
	ADDIU     V0, V1, 1
	SH        V0, 2C0 (S0)
	.o30
	LIO       A1, *CompletedQuizzes
	JAL       ~Func:get_variable
	CLEAR     A0
	LTBU      V1, V0 ($QuizAnswers)
	LW        V0, 84 (S1)
	BNEL      V0, V1, .o6C
	SW        R0, 84 (S1)
	ADDIU     V0, R0, 1
	SW        V0, 84 (S1)
	LHU       V0, 2C2 (S0)
	ADDIU     V0, V0, 1
	SH        V0, 2C2 (S0)
	.o6C
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80240BD0
{
	ADDIU     SP, SP, FFC8
	SW        S1, 1C (SP)
	SW        RA, 20 (SP)
	SW        S0, 18 (SP)
	SDC1      F22, 30 (SP)
	SDC1      F20, 28 (SP)
	BEQ       A1, R0, .o19C
	COPY      S1, A0
	LIO       A1, *Array[1]
	JAL       ~Func:get_variable
	RESERVED
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F22
	NOP
	CVT.S.W   F22, F22
	JAL       ~Func:get_variable
	ORI       A1, A1, D482
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F20
	NOP
	CVT.S.W   F20, F20
	JAL       ~Func:get_variable
	ORI       A1, A1, D483
	MTC1      V0, F2
	NOP
	CVT.S.W   F2, F2
	MFC1      A1, F22
	MFC1      A2, F20
	MFC1      A3, F2
	JAL       800715D0
	CLEAR     A0
	COPY      A0, S1
	LIO       A1, *Array[1]
	LIA       S0, $End[20]
	JAL       ~Func:get_variable
	SW        V0, 0 (S0)
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F22
	NOP
	CVT.S.W   F22, F22
	JAL       ~Func:get_variable
	ORI       A1, A1, D482
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F20
	NOP
	CVT.S.W   F20, F20
	JAL       ~Func:get_variable
	ORI       A1, A1, D483
	MTC1      V0, F2
	NOP
	CVT.S.W   F2, F2
	MFC1      A1, F22
	MFC1      A2, F20
	MFC1      A3, F2
	JAL       80071810
	CLEAR     A0
	COPY      A0, S1
	LUI       A1, F4AC
	SAW       V0, $End[24]
	JAL       ~Func:get_variable
	ORI       A1, A1, D481
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F22
	NOP
	CVT.S.W   F22, F22
	JAL       ~Func:get_variable
	ORI       A1, A1, D482
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F20
	NOP
	CVT.S.W   F20, F20
	JAL       ~Func:get_variable
	ORI       A1, A1, D483
	MTC1      V0, F2
	NOP
	CVT.S.W   F2, F2
	MFC1      A1, F22
	MFC1      A2, F20
	LIF       F0, 1.0
	MFC1      A3, F2
	CLEAR     A0
	SW        R0, 14 (SP)
	JAL       80072890
	SWC1      F0, 10 (SP)
	LW        V1, 0 (S0)
	LW        A0, C (V1)
	SAW       V0, $End[28]
	SW        R0, 18 (A0)
	SW        R0, 20 (A0)
	SW        R0, 24 (A0)
	SW        R0, 28 (A0)
	SW        R0, 1C (A0)
	.o19C
	LAW       V0, $End[20]
	LW        A0, C (V0)
	LW        V0, 20 (A0)
	LW        V1, 28 (A0)
	ADDIU     V0, V0, A
	SW        V0, 20 (A0)
	LW        V0, 24 (A0)
	ADDIU     V1, V1, A
	SW        V1, 28 (A0)
	LW        V1, 18 (A0)
	ADDIU     V0, V0, A
	SW        V0, 24 (A0)
	LW        V0, 1C (A0)
	ADDIU     V1, V1, A
	SW        V1, 18 (A0)
	SLTI      V1, V1, FF
	ADDIU     V0, V0, A
	SW        V0, 1C (A0)
	BNE       V1, R0, .o1FC
	CLEAR     V0
	ADDIU     V0, R0, FF
	SW        V0, 18 (A0)
	ADDIU     V0, R0, 2
	.o1FC
	LW        RA, 20 (SP)
	LW        S1, 1C (SP)
	LW        S0, 18 (SP)
	LDC1      F22, 30 (SP)
	LDC1      F20, 28 (SP)
	JR        RA
	ADDIU     SP, SP, 38
}

#new:Function $Function_80240DE8
{
	ADDIU     SP, SP, FFE8
	BEQ       A1, R0, .o34
	SW        RA, 10 (SP)
	LAW       V1, $End[24]
	LW        V0, 0 (V1)
	LAW       A0, $End[28]
	ORI       V0, V0, 10
	SW        V0, 0 (V1)
	LW        V0, 0 (A0)
	ORI       V0, V0, 10
	SW        V0, 0 (A0)
	.o34
	LAW       A0, $End[20]
	LW        A1, C (A0)
	LW        V0, 18 (A1)
	LW        V1, 20 (A1)
	ADDIU     V0, V0, FFF6
	SW        V0, 18 (A1)
	LW        V0, 24 (A1)
	ADDIU     V1, V1, FFF6
	SW        V1, 20 (A1)
	LW        V1, 28 (A1)
	ADDIU     V0, V0, FFF6
	SW        V0, 24 (A1)
	LW        V0, 1C (A1)
	ADDIU     V1, V1, FFF6
	SW        V1, 28 (A1)
	LW        V1, 18 (A1)
	ADDIU     V0, V0, FFF6
	BLEZ      V1, .o8C
	SW        V0, 1C (A1)
	BEQ       R0, R0, .oA8
	CLEAR     V0
	.o8C
	JAL       ~Func:remove_effect
	SW        R0, 18 (A1)
	LAW       A0, $End[0]
	JAL       801235C0
	NOP
	ADDIU     V0, R0, 2
	.oA8
	LW        RA, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240E9C
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	LAW       V1, $End[20]
	LW        V1, C (V1)
	SW        V0, 34 (V1)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240ED0
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	COPY      A0, V0
	LAW       V0, $End[20]
	ADDIU     V1, R0, 1
	LW        A1, C (V0)
	BEQ       A0, V1, .o60
	SLTI      V0, A0, 2
	BEQ       V0, R0, .o48
	ADDIU     V0, R0, 2
	BEQ       A0, R0, .o58
	ADDIU     V0, R0, C0
	BEQ       R0, R0, .o70
	SW        R0, 38 (A1)
	.o48
	BEQ       A0, V0, .o6C
	ADDIU     V0, R0, 40
	BEQ       R0, R0, .o70
	SW        R0, 38 (A1)
	.o58
	BEQ       R0, R0, .o70
	SW        V0, 38 (A1)
	.o60
	ADDIU     V0, R0, 80
	BEQ       R0, R0, .o70
	SW        V0, 38 (A1)
	.o6C
	SW        V0, 38 (A1)
	.o70
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240F50
{
	LAW       V0, $End[28]
	LW        V0, C (V0)
	SW        R0, 1C (V0)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_80240F68
{
	LAW       V0, $End[28]
	LW        V1, C (V0)
	ADDIU     V0, R0, 1
	SW        V0, 1C (V1)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_80240F84
{
	LAW       V0, $End[28]
	LW        V1, C (V0)
	ADDIU     V0, R0, 2
	JR        RA
	SW        V0, 1C (V1)
}

#new:Function $Function_80240F9C
{
	ADDIU     SP, SP, FFE8
	LAW       V0, 8007419C
	LUI       A1, FE36
	SW        RA, 10 (SP)
	LB        A2, 75 (V0)
	JAL       ~Func:set_variable
	ORI       A1, A1, 3C80
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240FCC
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_float_variable
	COPY      S0, V0
	ADDIU     V0, R0, 2
	SLLV      V1, S0, V0
	ADDU      V1, V1, S0
	SLLV      V1, V1, V0
	SUBU      V1, V1, S0
	SLL       A0, V1, 3
	ADDU      V1, V1, A0
	SLL       V1, V1, 3
	STF       F0, V1 (800B1D98)
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80241040
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	SLL       V1, V0, 2
	ADDU      V1, V1, V0
	SLL       V1, V1, 2
	SUBU      V1, V1, V0
	SLL       V0, V1, 3
	ADDU      V1, V1, V0
	SLL       V1, V1, 3
	LTF       F2, V1 (800B1D98)
	LIF       F0, 1024.0
	NOP
	MUL.S     F2, F2, F0
	NOP
	LIO       AT, CD5B5858
	MTC1      AT, F0
	NOP
	ADD.S     F2, F2, F0
	LW        A1, 0 (S0)
	TRUNC.W.S F4, F2
	MFC1      A2, F4
	JAL       ~Func:set_variable
	COPY      A0, S1
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_802410E0
{
	ADDIU     SP, SP, FFB8
	SW        S2, 18 (SP)
	COPY      S2, A0
	SW        RA, 30 (SP)
	SW        S7, 2C (SP)
	SW        S6, 28 (SP)
	SW        S5, 24 (SP)
	SW        S4, 20 (SP)
	SW        S3, 1C (SP)
	SW        S1, 14 (SP)
	SW        S0, 10 (SP)
	SDC1      F22, 40 (SP)
	SDC1      F20, 38 (SP)
	LW        S0, C (S2)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S2
	JAL       ~Func:get_variable
	COPY      S7, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S2
	JAL       ~Func:get_variable
	COPY      S6, V0
	COPY      A0, S2
	LIO       A1, *Array[1]
	LAW       A2, 80077410
	LW        S4, 0 (S0)
	SLL       V1, A2, 2
	ADDU      V1, V1, A2
	SLL       V1, V1, 2
	SUBU      V1, V1, A2
	SLL       A2, V1, 3
	ADDU      V1, V1, A2
	SLL       V1, V1, 3
	LTF       F0, V1 (800B1DEC)
	LW        S5, 4 (S0)
	TRUNC.W.S F4, F0
	MFC1      S1, F4
	JAL       ~Func:get_variable
	COPY      S3, V0
	MTC1      S1, F22
	NOP
	CVT.S.W   F22, F22
	MOV.S     F12, F22
	JAL       ~Func:cos_deg
	COPY      S0, V0
	MTC1      S3, F20
	NOP
	CVT.S.W   F20, F20
	MUL.S     F0, F20, F0
	NOP
	COPY      A0, S2
	MTC1      S0, F2
	NOP
	CVT.S.W   F2, F2
	SUB.S     F2, F2, F0
	LUI       A1, F4AC
	TRUNC.W.S F4, F2
	MFC1      S0, F4
	JAL       ~Func:get_variable
	ORI       A1, A1, D483
	MOV.S     F12, F22
	JAL       ~Func:sin_deg
	COPY      S1, V0
	MUL.S     F20, F20, F0
	NOP
	COPY      A0, S2
	MTC1      S1, F0
	NOP
	CVT.S.W   F0, F0
	SUB.S     F0, F0, F20
	COPY      A1, S4
	SUBU      A2, S0, S7
	TRUNC.W.S F4, F0
	MFC1      S0, F4
	JAL       ~Func:set_variable
	SUBU      S0, S0, S6
	COPY      A0, S2
	COPY      A1, S5
	JAL       ~Func:set_variable
	COPY      A2, S0
	LW        RA, 30 (SP)
	LW        S7, 2C (SP)
	LW        S6, 28 (SP)
	LW        S5, 24 (SP)
	LW        S4, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F22, 40 (SP)
	LDC1      F20, 38 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 48
}

#new:Function $Function_8024127C
{
	LIA       V1, 8010EFC8
	BEQ       A1, R0, .o14
	ADDIU     V0, R0, 3C
	SW        V0, 70 (A0)
	.o14
	LWC1      F2, 80 (V1)
	LIF       F0, 30.0
	NOP
	ADD.S     F0, F2, F0
	LIF       F2, 360.0
	NOP
	C.LE.S    F2, F0
	NOP
	BC1F      .o4C
	SWC1      F0, 80 (V1)
	SUB.S     F0, F0, F2
	SWC1      F0, 80 (V1)
	.o4C
	LW        V0, 70 (A0)
	ADDIU     V0, V0, FFFF
	SW        V0, 70 (A0)
	SRA       V0, V0, 1F
	JR        RA
	ANDI      V0, V0, 2
}

#new:Function $Function_802412E0
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        S0, 10 (SP)
	COPY      S0, A1
	SW        RA, 18 (SP)
	JAL       ~Func:get_npc_unsafe
	ADDIU     A0, R0, FFFC
	BEQ       S0, R0, .o30
	COPY      V1, V0
	ADDIU     V0, R0, 3C
	SW        V0, 70 (S1)
	.o30
	LWC1      F2, C (V1)
	LIF       F0, 30.0
	NOP
	ADD.S     F0, F2, F0
	LIF       F2, 360.0
	NOP
	C.LE.S    F2, F0
	NOP
	BC1F      .o68
	SWC1      F0, C (V1)
	SUB.S     F0, F0, F2
	SWC1      F0, C (V1)
	.o68
	LW        V1, 70 (S1)
	ADDIU     V1, V1, FFFF
	SRA       V0, V1, 1F
	SW        V1, 70 (S1)
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ANDI      V0, V0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80241370
{
	ADDIU     SP, SP, FFD8
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        S0, 10 (SP)
	COPY      S0, A1
	SW        RA, 1C (SP)
	SW        S2, 18 (SP)
	SDC1      F20, 20 (SP)
	JAL       ~Func:get_npc_unsafe
	ADDIU     A0, R0, FFFC
	BEQ       S0, R0, .o88
	COPY      S2, V0
	COPY      A0, S1
	LIO       A1, *Var[0]
	JAL       ~Func:get_float_variable
	RESERVED
	COPY      A0, S1
	LUI       A1, FE36
	LIF       F20, 60.0
	ORI       A1, A1, 3C85
	DIV.S     F0, F0, F20
	JAL       ~Func:get_float_variable
	SWC1      F0, 74 (S1)
	COPY      A0, S1
	LIO       A1, *Var[1]
	DIV.S     F0, F0, F20
	JAL       ~Func:get_float_variable
	SWC1      F0, 78 (S1)
	DIV.S     F0, F0, F20
	ADDIU     V0, R0, 3C
	SWC1      F0, 7C (S1)
	SW        V0, 70 (S1)
	.o88
	LWC1      F0, 38 (S2)
	LWC1      F2, 74 (S1)
	ADD.S     F0, F0, F2
	SWC1      F0, 38 (S2)
	LWC1      F0, 3C (S2)
	LWC1      F2, 78 (S1)
	ADD.S     F0, F0, F2
	SWC1      F0, 3C (S2)
	LWC1      F0, 40 (S2)
	LWC1      F2, 7C (S1)
	ADD.S     F0, F0, F2
	SWC1      F0, 40 (S2)
	LW        V1, 70 (S1)
	ADDIU     V1, V1, FFFF
	SLTIU     V0, V1, 1
	SW        V1, 70 (S1)
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F20, 20 (SP)
	SLL       V0, V0, 1
	JR        RA
	ADDIU     SP, SP, 28
}

% Origin: HEURISTIC
#new:Function $Function_80241458
{
	ADDIU     SP, SP, FFE8
	LAW       A1, $End[18]
	SW        RA, 10 (SP)
	JAL       ~Func:get_variable
	CLEAR     A0
	COPY      V1, V0
	ADDIU     V0, R0, 1
	BNE       V1, V0, .o3C
	ADDIU     V0, R0, 2
	MTC1      R0, F0
	NOP
	MFC1      A1, F0
	BEQ       R0, R0, .o54
	CLEAR     A0
	.o3C
	BNE       V1, V0, .o60
	ADDIU     A0, R0, 1
	MTC1      R0, F0
	NOP
	MFC1      A1, F0
	NOP
	.o54
	COPY      A2, A1
	JAL       80071690
	COPY      A3, A1
	.o60
	LW        RA, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_802414C4
{
	ADDIU     SP, SP, FFE8
	LIA       A1, $Function_80241458
	SW        RA, 10 (SP)
	JAL       8012323C
	CLEAR     A0
	LW        RA, 10 (SP)
	SAW       V0, $End[0]
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
#new:Function $Function_802414F4
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	JAL       ~Func:get_npc_safe
	COPY      A0, V0
	BEQ       V0, R0, .o44
	NOP
	LW        A1, 0 (S0)
	LH        A2, A8 (V0)
	JAL       ~Func:set_variable
	COPY      A0, S1
	.o44
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80241550
{
	ADDIU     SP, SP, FFB0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 24 (SP)
	SW        S4, 20 (SP)
	SW        S3, 1C (SP)
	SW        S2, 18 (SP)
	SW        S0, 10 (SP)
	SDC1      F28, 48 (SP)
	SDC1      F26, 40 (SP)
	SDC1      F24, 38 (SP)
	SDC1      F22, 30 (SP)
	SDC1      F20, 28 (SP)
	LW        S0, C (S1)
	LW        S3, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A1, S3
	MTC1      V0, F28
	NOP
	CVT.S.W   F28, F28
	LW        S4, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      A1, S4
	MTC1      V0, F26
	NOP
	CVT.S.W   F26, F26
	LW        S0, 0 (S0)
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      A1, S0
	MTC1      V0, F24
	NOP
	CVT.S.W   F24, F24
	LIA       S2, 8010EFC8
	LAW       V1, 80077410
	LWC1      F2, A8 (S2)
	MTC1      R0, F0
	SLL       V0, V1, 2
	ADDU      V0, V0, V1
	SLL       V0, V0, 2
	SUBU      V0, V0, V1
	SLL       V1, V0, 3
	ADDU      V0, V0, V1
	SLL       V0, V0, 3
	C.EQ.S    F2, F0
	LTF       F22, V0 (800B1DEC)
	BC1F      .oEC
	NOP
	LIF       F0, 100.0
	BEQ       R0, R0, .oFC
	SUB.S     F22, F22, F0
	.oEC
	LIF       F0, 100.0
	NOP
	ADD.S     F22, F22, F0
	.oFC
	JAL       ~Func:clamp_angle
	MOV.S     F12, F22
	MOV.S     F22, F0
	LIF       F20, 15.0
	JAL       ~Func:sin_deg
	MOV.S     F12, F22
	MUL.S     F0, F0, F20
	NOP
	LH        V0, B0 (S2)
	LIF       F4, 0.5
	MTC1      V0, F2
	NOP
	CVT.S.W   F2, F2
	MUL.S     F2, F2, F4
	NOP
	ADD.S     F28, F28, F0
	ADD.S     F26, F26, F2
	JAL       ~Func:cos_deg
	MOV.S     F12, F22
	MUL.S     F0, F0, F20
	NOP
	COPY      A0, S1
	COPY      A1, S3
	TRUNC.W.S F6, F28
	MFC1      A2, F6
	JAL       ~Func:set_variable
	SUB.S     F24, F24, F0
	COPY      A0, S1
	TRUNC.W.S F6, F26
	MFC1      A2, F6
	JAL       ~Func:set_variable
	COPY      A1, S4
	COPY      A0, S1
	TRUNC.W.S F6, F24
	MFC1      A2, F6
	JAL       ~Func:set_variable
	COPY      A1, S0
	LW        RA, 24 (SP)
	LW        S4, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F28, 48 (SP)
	LDC1      F26, 40 (SP)
	LDC1      F24, 38 (SP)
	LDC1      F22, 30 (SP)
	LDC1      F20, 28 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 50
}

#new:Function $Function_80241720
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	BEQ       A1, R0, .o18
	LW        A2, C (A0)
	SAW       R0, $???_80246610
	.o18
	LIA       V1, $???_80246610
	LW        V0, 0 (V1)
	BNEL      V0, R0, .o34
	SW        R0, 0 (V1)
	BEQ       R0, R0, .o48
	CLEAR     V0
	.o34
	LW        A1, 0 (A2)
	LAW       A2, $???_80246614
	JAL       ~Func:set_variable
	RESERVED
	ADDIU     V0, R0, 2
	.o48
	LW        RA, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241774
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	SAW       V0, $???_80246614
	ADDIU     V0, R0, 2
	LW        RA, 10 (SP)
	ADDIU     V1, R0, 1
	SAW       V1, $???_80246610
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_802417AC
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	COPY      V1, V0
	BEQ       V1, R0, .o64
	CLEAR     A0
	LW        V0, 0 (V1)
	BEQL      V0, R0, .o50
	SLL       V0, A0, 2
	LIA       A1, $End[30]
	.o34
	ADDIU     V1, V1, 4
	ADDIU     A0, A0, 1
	SW        V0, 0 (A1)
	LW        V0, 0 (V1)
	BNE       V0, R0, .o34
	ADDIU     A1, A1, 4
	SLL       V0, A0, 2
	.o50
	STW       R0, V0 ($End[30])
	BEQ       R0, R0, .o8C
	NOP
	.o64
	LIA       V1, $End[30]
	COPY      A1, V1
	.o70
	ADDIU     V0, A0, 10
	SW        V0, 0 (V1)
	ADDIU     V1, V1, 4
	ADDIU     A0, A0, 1
	SLTI      V0, A0, 70
	BNE       V0, R0, .o70
	SW        R0, 1C0 (A1)
	.o8C
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241848
{
	CLEAR     A2
	COPY      A1, A2
	LIA       T0, 800878E0
	LIA       A3, 8008F060
	LIA       A0, 8010F290
	.o20
	LH        V0, 208 (A0)
	BEQ       V0, R0, .o50
	ADDIU     A1, A1, 1
	SLL       V0, V0, 5
	ADDU      V0, V0, T0
	LBU       V1, 1A (V0)
	SLL       V0, V1, 2
	ADDU      V0, V0, V1
	SLL       V0, V0, 2
	ADDU      V0, V0, A3
	LB        V0, 12 (V0)
	ADDU      A2, A2, V0
	.o50
	SLTI      V0, A1, 40
	BNE       V0, R0, .o20
	ADDIU     A0, A0, 2
	JR        RA
	COPY      V0, A2
}

#new:Function $Function_802418AC
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 1C (SP)
	SW        S2, 18 (SP)
	SW        S1, 14 (SP)
	LW        V0, C (S0)
	JAL       $Function_80241848
	LW        S2, 0 (V0)
	LIA       S1, 8010F290
	LB        V1, 8 (S1)
	SLT       V1, V1, V0
	BNE       V1, R0, .o4C
	ADDIU     V1, R0, 3F
	COPY      A0, S0
	COPY      A1, S2
	BEQ       R0, R0, .o74
	CLEAR     A2
	.o4C
	ADDIU     V0, S1, 286
	.o50
	SH        R0, 0 (V0)
	ADDIU     V1, V1, FFFF
	BGEZ      V1, .o50
	ADDIU     V0, V0, FFFE
	JAL       ~Func:enforce_hpfp_limits
	NOP
	COPY      A0, S0
	COPY      A1, S2
	ADDIU     A2, R0, 1
	.o74
	JAL       ~Func:set_variable
	NOP
	ADDIU     V0, R0, 2
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80241944
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:set_max_SP
	ADDIU     A0, R0, 4
	LIA       V0, 8010F290
	LBU       V1, 3 (V0)
	LBU       A0, 6 (V0)
	SB        V1, 2 (V0)
	JAL       ~Func:sync_status_menu
	SB        A0, 5 (V0)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241980
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	LAH       A2, 8015A552
	JAL       ~Func:set_variable
	LW        A1, 0 (V0)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_802419AC
{
	LAB       V1, 8010EBB3
	ADDIU     V0, R0, 9
	BNEL      V1, V0, .o1C
	SW        R0, 84 (A0)
	ADDIU     V0, R0, 1
	SW        V0, 84 (A0)
	.o1C
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_802419D0
{
	LAH       V0, 8010F29C
	SW        V0, 84 (A0)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_802419E4
{
	ADDIU     SP, SP, FFD8
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        S1, 14 (SP)
	LIA       S1, 8010F290
	SW        RA, 20 (SP)
	SW        S3, 1C (SP)
	SW        S2, 18 (SP)
	LW        V0, C (S0)
	LB        A2, 4 (S1)
	LW        A1, 0 (V0)
	ADDIU     V0, V0, 4
	LW        S2, 0 (V0)
	JAL       ~Func:set_variable
	LW        S3, 4 (V0)
	COPY      A0, S0
	LB        A2, 7 (S1)
	JAL       ~Func:set_variable
	COPY      A1, S2
	COPY      A0, S0
	LB        A2, 8 (S1)
	JAL       ~Func:set_variable
	COPY      A1, S3
	LW        RA, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 28
}

#new:Function $Function_80241A64
{
	CLEAR     T0
	COPY      A3, T0
	LIA       A1, 8010F290
	LW        V1, AC (A0)
	ADDIU     V0, R0, 1
	BEQ       V1, V0, .o58
	COPY      A2, T0
	SLTI      V0, V1, 2
	BEQ       V0, R0, .o3C
	ADDIU     V0, R0, 2
	BEQL      V1, R0, .o4C
	ADDIU     A2, R0, A
	BEQ       R0, R0, .o70
	NOP
	.o3C
	BEQL      V1, V0, .o68
	ADDIU     A2, R0, FFFB
	BEQ       R0, R0, .o70
	NOP
	.o4C
	ADDIU     A3, R0, FFFB
	BEQ       R0, R0, .o70
	ADDIU     T0, R0, FFFD
	.o58
	ADDIU     A2, R0, FFFB
	ADDIU     A3, R0, A
	BEQ       R0, R0, .o70
	ADDIU     T0, R0, FFFD
	.o68
	COPY      A3, A2
	ADDIU     T0, R0, 6
	.o70
	LBU       V1, 4 (A1)
	LBU       V0, 3 (A1)
	ADDU      V1, V1, A2
	ADDU      V0, V0, A2
	SB        V0, 3 (A1)
	SLL       V0, V0, 18
	SRA       V0, V0, 18
	SLTI      V0, V0, 4C
	BNE       V0, R0, .oA0
	SB        V1, 4 (A1)
	ADDIU     V0, R0, 4B
	SB        V0, 3 (A1)
	.oA0
	LB        V1, 2 (A1)
	LB        V0, 3 (A1)
	SLT       V0, V0, V1
	LBU       V1, 3 (A1)
	BNEL      V0, R0, .oB8
	SB        V1, 2 (A1)
	.oB8
	LBU       V1, 7 (A1)
	LBU       V0, 6 (A1)
	ADDU      V1, V1, A3
	ADDU      V0, V0, A3
	SB        V0, 6 (A1)
	SLL       V0, V0, 18
	SRA       V0, V0, 18
	SLTI      V0, V0, 4C
	BNE       V0, R0, .oE8
	SB        V1, 7 (A1)
	ADDIU     V0, R0, 4B
	SB        V0, 6 (A1)
	.oE8
	LB        V1, 5 (A1)
	LB        V0, 6 (A1)
	SLT       V0, V0, V1
	LBU       V1, 6 (A1)
	BNEL      V0, R0, .o100
	SB        V1, 5 (A1)
	.o100
	LBU       V0, 8 (A1)
	ADDU      V0, V0, T0
	SB        V0, 8 (A1)
	SLL       V0, V0, 18
	SRA       V0, V0, 18
	SLTI      V0, V0, 1F
	BNE       V0, R0, .o124
	ADDIU     V0, R0, 1E
	SB        V0, 8 (A1)
	.o124
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_80241B90
{
	LIA       V1, 8010F290
	LB        V0, 3 (V1)
	SW        V0, 84 (A0)
	LB        V0, 6 (V1)
	SW        V0, 88 (A0)
	LB        V0, 8 (V1)
	SW        V0, 8C (A0)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_80241BB8
{
	ADDIU     SP, SP, FFD8
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 18 (SP)
	SW        S0, 10 (SP)
	SDC1      F20, 20 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_float_variable
	COPY      S0, V0
	COPY      A0, S1
	COPY      A1, S0
	JAL       802CDAC0
	MOV.S     F20, F0
	SWC1      F20, 7C (V0)
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F20, 20 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 28
}

#new:Function $Function_80241C20
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       800E9894
	NOP
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241C40
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       800E98C4
	NOP
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241C60
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       800E98C4
	NOP
	JAL       ~Func:open_status_menu_long
	NOP
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 80241C88 to 80241C90 (00001C88 to 00001C90)
00000000 00000000

#new:Function $Function_80241C90
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	COPY      S0, A0
	CLEAR     A0
	LIA       V1, 8010EFC8
	SW        RA, 14 (SP)
	LW        V0, 4 (V1)
	LIA       A1, $Function_80241D30
	ORI       V0, V0, 2000
	JAL       80123158
	SW        V0, 4 (V1)
	COPY      A0, S0
	LIO       A1, *MapVar[B]
	JAL       ~Func:set_variable
	COPY      A2, V0
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241CEC
{
	ADDIU     SP, SP, FFE8
	LUI       A1, FD05
	SW        RA, 10 (SP)
	JAL       ~Func:get_variable
	ORI       A1, A1, F8B
	COPY      A0, V0
	LIA       V0, 8010EFC8
	LW        V1, 4 (V0)
	ADDIU     A1, R0, DFFF
	AND       V1, V1, A1
	JAL       801235C0
	SW        V1, 4 (V0)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
#new:Function $Function_80241D30
{
	ADDIU     SP, SP, FFB8
	LAH       A0, 8009A634
	ADDIU     V0, SP, 30
	SW        V0, 10 (SP)
	ADDIU     V0, SP, 34
	SW        V0, 14 (SP)
	ADDIU     V0, SP, 38
	SW        S0, 40 (SP)
	LIA       S0, 8010EFC8
	SW        RA, 44 (SP)
	SW        V0, 18 (SP)
	LW        A1, 28 (S0)
	LW        A2, 2C (S0)
	JAL       ~Func:get_screen_coords
	LW        A3, 30 (S0)
	ADDIU     A0, SP, 20
	SW        S0, 28 (SP)
	LB        V1, BE (S0)
	LW        A1, 38 (SP)
	LIA       V0, $Function_80241DAC
	SW        V0, 2C (SP)
	SW        V1, 20 (SP)
	JAL       ~Func:queue_render_task
	SW        A1, 24 (SP)
	LW        RA, 44 (SP)
	LW        S0, 40 (SP)
	JR        RA
	ADDIU     SP, SP, 48
}

% Origin: HEURISTIC
#new:Function $Function_80241DAC
{
	ADDIU     SP, SP, FF48
	SW        S1, 9C (SP)
	COPY      S1, A0
	CLEAR     A0
	LUI       A1, FD05
	SW        RA, A0 (SP)
	SW        S0, 98 (SP)
	SDC1      F22, B0 (SP)
	SDC1      F20, A8 (SP)
	JAL       ~Func:get_float_variable
	ORI       A1, A1, F8A
	MTC1      R0, F2
	LIF       F22, 1.0
	ADDIU     A0, SP, 18
	SWC1      F2, 10 (SP)
	LW        A1, A8 (S1)
	MFC1      A2, F2
	MFC1      A3, F22
	JAL       ~Func:guRotateF
	MOV.S     F20, F0
	LAD       F0, $ConstDouble_8024F580
	CVT.D.S   F20, F20
	MUL.D     F20, F20, F0
	NOP
	ADDIU     S0, SP, 58
	CVT.S.D   F20, F20
	MFC1      A1, F20
	COPY      A0, S0
	COPY      A2, A1
	JAL       ~Func:guScaleF
	COPY      A3, A1
	ADDIU     A0, SP, 18
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, A0
	LW        A1, 28 (S1)
	LW        A2, 2C (S1)
	LW        A3, 30 (S1)
	JAL       ~Func:guTranslateF
	COPY      A0, S0
	ADDIU     A0, SP, 18
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, A0
	LW        A1, A4 (S1)
	MFC1      A2, F22
	JAL       802DDA8C
	CLEAR     A0
	CLEAR     A0
	COPY      A1, A0
	COPY      A2, A0
	COPY      A3, A0
	SH        V0, BC (S1)
	ADDIU     V0, SP, 18
	JAL       ~Func:render_sprite
	SW        V0, 10 (SP)
	LW        RA, A0 (SP)
	LW        S1, 9C (SP)
	LW        S0, 98 (SP)
	LDC1      F22, B0 (SP)
	LDC1      F20, A8 (SP)
	JR        RA
	ADDIU     SP, SP, B8
}

#new:Function $Function_80241EB0
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:get_entity_by_index
	LW        A0, 84 (A0)
	COPY      V1, V0
	LW        A0, 0 (V1)
	LUI       A1, 10
	OR        A0, A0, A1
	SW        A0, 0 (V1)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 80241EE4 to 80241EF0 (00001EE4 to 00001EF0)
00000000 00000000 00000000

#new:Function $Function_80241EF0
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        S2, 18 (SP)
	SW        RA, 1C (SP)
	SW        S1, 14 (SP)
	LW        V0, C (S0)
	BEQ       A1, R0, .o40
	CLEAR     S2
	LW        A1, 0 (V0)
	JAL       ~Func:get_variable
	NOP
	SW        V0, 70 (S0)
	SW        R0, 74 (S0)
	LW        V0, 14 (V0)
	SW        V0, 78 (S0)
	.o40
	LW        A1, 78 (S0)
	LW        S1, 70 (S0)
	JAL       ~Func:get_variable
	COPY      A0, S0
	BEQ       V0, R0, .o6C
	ADDIU     V1, R0, 2
	LW        V0, 74 (S0)
	BEQ       V0, V1, .oFC
	NOP
	BEQ       R0, R0, .oF8
	SW        V1, 74 (S0)
	.o6C
	LAW       V0, 800F7B30
	LW        A2, 0 (S1)
	LW        A3, 4 (S1)
	LWC1      F12, 28 (V0)
	JAL       ~Func:dist2D
	LWC1      F14, 30 (V0)
	LW        V1, 74 (S0)
	ADDIU     A0, R0, 1
	BEQ       V1, A0, .oE0
	MOV.S     F2, F0
	SLTI      V0, V1, 2
	BEQL      V0, R0, .oB4
	ADDIU     V0, R0, 2
	BEQ       V1, R0, .oC4
	NOP
	BEQ       R0, R0, .oFC
	NOP
	.oB4
	BEQL      V1, V0, .oF8
	SW        A0, 74 (S0)
	BEQ       R0, R0, .oFC
	NOP
	.oC4
	LWC1      F0, 8 (S1)
	C.LT.S    F2, F0
	NOP
	BC1F      .oFC
	NOP
	BEQ       R0, R0, .oF8
	SW        A0, 74 (S0)
	.oE0
	LWC1      F0, C (S1)
	C.LT.S    F0, F2
	NOP
	BC1F      .oFC
	NOP
	SW        R0, 74 (S0)
	.oF8
	ADDIU     S2, R0, 1
	.oFC
	BEQ       S2, R0, .o114
	NOP
	LW        A1, 10 (S1)
	LH        A2, 76 (S0)
	JAL       8014AA54
	CLEAR     A0
	.o114
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 20
}

#new:EntryList $EntryList
{
    ~Vec4f:Entry0 %  610.0    0.0    0.0  280.0
    ~Vec4f:Entry1 % -420.0    0.0  430.0   35.0
    ~Vec4f:Entry2 % -490.0   20.0 -150.0  180.0
    ~Vec4f:Entry3 % -420.0   20.0  -95.0    0.0
    ~Vec4f:Entry4 %    0.0 -100.0    0.0    0.0
    ~Vec4f:Entry5 % -420.0   20.0  235.0  270.0
}

#new:Header $Header
{
    [MainScript]  $Script_Main
    [EntryList]   $EntryList
    [EntryCount]  00000006
    [Background]  80200000
    [MapTattle]   00190004
}

#new:Script $Script_802420C0
{
    Call  GetEntryID    ( *Var[0] )
    If  *Var[0]  !=  ~Entry:Entry4
        Switch  *StoryProgress
            Case  FFFFFFF3  to  00000005
                Call  SetMusicTrack ( 00000000 .Song:ShyGuyInvasion 00000000 00000008 )
            Default
                Exec  $Script_8024F4E8
        EndSwitch
        Thread
            Wait  60`
            Call  StopSound ( 80000017 )
        EndThread
    EndIf
    Return
    End
}

PADDING: 80242178 to 80242180 (00002178 to 00002180)
00000000 00000000

#new:Script $Script_ExitWalk_80242180
{
    SetGroup  0000001B
    Call  UseExitHeading    ( 0000003C ~Entry:Entry1 )
    Exec  ExitWalk
    Call  GotoMap   ( $ASCII_8024F558 00000000 ) % mac_05
    Wait  100`
    Return
    End
}

#new:Script $Script_ExitWalk_802421DC
{
    SetGroup  0000001B
    Call  UseExitHeading    ( 0000003C ~Entry:Entry0 )
    Exec  ExitWalk
    Call  GotoMap   ( $ASCII_8024F560 00000000 ) % mac_02
    Wait  100`
    Return
    End
}

#new:Script $Script_80242238
{
    Bind  $Script_ExitWalk_80242180 .Trigger:FloorAbove ~Collider:deilisw 00000001 00000000
    Bind  $Script_ExitWalk_802421DC .Trigger:FloorAbove ~Collider:deilie 00000001 00000000
    Return
    End
}

#new:Script $Script_EnterWalk_80242280
{
    Call  GetEntryID    ( *Var[0] )
    Switch  *Var[0]
        Case  ==  ~Entry:Entry2
            Exec  $Script_80242238
            Exec  $Script_8024ECDC
            Thread
                Wait  20`
                Set   *MapFlag[0A]  .True
            EndThread
        Case  ==  ~Entry:Entry3
            Exec  $Script_80242238
            Call  SetPlayerPos  ( FFFFFE5C 00000014 FFFFFFA1 )
            Call  SetNpcPos     ( .Npc:Partner FFFFFE5C 00000014 FFFFFFBF )
            Thread
                Wait  20`
                Set   *MapFlag[0A]  .True
            EndThread
        Case  ==  ~Entry:Entry4
            Call  $Function_80240194 ( )
            Call  $Function_80240050    ( 00000000 00000000 00000000 00000000 00000000 00000000 00000000 000003B6 000003E8 )
            Exec  $Script_8024DED0
        Case  ==  ~Entry:Entry5
            Exec  $Script_80242238
        Default
            Set   *Var[0]  $Script_80242238
            Exec  EnterWalk
    EndSwitch
    Return
    End
}

#new:Script_Main $Script_Main
{
    Set   *WorldMapLocation  .Location:ToadTown
    Call  SetSpriteShading  ( FFFFFFFF )
    Call  SetCamPerspective ( .Cam:Default 00000003 00000019 00000010 00001000 )
    Call  SetCamBGColor     ( .Cam:Default 00000000 00000000 00000000 )
    Call  SetCamEnabled     ( .Cam:Default .True )
    Call  SetCamLeadPlayer  ( .Cam:Default .False )
    Call  GetEntryID        ( *Var[0] )
    If  *Var[0]  ==  ~Entry:Entry4
        Call  MakeNpcs  ( 00000000 $NpcGroupList_8024E824 )
    Else
        Switch  *StoryProgress
            Case  <  FFFFFFF3
                Call  MakeNpcs  ( 00000000 $NpcGroupList_8024DC88 )
            Case  <  00000006
                Call  MakeNpcs  ( 00000000 $NpcGroupList_8024DCAC )
            Case  ==  00000006
                Call  MakeNpcs  ( 00000000 $NpcGroupList_8024DCD0 )
            Case  <  00000029
                Call  MakeNpcs  ( 00000000 $NpcGroupList_8024DC88 )
            Case  <  00000058
                Call  MakeNpcs  ( 00000000 $NpcGroupList_8024DCF4 )
            Default
                Call  MakeNpcs  ( 00000000 $NpcGroupList_8024DC88 )
        EndSwitch
    EndIf
    Set   *AreaFlag[031]  .False
    ExecWait  $Script_MakeEntities
    Exec  $Script_80242E88
    Exec  $Script_80243B24
    Exec  $Script_80243D9C
    ExecWait  $Script_80246C58
    If  *StoryProgress  ==  00000006
        Call  SetMusicTrack ( 00000000 .Song:StarSpiritTheme 00000001 00000008 )
    Else
        Exec  $Script_802420C0
    EndIf
    Exec  $Script_EnterWalk_80242280
    Call  GetEntryID    ( *Var[0] )
    If  *Var[0]  ==  ~Entry:Entry5
        Wait  65`
    Else
        Wait  1`
    EndIf
    Set   *Flag_Rowf_Badges_Chosen  .False
    Return
    End
}

PADDING: 802426AC to 802426B0 (000026AC to 000026B0)
00000000

#new:Script $Script_OpenDoor_802426B0
{
    Call  RotateModel   ( ~Model:msdoor *Var[0] 00000000 FFFFFFFF 00000000 )
    Return
    End
}

#new:Script $Script_MoveWalls_802426E0
{
    Set   *Var[1]  *Var[0]
    Call  RotateModel   ( ~Model:my1 *Var[1] FFFFFFFF 00000000 00000000 )
    Call  RotateModel   ( ~Model:my2 *Var[1] FFFFFFFF 00000000 00000000 )
    Call  RotateModel   ( ~Model:my3 *Var[1] FFFFFFFF 00000000 00000000 )
    Call  RotateModel   ( ~Model:my4 *Var[1] FFFFFFFF 00000000 00000000 )
    Call  RotateModel   ( ~Model:my5 *Var[1] FFFFFFFF 00000000 00000000 )
    Call  RotateModel   ( ~Model:mk1 *Var[1] 00000001 00000000 00000000 )
    Call  RotateModel   ( ~Model:mk2 *Var[1] 00000001 00000000 00000000 )
    Call  RotateModel   ( ~Model:mk3 *Var[1] 00000001 00000000 00000000 )
    Return
    End
}

#new:Script $Script_ToggleVis_80242800
{
    Switch  *Var[0]
        Case  ==  00000000
            Call  EnableGroup   ( ~Model:mise_in .True )
            Exec  $Script_80248B08
        Case  ==  00000003
            Call  EnableGroup   ( ~Model:mise_in .False )
    EndSwitch
    Return
    End
}

#new:Script $Script_OpenDoor_80242870
{
    Call  RotateModel   ( ~Model:rndoor *Var[0] 00000000 FFFFFFFF 00000000 )
    Return
    End
}

#new:Script $Script_MoveWalls_802428A0
{
    Set   *Var[1]  *Var[0]
    Call  RotateModel   ( ~Model:rnk1 *Var[1] 00000001 00000000 00000000 )
    Call  RotateModel   ( ~Model:rnk2 *Var[1] 00000001 00000000 00000000 )
    Call  RotateModel   ( ~Model:rnk3 *Var[1] 00000001 00000000 00000000 )
    Call  RotateModel   ( ~Model:rnk4 *Var[1] 00000001 00000000 00000000 )
    Set   *Var[1]  *Var[0]
    Call  RotateModel   ( ~Model:rnk5 *Var[1] 00000000 00000001 00000000 )
    Call  RotateModel   ( ~Model:rnk6 *Var[1] 00000000 00000001 00000000 )
    Return
    End
}

#new:Script $Script_DropDoor_80242990
{
    Call  RotateModel   ( ~Model:rndoor *Var[0] 00000001 00000000 00000000 )
    Return
    End
}

#new:Script $Script_ToggleVis_802429C0
{
    Switch  *Var[0]
        Case  ==  00000000
            Call  EnableGroup   ( ~Model:rin_in .True )
        Case  ==  00000003
            Call  EnableGroup   ( ~Model:rin_in .False )
    EndSwitch
    Return
    End
}

#new:Script $Script_OpenDoor_80242A24
{
    Call  RotateModel   ( ~Model:skd *Var[0] 00000000 FFFFFFFF 00000000 )
    Return
    End
}

#new:Script $Script_MoveWalls_80242A54
{
    Set   *Var[1]  *Var[0]
    MulF  *Var[1]  *Fixed[2.78125]
    Call  TranslateModel    ( ~Model:skk1 00000000 00000000 *Var[1] )
    Call  TranslateModel    ( ~Model:skk2 00000000 00000000 *Var[1] )
    Call  TranslateModel    ( ~Model:skk3 00000000 00000000 *Var[1] )
    Call  TranslateModel    ( ~Model:skk4 00000000 00000000 *Var[1] )
    Call  TranslateModel    ( ~Model:skk5 00000000 00000000 *Var[1] )
    Call  TranslateModel    ( ~Model:skk6 00000000 00000000 *Var[1] )
    Call  TranslateModel    ( ~Model:skk7 00000000 00000000 *Var[1] )
    Return
    End
}

#new:Script $Script_DropDoor_80242B48
{
    Call  RotateModel   ( ~Model:skd *Var[0] 00000000 00000000 FFFFFFFF )
    Return
    End
}

#new:Script $Script_ToggleVis_80242B78
{
    Switch  *Var[0]
        Case  ==  00000000
    EndSwitch
    Return
    End
}

#new:Script $Script_OpenDoor_80242BA8
{
    Call  RotateModel   ( ~Model:hh_door *Var[0] 00000000 FFFFFFFF 00000000 )
    Return
    End
}

#new:Script $Script_MoveWalls_80242BD8
{
    Set   *Var[1]  *Var[0]
    Call  RotateModel   ( ~Model:hk1 *Var[1] 00000000 00000000 FFFFFFFF )
    Call  RotateModel   ( ~Model:hk2 *Var[1] 00000000 00000000 FFFFFFFF )
    Call  RotateModel   ( ~Model:hk3 *Var[1] 00000000 00000000 FFFFFFFF )
    Return
    End
}

#new:Script $Script_ToggleVis_80242C58
{
    Switch  *Var[0]
        Case  ==  00000000
            Call  EnableGroup   ( ~Model:heiho_in .True )
            Set   *MapFlag[0A]  .True
        Case  ==  00000001
            Exec  $Script_80248798
        Case  ==  00000003
            Call  EnableGroup   ( ~Model:heiho_in .False )
            Call  EnableGroup   ( ~Model:hi_soto .True )
            Set   *MapFlag[0A]  .False
    EndSwitch
    Return
    End
}

#new:Script $Script_OpenDoor_80242D08
{
    Call  RotateModel   ( ~Model:hkai1 *Var[0] 00000000 FFFFFFFF 00000000 )
    Call  RotateModel   ( ~Model:hkai2 *Var[0] 00000000 FFFFFFFF 00000000 )
    Return
    End
}

#new:Script $Script_MoveWalls_80242D58
{
    Set   *Var[1]  *Var[0]
    Call  RotateModel   ( ~Model:hk4 *Var[1] 00000000 00000000 FFFFFFFF )
    Call  RotateModel   ( ~Model:hk5 *Var[1] 00000000 00000000 FFFFFFFF )
    Call  RotateModel   ( ~Model:hk6 *Var[1] 00000000 00000000 FFFFFFFF )
    Return
    End
}

#new:Script $Script_ToggleVis_80242DD8
{
    Return
    End
}

#new:NpcList $NpcList_80242DE8
{
    00000000 0000000F FFFFFFFF
}

#new:NpcList $NpcList_80242DF4
{
    00000001 00000002 FFFFFFFF
}

#new:NpcList $NpcList_80242E00
{
    0000000E FFFFFFFF
}

#new:Script $Script_80242E08
{
    Call  MakeDoorAdvanced  ( 00000002 $Script_OpenDoor_80242D08 $Script_MoveWalls_80242D58 00000000 $Script_ToggleVis_80242DD8 ~Collider:deilit_hk ~Collider:deilit_hku ~Model:o13 00000000 )
    Return
    End
}

#new:Script $Script_80242E48
{
    Call  MakeDoorAdvanced  ( 00002002 $Script_OpenDoor_80242A24 $Script_MoveWalls_80242A54 $Script_DropDoor_80242B48 $Script_ToggleVis_80242B78 ~Collider:deilit_sku ~Collider:deilit_sk ~Model:o13 00000000 )
    Return
    End
}

#new:Script $Script_80242E88
{
    Call  MakeDoorAdvanced  ( 00001002 $Script_OpenDoor_802426B0 $Script_MoveWalls_802426E0 00000000 $Script_ToggleVis_80242800 ~Collider:deilit_m ~Collider:deilit_mu ~Model:mise $NpcList_80242DE8 )
    Call  MakeDoorAdvanced  ( 00000002 $Script_OpenDoor_80242870 $Script_MoveWalls_802428A0 $Script_DropDoor_80242990 $Script_ToggleVis_802429C0 ~Collider:deilit_r ~Collider:deilit_ru ~Model:rinjin $NpcList_80242DF4 )
    Call  MakeDoorAdvanced  ( 00000002 $Script_OpenDoor_80242BA8 $Script_MoveWalls_80242BD8 00000000 $Script_ToggleVis_80242C58 ~Collider:deilit_h ~Collider:deilit_hu ~Model:heiho_house $NpcList_80242E00 )
    If  *StoryProgress  >=  FFFFFFF9
        ExecWait  $Script_80242E48
    EndIf
    If  *StoryProgress  >=  FFFFFFF6
        ExecWait  $Script_80242E08
    EndIf
    Call  GetEntryID    ( *Var[0] )
    Switch  *Var[0]
        Case  ~Entry:Entry2  to  ~Entry:Entry3
            Call  SetGroupEnabled   ( ~Model:heiho_in 00000001 )
            Call  $Function_802401C0 ( )
            Set   *Var[0]  0000005A
            Call  RotateModel   ( ~Model:hk1 *Var[0] 00000000 00000000 FFFFFFFF )
            Call  RotateModel   ( ~Model:hk2 *Var[0] 00000000 00000000 FFFFFFFF )
            Call  RotateModel   ( ~Model:hk3 *Var[0] 00000000 00000000 FFFFFFFF )
            Call  RotateModel   ( ~Model:hk4 *Var[0] 00000000 00000000 FFFFFFFF )
            Call  RotateModel   ( ~Model:hk5 *Var[0] 00000000 00000000 FFFFFFFF )
            Call  RotateModel   ( ~Model:hk6 *Var[0] 00000000 00000000 FFFFFFFF )
        Default
            Set   *Var[0]  00000003
            Exec  $Script_ToggleVis_80242800
            Exec  $Script_ToggleVis_802429C0
    EndSwitch
    Return
    End
}

PADDING: 802430C4 to 802430D0 (000030C4 to 000030D0)
00000000 00000000 00000000

% Origin: HEURISTIC
#new:Script $Script_SearchBush_802430D0
{
    UseIntBuffer  *Var[0]
    Get4Int  *Var[1] *Var[2] *Var[3] *Var[4]
    Call  GetPlayerPos  ( *Var[5] *Var[F] *Var[7] )
    Thread
        Set   *Flag[00]  .False
        If  *Var[1]  !=  00000000
            Loop  00000005
                UseIntBuffer  *Var[1]
                Get1Int  *Var[2]
                Loop  *Var[2]
                    Get1Int  *Var[3]
                    Call  $Function_80240290    ( *Var[3] *Fixed[0.1] 00000001 *Var[F] 00000000 )
                    If  *Flag[00]  ==  .False
                        Set   *Flag[00]  .True
                        Call  PlaySoundAtModel  ( *Var[3] .Sound:SearchBush 00000000 )
                    EndIf
                EndLoop
                Wait  1`
                UseIntBuffer  *Var[1]
                Get1Int  *Var[2]
                Loop  *Var[2]
                    Get1Int  *Var[3]
                    Call  $Function_80240290    ( *Var[3] *Fixed[0.1] FFFFFFFF *Var[F] 00000000 )
                EndLoop
                Wait  1`
            EndLoop
            UseIntBuffer  *Var[1]
            Get1Int  *Var[2]
            Loop  *Var[2]
                Get1Int  *Var[3]
                Call  TranslateModel    ( *Var[3] 00000000 00000000 00000000 )
            EndLoop
            Wait  1`
        EndIf
    EndThread
    Thread
        If  *Var[2]  !=  00000000
            UseIntBuffer  *Var[2]
            Get1Int  *Var[3]
            Loop  *Var[3]
                Get1Int  *Var[4]
                Get3Int  *Var[5] *Var[6] *Var[7]
                Get3Int  *Var[8] *Var[9] *Var[A]
                If  *Var[A]  ==  00000000
                    Call  DropItemEntity    ( *Var[4] *Var[5] *Var[6] *Var[7] *Var[8] *Var[9] )
                Else
                    Call  GetValueByRef ( *Var[A] *Var[B] )
                    If  *Var[B]  ==  00000000
                        Call  SetValueByRef     ( *Var[A] 00000001 )
                        Call  DropItemEntity    ( *Var[4] *Var[5] *Var[6] *Var[7] *Var[8] *Var[9] )
                    EndIf
                EndIf
            EndLoop
        EndIf
    EndThread
    Wait  15`
    If  *Var[4]  !=  00000000
        ExecWait  *Var[4]
    EndIf
    Return
    End
}

#new:Script $Script_ShakeTree_80243430
{
    SetTimescale  *Fixed[2.0]
    UseIntBuffer  *Var[0]
    Get4Int  *Var[1] *Var[2] *Var[3] *Var[4]
    Get1Int  *Var[5]
    Call  GetPlayerPos  ( *Var[6] *Var[F] *Var[8] )
    Call  PlaySound     ( 00000165 )
    Call  PlaySound     ( 00000166 )
    Thread
        Set   *Flag[00]  .False
        If  *Var[1]  !=  00000000
            Wait  1`
            Loop  00000005
                UseIntBuffer  *Var[1]
                Get1Int  *Var[2]
                Loop  *Var[2]
                    Get1Int  *Var[3]
                    Call  $Function_80240290    ( *Var[3] *Fixed[0.1] *Fixed[0.2] *Var[F] 00000000 )
                    If  *Flag[00]  ==  .False
                        Set   *Flag[00]  .True
                        Call  PlaySoundAtModel  ( *Var[3] 00000166 00000000 )
                    EndIf
                EndLoop
                Wait  1`
                UseIntBuffer  *Var[1]
                Get1Int  *Var[2]
                Loop  *Var[2]
                    Get1Int  *Var[3]
                    Call  $Function_80240290    ( *Var[3] *Fixed[0.1] *Fixed[-0.2] *Var[F] 00000000 )
                EndLoop
                Wait  1`
            EndLoop
            UseIntBuffer  *Var[1]
            Get1Int  *Var[2]
            Loop  *Var[2]
                Get1Int  *Var[3]
                Call  TranslateModel    ( *Var[3] 00000000 00000000 00000000 )
            EndLoop
            Wait  1`
        EndIf
    EndThread
    Thread
        Set   *Flag[00]  .False
        If  *Var[2]  !=  00000000
            Loop  00000005
                UseIntBuffer  *Var[2]
                Get1Int  *Var[3]
                Loop  *Var[3]
                    Get1Int  *Var[4]
                    Call  $Function_80240290    ( *Var[4] *Fixed[0.1] *Fixed[0.2] *Var[F] 00000000 )
                    If  *Flag[00]  ==  .False
                        Set   *Flag[00]  .True
                        Call  PlaySoundAtModel  ( *Var[4] 00000165 00000000 )
                    EndIf
                EndLoop
                Wait  1`
                UseIntBuffer  *Var[2]
                Get1Int  *Var[3]
                Loop  *Var[3]
                    Get1Int  *Var[4]
                    Call  $Function_80240290    ( *Var[4] *Fixed[0.1] *Fixed[-0.2] *Var[F] 00000000 )
                EndLoop
                Wait  1`
            EndLoop
            UseIntBuffer  *Var[2]
            Get1Int  *Var[3]
            Loop  *Var[3]
                Get1Int  *Var[4]
                Call  TranslateModel    ( *Var[4] 00000000 00000000 00000000 )
            EndLoop
            Wait  1`
        EndIf
    EndThread
    Thread
        If  *Var[3]  !=  00000000
            UseIntBuffer  *Var[3]
            Get1Int  *Var[4]
            Loop  *Var[4]
                Get1Int  *Var[5]
                Get3Int  *Var[6] *Var[7] *Var[8]
                Get3Int  *Var[9] *Var[A] *Var[B]
                If  *Var[B]  ==  00000000
                    Call  DropItemEntity    ( *Var[5] *Var[6] *Var[7] *Var[8] *Var[9] *Var[A] )
                Else
                    Call  GetValueByRef ( *Var[B] *Var[C] )
                    If  *Var[C]  ==  00000000
                        Call  SetValueByRef     ( *Var[B] 00000001 )
                        Call  DropItemEntity    ( *Var[5] *Var[6] *Var[7] *Var[8] *Var[9] *Var[A] )
                    EndIf
                EndIf
            EndLoop
        EndIf
    EndThread
    Thread
        If  *Var[4]  !=  00000000
            UseIntBuffer  *Var[4]
            Get1Int  *Var[5]
            Loop  *Var[5]
                Get3Int  *Var[6] *Var[7] *Var[8]
                Call  PlayEffect    ( ~FX:DropLeaves:Random *Var[6] *Var[7] *Var[8] 00000064 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            EndLoop
        EndIf
    EndThread
    If  *Var[5]  !=  00000000
        ExecWait  *Var[5]
    EndIf
    Wait  15`
    Return
    End
}

#new:TreeModelList $TreeModelList_Tree1_Leaves
{
    00000001 ~Model:o287
}

#new:TreeModelList $TreeModelList_Tree1_Trunk
{
    00000001 ~Model:o286
}

#new:TreeEffectVectors $TreeEffectVectors_Tree1
{
    00000002
    ~Vec3f:TreeFX_Tree1_0 %     436     135    -246
    ~Vec3f:TreeFX_Tree1_1 %     476     135    -256
}

#new:ShakeTreeEvent $ShakeTreeEvent_Tree1
{
    $TreeModelList_Tree1_Leaves
    $TreeModelList_Tree1_Trunk
    00000000
    $TreeEffectVectors_Tree1
    00000000
}

#new:TriggerCoord $TriggerCoord_80243A74
{
    ~BombPos:Bomb_80243A74 % 470.000000 20.000000 -242.000000 0.000000
}

#new:TreeModelList $TreeModelList_Tree2_Leaves
{
    00000001 ~Model:o290
}

#new:TreeModelList $TreeModelList_Tree2_Trunk
{
    00000001 ~Model:o291
}

#new:TreeEffectVectors $TreeEffectVectors_Tree2
{
    00000002
    ~Vec3f:TreeFX_Tree2_0 %      41     110    -149
    ~Vec3f:TreeFX_Tree2_1 %      81     110    -159
}

#new:ShakeTreeEvent $ShakeTreeEvent_Tree2
{
    $TreeModelList_Tree2_Leaves
    $TreeModelList_Tree2_Trunk
    00000000
    $TreeEffectVectors_Tree2
    00000000
}

#new:TriggerCoord $TriggerCoord_80243AC4
{
    ~BombPos:Bomb_80243AC4 % 50.000000 20.000000 -141.000000 0.000000
}

#new:TreeModelList $TreeModelList_Tree3_Leaves
{
    00000001 ~Model:o288
}

#new:TreeModelList $TreeModelList_Tree3_Trunk
{
    00000001 ~Model:o289
}

#new:TreeEffectVectors $TreeEffectVectors_Tree3
{
    00000002
    ~Vec3f:TreeFX_Tree3_0 %    -313     133      80
    ~Vec3f:TreeFX_Tree3_1 %    -273     133      70
}

#new:ShakeTreeEvent $ShakeTreeEvent_Tree3
{
    $TreeModelList_Tree3_Leaves
    $TreeModelList_Tree3_Trunk
    00000000
    $TreeEffectVectors_Tree3
    00000000
}

#new:TriggerCoord $TriggerCoord_80243B14
{
    ~BombPos:Bomb_80243B14 % -293.000000 20.000000 86.000000 0.000000
}

#new:Script $Script_80243B24
{
    Set   *Var[0]  $ShakeTreeEvent_Tree1
    Bind  $Script_ShakeTree_80243430 .Trigger:WallHammer ~Collider:o452 00000001 00000000
    Bind  $Script_ShakeTree_80243430 .Trigger:PointBomb $TriggerCoord_80243A74 00000001 00000000
    Set   *Var[0]  $ShakeTreeEvent_Tree2
    Bind  $Script_ShakeTree_80243430 .Trigger:WallHammer ~Collider:o446 00000001 00000000
    Bind  $Script_ShakeTree_80243430 .Trigger:PointBomb $TriggerCoord_80243AC4 00000001 00000000
    Set   *Var[0]  $ShakeTreeEvent_Tree3
    Bind  $Script_ShakeTree_80243430 .Trigger:WallHammer ~Collider:o435 00000001 00000000
    Bind  $Script_ShakeTree_80243430 .Trigger:PointBomb $TriggerCoord_80243B14 00000001 00000000
    Return
    End
}

PADDING: 80243C0C to 80243C10 (00003C0C to 00003C10)
00000000

#new:IntTable $IntTable_80243C10
{
    0027001B 0027001C 0027001D 0027001E 0027001F 00270020 00270021 00270022
    00270023 00270024 00270025 00270026 00270027 00270028 00270029 0027002A
    0027002B 0027002C 0027002D 0027002E 0027002F 00270030 00270031
}

#new:ShopInventory $ShopInventory_80243C6C
{
    .Item:StoneCap       0000001E 00240007 % Turns Mario to stone and makes him unable to move  ...
    .Item:DizzyDial      0000000F 00240029 % If it works, dazes and paralyzes all enemies brief ...
    .Item:ThunderRage    00000014 00240002 % Lightning that strikes all enemies. Attack Power:  ...
    .Item:TastyTonic     00000005 0024000E % A very tasty tonic. Cures poisoning and shrinking.
    .Item:VoltShroom     0000000A 00240008 % Electrifies Mario briefly and damages enemies who  ...
    .Item:SuperShroom    00000014 0024000A % A truly super Mushroom. Restores 10 HP.
    00000000 00000000 00000000
}

#new:ShopPriceList $ShopPriceList_80243CC0
{
    .Item:FireFlower     00000007 00000000
    .Item:POWBlock       00000005 00000000
    .Item:ShootingStar   00000014 00000000
    .Item:WhackasBump    00000032 00000000
    .Item:StopWatch      00000014 00000000
    .Item:RepelGel       0000001E 00000000
    00000000 00000000 00000000
}

#new:Script $Script_80243D14
{
    Switch  *Var[0]
        Case  ==  00000003
        Case  ==  00000004
        Case  ==  00000001
        Case  ==  00000001
    EndSwitch
    Return
    End
}

#new:ShopItemPositions $ShopItemPositions_80243D68
{
    ~ShopItemPos:mono1:mono1 ~ShopItemPos:mono2:mono2 ~ShopItemPos:mono3:mono3 ~ShopItemPos:mono4:mono4
    ~ShopItemPos:mono5:mono5 ~ShopItemPos:mono6:mono6
}

#new:ShopOwnerNPC $ShopOwnerNPC_80243D80
{
    00000000 00880001 00880004 $Script_80243D14 00000000 00000000 $IntTable_80243C10
}

#new:Script $Script_80243D9C
{
    Call  MakeShop      ( $ShopItemPositions_80243D68 $ShopInventory_80243C6C $ShopPriceList_80243CC0 00010000 )
    Call  MakeShopOwner ( $ShopOwnerNPC_80243D80 )
    Return
    End
}

PADDING: 80243DD8 to 80243DE0 (00003DD8 to 00003DE0)
00000000 00000000

#new:AISettings $AISettings_80243DE0
{
    1.5 % move speed
    60` % move time
    30` % wait time
    0.0 % alert radius
    0.0
    -1`
    0.0 % chase speed
    0`
    0`
    0.0 % chase radius
    0.0
    1`
}

#new:Script $Script_NpcAI_80243E10
{
    Call  DoBasicAI ( $AISettings_80243DE0 )
    Return
    End
}

#new:NpcSettings $NpcSettings_80243E30
{
    00000000 001E0018 00000000 00000000 $Script_NpcAI_80243E10 00000000 00000000 00000000
    00000000 00000000 00630010
}

MISSING: 80243E5C to 80243E88 (00003E5C to 00003E88)
00000000 00170013 00000000 00000000 80243E10 00000000 00000000 00000000
00000000 00000000 00630010

#new:NpcSettings $NpcSettings_80243E88
{
    00000000 001E0018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

MISSING: 80243EB4 to 80243EE0 (00003EB4 to 00003EE0)
00000000 00170013 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00630000

#new:NpcSettings $NpcSettings_80243EE0
{
    00000000 00180018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_80243F0C
{
    00000000 00160018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630010
}

#new:NpcSettings $NpcSettings_80243F38
{
    00000000 001A0018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

MISSING: 80243F64 to 80243FBC (00003F64 to 00003FBC)
00000000 00140014 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00630000 00000000 00160018 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00630000

#new:NpcSettings $NpcSettings_80243FBC
{
    00000000 00140014 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

% Origin: HEURISTIC
#new:Unknown $???_80243FE8
{
    00000000
}

#new:Script $Script_80243FEC
{
    Call  ShowGotItem   ( *Var[0] .True 00000000 )
    Return
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_8024401C
{
    Call  ShowGotItem   ( *Var[0] .True 00000010 )
    Return
    Return
    End
}

% Origin: HINT
#new:ByteTable $QuizAnswers
{
    02010102 02000200 02010002 01010002 00020100 00020100 02010102 02010101
    00020202 02000101 02010201 02000001 01000102 01000202 01020002 02010101
}

% Origin: HINT
#new:IntTable $QuizRequirements
{
    FFFFFF94 00000000
    FFFFFFB4 0000000A
    FFFFFFCA 00000014
    FFFFFFF2 0000001E
    00000006 00000025
    00000027 0000002C
    0000003A 00000034
    00000058 0000003C
    00000060 00000040
    00000000 00000040
}

#new:Script $Script_802440DC
{
    Call  $Function_80240F9C ( )
    If  *Var[0]  <=  00000001
        Call  GetNpcPos ( .Npc:Self *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  0000012C
        Call  SetNpcJumpscale   ( .Npc:Self 00000001 )
        Call  SetNpcAnimation   ( .Npc:Self 00AF000C )
        Wait  40`
        Call  SetNpcPos ( .Npc:Self 00000000 FFFFFC18 00000000 )
    EndIf
    Return
    End
}

#new:Script $Script_8024418C
{
    Call  $Function_80241040    ( 00000000 *Array[0] )
    Call  $Function_80240FCC    ( 00000000 00000019 )
    Call  GetPlayerPos      ( *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget      ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  GetCamType        ( .Cam:Default *Var[1] *Var[2] )
    Call  SetCamType        ( .Cam:Default *Var[1] .False )
    Call  GetCamDistance    ( .Cam:Default *Var[0] )
    If  *Var[0]  >  00000000
        SetF  *Var[0]  00000172
    Else
        SetF  *Var[0]  FFFFFE8E
    EndIf
    Call  SetCamDistance    ( .Cam:Default *Var[0] )
    Call  GetCamPitch       ( .Cam:Default *Var[0] *Var[1] )
    SetF  *Var[0]  *Fixed[13.0]
    SetF  *Var[1]  *Fixed[-10.0]
    Call  SetCamPitch       ( .Cam:Default *Var[0] *Var[1] )
    Call  PanToTarget       ( .Cam:Default 00000000 00000001 )
    Call  SetCamLeadPlayer  ( .Cam:Default .False )
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_80244328
{
    Call  GetNpcPos ( 00000014 *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000001E
    Call  SetPanTarget      ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  GetCamDistance    ( .Cam:Default *Var[0] )
    If  *Var[0]  >  00000000
        SetF  *Var[0]  00000011
    Else
        SetF  *Var[0]  FFFFFFEF
    EndIf
    Call  SetCamDistance    ( .Cam:Default *Var[0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SetCamSpeed   ( .Cam:Default 00000001 )
    Return
    End
}

#new:Script $Script_80244424
{
    Call  $Function_80240FCC    ( 00000000 *Array[0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Return
    End
}

#new:Script $Script_80244460
{
    Wait  20`
    Call  $Function_802410E0    ( *Array[1] *Array[3] 00000053 *Var[0] *Var[1] )
    Thread
        SetF  *Var[2]  00000000
        Loop  0000003C
            SetF  *Var[3]  *Var[0]
            SetF  *Var[4]  *Var[1]
            MulF  *Var[3]  *Var[2]
            MulF  *Var[4]  *Var[2]
            DivF  *Var[3]  0000003C
            DivF  *Var[4]  0000003C
            AddF  *Var[3]  *Array[1]
            AddF  *Var[4]  *Array[3]
            Call  SetPlayerPos  ( *Var[3] *Array[2] *Var[4] )
            AddF  *Var[2]  00000001
            Wait  1`
        EndLoop
        SetF  *Var[3]  *Var[0]
        SetF  *Var[4]  *Var[1]
        AddF  *Var[3]  *Array[1]
        AddF  *Var[4]  *Array[3]
        Call  SetPlayerPos  ( *Var[3] *Array[2] *Var[4] )
    EndThread
    Call  $Function_8024127C ( )
    Call  802D2884  ( *Array[1] *Array[3] 00000000 )
    Call  SetPlayerAnimation    ( 00010002 )
    Return
    End
}

#new:Script $Script_80244610
{
    Call  GetNpcPos ( .Npc:Partner *Var[A] *Var[B] *Var[C] )
    Call  $Function_802410E0    ( *Var[A] *Var[C] 0000006C *Var[0] *Var[1] )
    SetF  *Var[5]  *Array[2]
    SubF  *Var[5]  *Var[B]
    Thread
        Call  $Function_80241370 ( )
        SetF  *Var[3]  *Var[0]
        SetF  *Var[4]  *Var[1]
        SetF  *Var[6]  *Var[5]
        AddF  *Var[3]  *Var[A]
        AddF  *Var[4]  *Var[C]
        AddF  *Var[6]  *Var[B]
        Call  SetNpcPos ( .Npc:Partner *Var[3] *Var[6] *Var[4] )
    EndThread
    Call  $Function_802412E0 ( )
    Call  NpcFacePlayer     ( .Npc:Partner 00000000 )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Return
    End
}

#new:Script $Script_80244748
{
    Call  GetNpcPos ( 00000014 *Var[A] *Var[B] *Var[C] )
    Call  $Function_802410E0    ( *Var[A] *Var[C] FFFFFFBA *Var[0] *Var[1] )
    Thread
        SetF  *Var[2]  00000000
        Loop  0000003C
            SetF  *Var[3]  *Var[0]
            SetF  *Var[4]  *Var[1]
            MulF  *Var[3]  *Var[2]
            MulF  *Var[4]  *Var[2]
            DivF  *Var[3]  0000003C
            DivF  *Var[4]  0000003C
            AddF  *Var[3]  *Var[A]
            AddF  *Var[4]  *Var[C]
            Call  SetNpcPos ( 00000014 *Var[3] *Array[2] *Var[4] )
            AddF  *Var[2]  00000001
            Wait  1`
        EndLoop
    EndThread
    Wait  60`
    Call  NpcFacePlayer     ( 00000014 00000000 )
    Call  SetNpcAnimation   ( 00000014 00AF0001 )
    Return
    End
}

#new:Script $Script_802448B4
{
    Exec  $Script_80244460
    Exec  $Script_80244610
    ExecWait  $Script_80244748
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_802448E8
{
    Loop
        Call  SetPlayerAnimation    ( .PlayerAnim:Question )
        Wait  20`
    EndLoop
    Return
    End
}

#new:Script $Script_80244928
{
    Call  SetPlayerAnimation    ( .PlayerAnim:Throw )
    Wait  15`
    Call  SetPlayerAnimation    ( 00010002 )
    Return
    End
}

#new:Script $Script_80244964
{
    Loop
        Call  SetPlayerAnimation    ( 00010002 )
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:BeforeJump )
        Wait  2`
        Call  SetPlayerAnimation    ( .PlayerAnim:MidairStill )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000003
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000002
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:Midair )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFE
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFD
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( 00010009 )
        Wait  2`
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:BeforeJump )
        Wait  2`
        Call  SetPlayerAnimation    ( .PlayerAnim:MidairStill )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000003
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000002
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:Midair )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFE
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFD
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( 00010009 )
        Wait  2`
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:BeforeJump )
        Wait  2`
        Call  SetPlayerAnimation    ( .PlayerAnim:MidairStill )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000003
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000002
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:Midair )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFE
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFD
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( 00010009 )
        Wait  2`
    EndLoop
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SetPlayerPos  ( *Var[0] *Array[2] *Var[2] )
    Wait  1`
    Return
    End
}

#new:Script $Script_802454AC
{
    Call  SetPlayerAnimation    ( .PlayerAnim:ShockStill )
    Loop
        Wait  1`
    EndLoop
    Return
    End
}

#new:Script $Script_802454EC
{
    Thread
        Call  $Function_802410E0    ( *Array[1] *Array[3] 00000019 *Var[0] *Var[1] )
        SetF  *Var[2]  *Array[1]
        AddF  *Var[2]  *Var[0]
        SetF  *Var[3]  *Array[3]
        AddF  *Var[3]  *Var[1]
        Call  SetNpcAnimation   ( .Npc:Partner 00000102 )
        Call  NpcMoveTo ( .Npc:Partner *Var[2] *Var[3] 00000028 )
        Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    EndThread
    Call  PlayerMoveTo  ( *Array[1] *Array[3] 00000028 )
    Return
    End
}

#new:Script $Script_802455C8
{
    Exec  $Script_80244964 *Var[1]
    Wait  60`
    Kill  *Var[1]
    Loop  00000005
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  2`
    EndLoop
    Wait  20`
    ExecWait  $Script_802454EC
    Return
    End
}

#new:Script $Script_80245678
{
    Exec  $Script_802454AC *Var[1]
    Wait  60`
    Loop  00000005
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  2`
    EndLoop
    Wait  20`
    Kill  *Var[1]
    ExecWait  $Script_802454EC
    Return
    End
}

#new:Script $Script_80245728
{
    If  *CompletedQuizzes  >  0000003F
        Set   *Var[0]  00000000
        Return
    EndIf
    Call  GetPlayerPos  ( *Array[1] *Array[2] *Array[3] )
    Call  NpcFacePlayer ( .Npc:Self 00000010 )
    If  *CompletedQuizzes  ==  0000003F
        Call  SpeakToPlayer ( .Npc:Self 00AF0004 00AF0001 00000000 0008000A ) % Kaaaa-wiiiizzz! It's everyone's favorite quizmaste ...
    Else
        If  *Flag_Met_ChuckQuizmo  ==  .True
            Call  SpeakToPlayer ( .Npc:Self 00AF0004 00AF0001 00000000 00080009 ) % Kaaaa-wiiiizzz! It's everyone's favorite quizmaste ...
        Else
            Call  SpeakToPlayer ( .Npc:Self 00AF0004 00AF0001 00000000 00080008 ) % Kaaaa-wiiiizzz! Chuck Quizmo's the name, and quizz ...
            Set   *Flag_Met_ChuckQuizmo  .True
        EndIf
    EndIf
    Call  ShowChoice    ( 001E000D ) % Yes No
    If  *Var[0]  ==  00000001
        Call  ContinueSpeech    ( .Npc:Self 00AF0004 00AF0001 00000000 0008000C ) % Uh, oh. Not up to it, huh? Maybe another time! Wel ...
        ExecWait  $Script_802440DC
        Set   *Var[0]  00000000
        Return
    EndIf
    Set   *Flag_Taking_Quiz  .True
    Call  $Function_80240578 ( )
    Call  $Function_8024088C ( )
    Exec  $Script_8024418C
    Call  DisablePartnerAI  ( 00000000 )
    Call  SetNpcFlagBits    ( .Npc:Partner 00000200 .False )
    Call  SetNpcFlagBits    ( 00000014 00000200 .False )
    Call  SetNpcFlagBits    ( .Npc:Partner 00000148 .True )
    Call  SetNpcFlagBits    ( 00000014 00000100 .True )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Exec  $Script_802448B4 *Var[1]
    Call  ContinueSpeech    ( .Npc:Self 00AF0004 00AF0001 00000000 0008000B ) % Then let's go to the question!
    Call  PlaySound ( 00000089 )
    Loop
        DoesScriptExist  *Var[1] *Var[0]
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
        Wait  1`
    EndLoop
    Call  $Function_80240BD0 ( )
    Loop  00000005
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  2`
    EndLoop
    Set   *Var[0]  002C0000
    Add   *Var[0]  *CompletedQuizzes
    Call  SpeakToPlayer ( .Npc:Self 00AF0005 00AF0006 00000000 *Var[0] ) % variable string ID
    Call  SetPlayerAnimation    ( .PlayerAnim:Question )
    Set   *Var[0]  002D0000
    Add   *Var[0]  *CompletedQuizzes
    Call  PlaySound     ( 0000008E )
    Call  ShowChoice    ( *Var[0] ) % variable string ID
    Kill  *Var[1]
    Call  StopSound     ( 0000008E )
    Exec  $Script_80244928
    Wait  15`
    Call  PlaySound     ( 0000008D )
    Call  $Function_80240ED0    ( *Var[0] )
    Set   *Array[4]  00000000
    Call  $Function_802414C4 ( )
    Wait  40`
    Call  $Function_80240B4C ( )
    Thread
        Wait  110`
        Call  CloseChoice ( )
        Set   *Array[4]  00000000
    EndThread
    If  *Var[0]  ==  00000001
        Call  SetNpcAnimation   ( 00000014 00AF0007 )
        Set   *Array[4]  00000001
        Thread
            Call  $Function_80240E9C    ( 00000001 )
            Wait  6`
            Wait  6`
            Wait  6`
            Call  $Function_80240E9C    ( 00000002 )
        EndThread
        Thread
            Call  PlaySound ( 0000021C )
            Wait  6`
            Call  PlaySound ( 0000021C )
            Wait  6`
            Call  PlaySound ( 0000021C )
            Wait  6`
            Call  PlaySound ( 0000021C )
        EndThread
        Call  PlaySound ( 0000008A )
        Call  $Function_80240F68 ( )
        Thread
            Wait  15`
            Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
            Add   *Var[1]  00000032
            Call  $Function_802410E0    ( 00000000 00000000 00000053 *Var[0] *Var[2] )
            Call  PlayEffect    ( ~FX:Steam:Ring *Var[0] *Var[1] *Var[2] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Call  PlayEffect    ( ~FX:Confetti:Burst2 *Var[0] *Var[1] *Var[2] 00000001 0000003C 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  15`
            Add   *Var[1]  FFFFFFFD
            Call  $Function_802410E0    ( 00000000 00000000 0000003A *Var[0] *Var[2] )
            Call  PlayEffect    ( ~FX:Steam:Ring *Var[0] *Var[1] *Var[2] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Call  PlayEffect    ( ~FX:Confetti:Burst2 *Var[0] *Var[1] *Var[2] 00000001 0000003C 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  15`
            Add   *Var[1]  0000001E
            Call  $Function_802410E0    ( 00000000 00000000 0000005D *Var[0] *Var[2] )
            Call  PlayEffect    ( ~FX:Steam:Ring *Var[0] *Var[1] *Var[2] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Call  PlayEffect    ( ~FX:Confetti:Burst2 *Var[0] *Var[1] *Var[2] 00000001 0000003C 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  15`
        EndThread
        Wait  20`
        Exec  $Script_802455C8 *Var[1]
        Add   *CompletedQuizzes  00000001
        If  *CompletedQuizzes  >  0000003F
            Call  ContinueSpeech    ( .Npc:Self FFFFFFFF FFFFFFFF 00000000 00080010 ) % Correct!! Congratulations! This is my last prize!  ...
            Call  SetNpcAnimation   ( 00000014 00AF0006 )
            Loop
                DoesScriptExist  *Var[1] *Var[0]
                If  *Var[0]  ==  00000000
                    BreakLoop
                EndIf
                Wait  1`
            EndLoop
            Call  SetNpcAnimation   ( 00000014 00AF0005 )
            Set   *Var[0]  0000015C
            Set   *Var[1]  00000003
            ExecWait  $Script_80243FEC
            Call  AddStarPieces     ( 00000001 )
            Call  $Function_80240E9C    ( 0000000F )
            Call  $Function_80240F50 ( )
            Call  SetMessageValue   ( *CompletedQuizzes 00000000 )
            Call  SpeakToPlayer     ( .Npc:Self 00AF0004 00AF0001 00000000 00080011 ) % You've managed to correctly answer all  questions. ...
        Else
            Call  ContinueSpeech    ( .Npc:Self FFFFFFFF FFFFFFFF 00000000 0008000E ) % Correct! Congratulations! Here's your Star Piece!
            Call  SetNpcAnimation   ( 00000014 00AF0006 )
            Loop
                DoesScriptExist  *Var[1] *Var[0]
                If  *Var[0]  ==  00000000
                    BreakLoop
                EndIf
                Wait  1`
            EndLoop
            Call  SetNpcAnimation   ( 00000014 00AF0005 )
            Set   *Var[0]  0000015C
            Set   *Var[1]  00000001
            ExecWait  $Script_80243FEC
            Call  AddStarPieces     ( 00000001 )
            Call  $Function_80240E9C    ( 0000000F )
            Call  $Function_80240F50 ( )
            Call  SetMessageValue   ( *CompletedQuizzes 00000000 )
            If  *CompletedQuizzes  ==  00000001
                Call  SetMessageString  ( 8014C294 00000001 )
            Else
                Call  SetMessageString  ( 8014C290 00000001 )
            EndIf
            Call  SpeakToPlayer ( .Npc:Self 00AF0004 00AF0001 00000000 0008000F ) % You've correctly answered  question so far. Good l ...
        EndIf
        Set   *Var[0]  00000001
    Else
        Call  SetNpcAnimation   ( 00000014 00AF0009 )
        Set   *Array[4]  00000002
        Call  PlaySound ( 0000021D )
        Call  PlaySound ( 0000008B )
        Exec  $Script_80245678 *Var[1]
        Call  GetPlayerPos      ( *Var[2] *Var[3] *Var[4] )
        Call  PlayEffect        ( ~FX:DeadLeaves:Gust1 *Var[2] *Var[3] *Var[4] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Call  ContinueSpeech    ( .Npc:Self FFFFFFFF FFFFFFFF 00000000 0008000D ) % Oops! Tough luck, pal! Wrong answer! Better luck n ...
        Call  SetNpcAnimation   ( 00000014 00AF000A )
        Loop
            DoesScriptExist  *Var[1] *Var[0]
            If  *Var[0]  ==  00000000
                BreakLoop
            EndIf
            Wait  1`
        EndLoop
        Set   *Var[0]  00000000
    EndIf
    Call  $Function_80240ED0    ( FFFFFFFF )
    Call  EnablePartnerAI ( )
    Thread
        Wait  30`
        Call  PlaySound ( 0000008F )
    EndThread
    Thread
        Wait  45`
        Call  StopSound ( 00000089 )
    EndThread
    Call  $Function_80240F84 ( )
    Call  $Function_80240DE8 ( )
    ExecWait  $Script_802440DC
    Exec  $Script_80244424
    Call  $Function_802409D8 ( )
    Call  $Function_8024058C ( )
    Set   *Flag_Taking_Quiz  .False
    Return
    End
}

#new:Script $Script_80246458
{
    Call  $Function_8024059C ( )
    If  *Var[0]  ==  00000000
        Return
    EndIf
    Call  SetNpcFlagBits    ( .Npc:Self 01000000 .False )
    Call  802CF208  ( FFFFFFFF 00AF0001 )
    Call  $Function_802407C0 ( )
    Return
    End
}

#new:Script $Script_802464CC
{
    UseArray  $End[8]
    Set   *Flag_NPC_41  .True
    Call  DisablePlayerPhysics  ( .True )
    Call  SetPlayerFlagBits     ( 00400000 .True )
    ExecWait  $Script_80245728
    Call  DisablePlayerPhysics  ( .False )
    Call  SetPlayerFlagBits     ( 00400000 .False )
    Return
    End
}

#new:Script $Script_8024654C
{
    Call  $Function_8024080C ( )
    Return
    End
}

% Origin: HEURISTIC
#new:AISettings $AISettings_80246568
{
    0.7 % move speed
    30` % move time
    20` % wait time
    0.0 % alert radius
    0.0
    -1`
    0.0 % chase speed
    0`
    0`
    0.0 % chase radius
    0.0
    1`
}

% Origin: HEURISTIC
#new:Script $Script_80246598
{
    Call  DoBasicAI ( $AISettings_80246568 )
    Return
    End
}

#new:NpcSettings $NpcSettings_802465B8
{
    00AF0001 0023001C $Script_80246458 $Script_802464CC 00000000 00000000 $Script_8024654C 00000000
    00000D01 00000000 00630000
}

MISSING: 802465E4 to 80246610 (000065E4 to 00006610)
00AF0001 0023001C 80246458 802464CC 80246598 00000000 8024654C 00000000
00000C01 00000000 00630010

#new:Unknown $???_80246610
{
    00000000
}

#new:Unknown $???_80246614
{
    00000000
}

#new:Script $Script_80246618
{
    Set   *Var[9]  *Var[1]
    Call  802D6420 ( )
    Set   *Var[A]  *Var[0]
    Switch  *Var[0]
        Case  ==  00000000
        Case  ==  FFFFFFFF
        Default
            Call  RemoveKeyItemAt       ( *Var[1] )
            Call  GetPlayerPos  ( *Var[3] *Var[4] *Var[5] )
            Call  $Function_80241550    ( *Var[3] *Var[4] *Var[5] )
            ConstOR  *Var[0] 00050000
            Call  MakeItemEntity        ( *Var[0] *Var[3] *Var[4] *Var[5] .ItemSpawnMode:Decoration 00000000 )
            Call  SetPlayerAnimation    ( 00060005 )
            Wait  30`
            Call  SetPlayerAnimation    ( 00010002 )
            Call  RemoveItemEntity      ( *Var[0] )
    EndSwitch
    Call  $Function_80241774    ( *Var[A] )
    Call  802D6954 ( )
    Unbind
    Return
    End
}

#new:Script $Script_8024675C
{
    Call  $Function_802417AC    ( *Var[0] )
    BindLock  $Script_80246618 00000010 00000000 $End[30] 00000000 00000001
    Call  $Function_80241720    ( *Var[0] )
    Return
    End
}

#new:Script $Script_802467AC
{
    Call  802D2884  ( FFFFFE48 FFFFFF6A 00000000 )
    Wait  15`
    Thread
        Wait  7`
        Call  GetPlayerPos      ( *Var[2] *Var[3] *Var[4] )
        Add   *Var[3]  00000032
        SetF  *Var[5]  00000003
        Call  MakeItemEntity    ( .Item:ToyTrain *Var[2] *Var[3] *Var[4] .ItemSpawnMode:Decoration 00000000 )
        Set   *Var[7]  *Var[0]
        Call  MakeLerp  ( *Var[4] FFFFFF6A 0000001E .Easing:CubicOut )
        Loop
            Call  UpdateLerp ( )
            Call  SetItemPos    ( *Var[7] FFFFFE48 *Var[3] *Var[0] )
            AddF  *Var[5]  *Fixed[-0.5]
            Add   *Var[3]  *Var[5]
            If  *Var[3]  <  00000000
                Set   *Var[3]  00000000
            EndIf
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
        Call  RemoveItemEntity  ( *Var[7] )
    EndThread
    Call  SetPlayerAnimation    ( 00060005 )
    Wait  20`
    Call  SetPlayerAnimation    ( 00010002 )
    Wait  10`
    Return
    End
}

#new:Script $Script_8024697C
{
    SetGroup  00000000
    Call  802D5830  ( 00000001 )
    Call  802D6420 ( )
    Set   *Var[2]  *Var[0]
    If  *Var[2]  <=  00000000
        If  *Var[2]  ==  00000000
            Call  ShowMessageAtScreenPos    ( 001D0158 000000A0 00000028 ) % It's a Toy Box. It looks like something's inside!
        EndIf
        Call  802D6954 ( )
        Call  802D5830  ( 00000000 )
        Return
    EndIf
    Call  DisablePlayerInput    ( .True )
    Call  RemoveKeyItemAt       ( *Var[1] )
    Call  PlaySoundAtCollider   ( ~Collider:omo_ent 000001AA 00000000 )
    Call  MakeLerp  ( 00000000 FFFFFFA6 0000000A .Easing:Linear )
    Loop
        Call  UpdateLerp ( )
        Set   *Var[2]  00000000
        Sub   *Var[2]  *Var[0]
        Div   *Var[2]  00000003
        Call  RotateGroup   ( ~Model:box_top *Var[0] 00000001 00000000 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    ExecWait  $Script_802467AC
    Call  MakeLerp  ( FFFFFFA6 00000000 0000000A .Easing:Linear )
    Loop
        Call  UpdateLerp ( )
        Set   *Var[2]  00000000
        Sub   *Var[2]  *Var[0]
        Div   *Var[2]  00000003
        Call  RotateGroup   ( ~Model:box_top *Var[0] 00000001 00000000 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  PlaySoundAtCollider   ( ~Collider:omo_ent 000001AA 00000000 )
    Call  802D6954 ( )
    Set   *StoryProgress  FFFFFFFB
    Call  802D5830  ( 00000000 )
    Unbind
    Call  GotoMap   ( $ASCII_8024F568 00000006 ) % omo_03
    Wait  100`
    Return
    End
}

#new:ItemList $ItemList_80246C50
{
    .Item:ToyTrain
    00000000
}

#new:Script $Script_80246C58
{
    If  *StoryProgress  <  FFFFFFFB
        BindLock  $Script_8024697C .Trigger:WallPressA ~Collider:o468 $ItemList_80246C50 00000000 00000001
    EndIf
    Return
    End
}

#new:Script $Script_Idle_80246CA0
{
    Loop
        Loop  0000000A
            Call  GetNpcPos ( .Npc:Self *Var[0] *Var[1] *Var[2] )
            Sub   *Var[1]  00000001
            Call  SetNpcPos ( .Npc:Self *Var[0] *Var[1] *Var[2] )
            Wait  1`
        EndLoop
        Loop  0000000A
            Call  GetNpcPos ( .Npc:Self *Var[0] *Var[1] *Var[2] )
            Add   *Var[1]  00000001
            Call  SetNpcPos ( .Npc:Self *Var[0] *Var[1] *Var[2] )
            Wait  1`
        EndLoop
    EndLoop
    Return
    End
}

#new:Script $Script_80246D94
{
    Call  DisablePartnerAI  ( 00000000 )
    Call  802CF56C      ( 00000002 )
    Call  SetNpcPos     ( 00000011 FFFFFDF8 00000028 0000010E )
    Call  PlayerFaceNpc ( 00000011 00000000 )
    Call  NpcFaceNpc    ( .Npc:Partner 00000011 00000000 )
    Call  UseSettingsFrom   ( .Cam:Default FFFFFE5C 00000014 000000EB )
    Call  SetPanTarget  ( .Cam:Default FFFFFE2A 00000014 000000FA )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  802D2508 ( )
    Call  DisablePlayerInput    ( .True )
    Wait  40`
    Call  SpeakToPlayer ( 00000011 00150002 00150001 00000200 000600C5 ) % Phew! Ahhh, fresh air! After being cooped up in th ...
    Call  GetNpcPos     ( 00000011 *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default FFFFFED4 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.5] FFFFFFF7 )
    Call  SetCamSpeed   ( .Cam:Default 00000003 )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  10`
    Call  SpeakToPlayer ( 00000011 00150002 00150001 00000200 000600C6 ) % My name is Muskular. Mario, I must thank you for s ...
    Call  SetPanTarget  ( .Cam:Default FFFFFE2A 00000014 000000FA )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  MakeLerp      ( 00000000 00000168 0000000A .Easing:Linear )
    Loop
        Call  UpdateLerp ( )
        Call  SetNpcRotation    ( 00000011 00000000 *Var[0] 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  EnableNpcAI       ( 00000011 .False )
    Call  SetNpcAnimation   ( 00000011 00150003 )
    Wait  20`
    Call  SetPlayerAnimation    ( .PlayerAnim:GotItem )
    Call  PlaySoundAtPlayer ( 00000139 00000000 )
    Call  GetPlayerPos      ( *Var[0] *Var[1] *Var[2] )
    Set   *Var[3]  *Var[1]
    Add   *Var[0]  0000000A
    Add   *Var[1]  00000032
    Add   *Var[2]  0000000A
    Add   *Var[3]  0000001E
    Loop  00000005
        Call  PlayEffect    ( 00000011 00000003 *Var[0] *Var[1] *Var[2] 00000014 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Wait  6`
        Call  PlayEffect    ( ~FX:Sparkles:Random *Var[0] *Var[3] *Var[2] 00000014 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Wait  6`
    EndLoop
    Wait  20`
    Call  PlaySoundAtPlayer ( 00000188 00000000 )
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  00000014
    Call  PlayEffect    ( ~FX:EnergyWaveOut:Grey *Var[0] *Var[1] *Var[2] 00000001 0000001E 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Wait  30`
    Call  SetPlayerAnimation        ( 00010002 )
    Call  SetNpcAnimation   ( 00000011 00150001 )
    Call  EnableNpcAI   ( 00000011 .True )
    Call  $Function_80241944 ( )
    Call  ShowMessageAtScreenPos    ( 001D0194 000000A0 00000028 ) % Mario's Star Energy goes up to 4! Mario can now us ...
    Wait  10`
    Call  SpeakToPlayer ( 00000011 00150002 00150001 00000200 000600C7 ) % Call on me whenever you find yourself in trouble.  ...
    Call  ShowMessageAtScreenPos    ( 000600C8 000000A0 00000028 ) % Mario!
    Call  SetPanTarget  ( .Cam:Default FFFFFE2A 00000014 000000FA )
    Call  SetCamDistance    ( .Cam:Default FFFFFE0C )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.5] FFFFFFF7 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Wait  1`
    Call  SetNpcPos     ( 00000010 FFFFFDA8 000000C8 0000015E )
    Call  NpcFlyTo      ( 00000010 FFFFFE4B 0000003C 0000010E 00000000 FFFFFFF6 .Easing:Linear )
    Call  SetPlayerAnimation        ( 0001002A )
    Call  SpeakToPlayer ( 00000010 00200009 00200001 00000000 000600C9 ) % Mario! Mario! I have news... News from the castle. ...
    Call  InterpNpcYaw  ( 00000010 0000010E 00000000 )
    Wait  20`
    Call  NpcJump1      ( 00000010 FFFFFE34 0000002D 000000DC 0000000A )
    Call  SpeakToNpc    ( 00000010 00200009 00200001 00000200 00000011 000600CA ) % Gasp! Honorable Star Spirit!
    Call  SetCamDistance    ( .Cam:Default FFFFFED4 )
    Call  SetPlayerAnimation        ( 00010002 )
    Wait  1`
    Call  SpeakToNpc    ( 00000011 00150002 00150001 00000200 00000010 000600CB ) % Hi! Hmmmmmmmmmm... I believe you are... Twink, no? ...
    Call  SpeakToNpc    ( 00000010 00200009 00200001 00000000 00000011 000600CC ) % What!? You remember my name?!
    Call  SpeakToNpc    ( 00000011 00150002 00150001 00000200 00000010 000600CD ) % Ha ha ha! Why, of course! We're like family!
    Call  SpeakToNpc    ( 00000010 00200009 00200001 00000000 00000011 000600CE ) % I... I... I'm so touched!!
    Call  GetNpcPos     ( 00000011 *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default FFFFFED4 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.5] FFFFFFF7 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[1.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  10`
    Call  SpeakToNpc    ( 00000011 00150002 00150001 00000200 00000010 000600CF ) % Ho ho ho! Don't make such a fuss, lad. I'm sure yo ...
    Call  SetPanTarget  ( .Cam:Default FFFFFE3E 00000014 000000FA )
    Call  SetCamDistance    ( .Cam:Default FFFFFE70 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SetNpcFlagBits    ( 00000011 00040000 .True )
    Thread
        Loop  00000019
            Call  GetNpcPos     ( 00000011 *Var[0] *Var[1] *Var[2] )
            Call  PlayEffect    ( 00000011 00000004 *Var[0] *Var[1] *Var[2] 00000014 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  4`
        EndLoop
    EndThread
    Thread
        Set   *Var[2]  00000000
        Set   *Var[3]  00000708
        Call  MakeLerp  ( *Var[2] *Var[3] 00000064 .Easing:CubicIn )
        Loop
            Call  UpdateLerp ( )
            Call  SetNpcRotation    ( 00000011 00000000 *Var[0] 00000000 )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Thread
        Call  GetNpcPos ( 00000011 *Var[2] *Var[3] *Var[4] )
        Set   *Var[5]  *Var[3]
        Add   *Var[5]  000000B4
        Call  MakeLerp  ( *Var[3] *Var[5] 00000064 .Easing:CubicIn )
        Loop
            Call  UpdateLerp ( )
            Call  SetNpcPos ( 00000011 *Var[2] *Var[0] *Var[4] )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
        Call  SetNpcPos ( 00000011 00000000 FFFFFC18 00000000 )
    EndThread
    Thread
        Wait  15`
        Call  PlaySoundAtNpc    ( 00000011 00002045 00000000 )
    EndThread
    Wait  10`
    Call  SetPlayerAnimation    ( 0001002A )
    Wait  115`
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SetMusicTrack ( 00000000 .Song:TwinkTheme 00000000 00000008 )
    Call  SetPanTarget  ( .Cam:Default FFFFFE3E 00000014 000000FA )
    Call  SetCamDistance        ( .Cam:Default FFFFFEA2 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[3.0] )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SetNpcSpeed   ( 00000010 00000004 )
    Call  NpcFlyTo      ( 00000010 FFFFFE20 00000028 0000010E 00000000 0000000A .Easing:Linear )
    Call  SpeakToPlayer ( 00000010 00200009 00200001 00000000 000600D0 ) % Wow! I talked with Muskular, the honorable Star Sp ...
    Call  InterpNpcYaw  ( 00000010 0000010E 00000000 )
    Wait  30`
    Call  NpcFacePlayer ( 00000010 00000000 )
    Wait  10`
    Call  SpeakToPlayer ( 00000010 00200009 00200001 00000000 000600D1 ) % Oops, I'm sorry! I have some important news from t ...
    Call  SetPlayerAnimation    ( .PlayerAnim:Question )
    Wait  20`
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SpeakToPlayer ( 00000010 00200009 00200001 00000000 000600D2 ) % According to the information  Princess Peach and I ...
    Call  SetPlayerAnimation    ( .PlayerAnim:NodYes )
    Wait  30`
    Call  SpeakToPlayer ( 00000010 00200009 00200001 00000000 000600D3 ) % I'm going back to rejoin Princess Peach now. Mario ...
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Call  NpcFlyTo      ( 00000010 FFFFFDA8 000000C8 0000015E 00000000 FFFFFFF6 .Easing:Linear )
    Call  SetNpcPos     ( 00000010 00000000 FFFFFC18 00000000 )
    Set   *StoryProgress  00000007
    Exec  $Script_802420C0
    Call  EnablePartnerAI ( )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_Init_80247B1C
{
    Call  GetEntryID    ( *Var[0] )
    If  *Var[0]  ==  ~Entry:Entry5
        Call  BindNpcIdle   ( .Npc:Self $Script_Idle_80246CA0 )
        Exec  $Script_80246D94
    Else
        Call  RemoveNpc ( .Npc:Self )
    EndIf
    Return
    End
}

#new:Script $Script_Init_80247B8C
{
    Call  GetEntryID    ( *Var[0] )
    If  *Var[0]  !=  ~Entry:Entry5
        Call  RemoveNpc ( .Npc:Self )
    EndIf
    Return
    End
}

#new:VectorList $VectorList_80247BD4
{
    % ~Path3f:Path_80247BD4
    -70.000000 106.000000 0.000000
    -50.000000 30.000000 0.000000
    0.000000 0.000000 0.000000
}

#new:VectorList $VectorList_80247BF8
{
    % ~Path3f:Path_80247BF8
    0.000000 0.000000 0.000000
    -50.000000 30.000000 0.000000
    -70.000000 106.000000 0.000000
}

#new:Script $Script_Idle_80247C1C
{
    Call  802D2508 ( )
    Call  DisablePlayerInput        ( .True )
    Call  802D5FF8      ( 00000070 00000000 )
    Call  ShowMessageAtScreenPos    ( 0004008F 000000A0 00000028 ) % Mario!
    Call  GetPlayerPos  ( *Var[4] *Var[5] *Var[6] )
    SubF  *Var[4]  *Fixed[50.0]
    AddF  *Var[5]  *Fixed[40.0]
    Call  InterpNpcYaw  ( 00000010 0000005A 00000000 )
    Call  LoadPath      ( 00000023 $VectorList_80247BD4 00000003 .Easing:CosInOut )
    Loop
        Call  GetNextPathPos ( )
        AddF  *Var[1]  *Var[4]
        AddF  *Var[2]  *Var[5]
        Call  SetNpcPos ( 00000010 *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  SetPlayerAnimation    ( 0001002A )
    Call  AdjustCam     ( .Cam:Default *Fixed[3.0] FFFFFFF6 FFFFFED4 0000000F FFFFFFF7 )
    Call  SpeakToPlayer ( 00000010 00200009 00200001 00000000 00040090 ) % Mario! Mario! Good to see you!
    Wait  5`
    Call  SetPlayerAnimation    ( 00080007 )
    Wait  30`
    Call  SetPlayerAnimation    ( 0001002A )
    Wait  15`
    Call  SetNpcJumpscale       ( 00000010 *Fixed[1.0] )
    Call  GetNpcPos     ( 00000010 *Var[0] *Var[1] *Var[2] )
    Call  NpcJump0      ( 00000010 *Var[0] *Var[1] *Var[2] 0000000A )
    Call  SpeakToPlayer ( 00000010 00200009 00200001 00000000 00040091 ) % We found out that you defeated Tubba Blubba! I kne ...
    Call  SetPlayerAnimation    ( 0001002D )
    Wait  30`
    Call  SetPlayerAnimation    ( 0001002A )
    Call  SpeakToPlayer ( 00000010 00200009 00200001 00000000 00040092 ) % Oh, yes... I've got new information about the hono ...
    Wait  5`
    Call  SetPlayerAnimation    ( .PlayerAnim:Thinking )
    Wait  30`
    Call  SetPlayerAnimation    ( 0001002A )
    Call  AdjustCam     ( .Cam:Default *Fixed[3.0] FFFFFFD8 FFFFFF38 0000000F FFFFFFF1 )
    Call  SpeakToPlayer ( 00000010 00200009 00200001 00000000 00040093 ) % ...Oh, time is short! I have to go back to the pri ...
    Wait  5`
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Call  InterpNpcYaw  ( 00000010 0000010E 00000000 )
    Call  GetNpcPos     ( 00000010 *Var[4] *Var[5] *Var[6] )
    Call  LoadPath      ( 00000023 $VectorList_80247BF8 00000003 .Easing:QuadraticIn )
    Loop
        Call  GetNextPathPos ( )
        Add   *Var[1]  *Var[4]
        Add   *Var[2]  *Var[5]
        Add   *Var[3]  *Var[6]
        Call  SetNpcPos ( 00000010 *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  SetNpcPos ( 00000010 00000000 FFFFFC18 00000000 )
    Call  802D5FD8 ( )
    Set   *StoryProgress  FFFFFFF5
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_Init_8024808C
{
    If  *StoryProgress  ==  FFFFFFF4
        Call  BindNpcIdle   ( .Npc:Self $Script_Idle_80247C1C )
    Else
        Call  RemoveNpc ( .Npc:Self )
    EndIf
    Return
    End
}

#new:Script $Script_802480E0
{
    Loop
        Call  PlaySoundAtNpc    ( *Var[0] B0000021 00000000 )
        Wait  2`
    EndLoop
    Return
    End
}

#new:Script $Script_80248128
{
    Call  PlaySoundAtCollider   ( ~Collider:deilit_hu .Sound:BasicDoorOpen 00000000 )
    Set   *Var[0]  00000000
    Loop  00000014
        Add   *Var[0]  00000003
        Call  RotateModel   ( ~Model:hh_door *Var[0] 00000000 FFFFFFFF 00000000 )
        Wait  1`
    EndLoop
    Set   *Var[0]  0000005A
    Call  RotateModel   ( ~Model:hh_door *Var[0] 00000000 FFFFFFFF 00000000 )
    Return
    End
}

#new:Script $Script_802481E0
{
    Set   *Var[0]  0000005A
    Loop  00000014
        Add   *Var[0]  FFFFFFFD
        Call  RotateModel   ( ~Model:hh_door *Var[0] 00000000 FFFFFFFF 00000000 )
        Wait  1`
    EndLoop
    Set   *Var[0]  00000000
    Call  RotateModel   ( ~Model:hh_door *Var[0] 00000000 FFFFFFFF 00000000 )
    Call  PlaySoundAtCollider   ( ~Collider:deilit_hu .Sound:BasicDoorClose 00000000 )
    Return
    End
}

#new:Script $Script_80248298
{
    Call  PlaySoundAtCollider   ( ~Collider:deilit_hk 000001AB 00000000 )
    Set   *Var[0]  00000000
    Loop  00000024
        Add   *Var[0]  0000000A
        Call  RotateModel   ( ~Model:hkai1 *Var[0] 00000000 00000001 00000000 )
        Call  RotateModel   ( ~Model:hkai2 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
    EndLoop
    Set   *Var[0]  00000000
    Call  RotateModel   ( ~Model:hkai1 *Var[0] 00000000 00000001 00000000 )
    Call  RotateModel   ( ~Model:hkai2 *Var[0] 00000000 00000001 00000000 )
    Call  PlaySoundAtCollider   ( ~Collider:deilit_hk 000001AC 00000000 )
    Call  PlaySound     ( 0000000A )
    Return
    End
}

#new:Script $Script_802483B8
{
    Wait  20`
    Call  SetNpcFlagBits    ( 0000000E 00000100 .True )
    Call  SpeakToPlayer     ( 0000000E 003B0311 003B0301 00000005 000600B3 ) %
    Call  SetNpcAnimation   ( 0000000E 003B0302 )
    Wait  4`
    Call  SetNpcAnimation   ( 0000000E 003B0303 )
    Wait  4`
    Call  SetNpcAnimation   ( 0000000E 003B0304 )
    Wait  4`
    Call  NpcMoveTo ( 0000000E FFFFFE48 00000003 00000032 )
    Call  SetNpcAnimation   ( 0000000E 003B0301 )
    Wait  8`
    Call  SetNpcAnimation   ( 0000000E 003B0300 )
    Call  InterpNpcYaw      ( 0000000E 000000B4 0000000A )
    Call  InterpNpcYaw      ( 0000000E 00000000 0000000A )
    Call  InterpNpcYaw      ( 0000000E 000000B4 0000000A )
    Call  InterpNpcYaw      ( 0000000E 00000000 0000000A )
    Call  SpeakToPlayer     ( 0000000E 003B0311 003B0301 00000005 000600B4 ) %
    Wait  10`
    Call  SetNpcAnimation   ( 0000000E 003B0308 )
    Wait  4`
    Call  SetNpcAnimation   ( 0000000E 003B0309 )
    Wait  4`
    Call  SetNpcAnimation   ( 0000000E 003B030A )
    Exec  $Script_80248298
    Call  SetNpcJumpscale   ( 0000000E *Fixed[0.5] )
    Call  NpcJump0  ( 0000000E FFFFFE48 00000014 FFFFFFB5 00000014 )
    Call  SetNpcAnimation   ( 0000000E 003B0300 )
    If  *StoryProgress  <  FFFFFFF6
        Set   *StoryProgress  FFFFFFF6
        ExecWait  $Script_80242E08
    EndIf
    Return
    End
}

#new:Script $Script_80248624
{
    Call  PlaySoundAtNpc    ( 0000000E 0000203E 00000000 )
    Call  PlaySoundAtNpc    ( 0000000E 00000262 00000000 )
    Call  ShowEmote ( 0000000E .Emote:Exclamation 00000000 00000014 00000001 00000000 00000000 00000000 00000000 )
    Wait  20`
    Call  SpeakToPlayer     ( 0000000E 003B0311 003B0301 00000000 000600B2 ) % Oh, no! It's Mario!!
    Call  InterpNpcYaw      ( 0000000E 000000B4 0000000A )
    Call  SetNpcAnimation   ( 0000000E 003B0302 )
    Wait  4`
    Call  SetNpcAnimation   ( 0000000E 003B0303 )
    Wait  4`
    Call  SetNpcAnimation   ( 0000000E 003B0304 )
    Wait  4`
    ExecWait  $Script_80248128
    Set   *Var[0]  0000000E
    Exec  $Script_802480E0 *Var[A]
    Call  NpcMoveTo ( 0000000E FFFFFE0B 000000DF 0000000F )
    Kill  *Var[A]
    ExecWait  $Script_802481E0
    Return
    End
}

#new:Script $Script_80248798
{
    SetGroup  000000EF
    If  *StoryProgress  !=  FFFFFFF5
        Return
    EndIf
    Loop  00000096
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        If  *Var[2]  >  000000C8
            Return
        EndIf
        Wait  1`
    EndLoop
    Set   *Var[7]  00000000
    Loop
        Call  $Function_802419AC ( )
        If  *Var[0]  !=  00000000
            Set   *Var[7]  00000001
            BreakLoop
        EndIf
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        If  *Var[2]  <  00000064
            BreakLoop
        EndIf
        If  *Var[2]  >  000000C8
            Return
        EndIf
        Wait  1`
    EndLoop
    Call  DisablePlayerInput    ( .True )
    ExecWait  $Script_80248128
    Call  SetNpcPos ( 0000000E FFFFFE0B 00000014 000000DF )
    Call  SetNpcAnimation   ( 0000000E 003B0302 )
    Call  NpcMoveTo ( 0000000E FFFFFE06 000000A8 0000000F )
    Call  SetNpcAnimation   ( 0000000E 003B0300 )
    ExecWait  $Script_802481E0
    If  *Var[7]  ==  00000001
        ExecWait  $Script_802483B8
    Else
        ExecWait  $Script_80248624
        Call  $Function_80241980    ( *Var[0] )
        Thread
            Wait  10`
            Exec  $Script_80248798
        EndThread
    EndIf
    Call  SetNpcPos ( 0000000E 00000000 FFFFFC18 00000000 )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_80248A14
{
    Call  GetNpcPos ( 0000000F *Var[2] *Var[3] *Var[4] )
    Add   *Var[3]  00000014
    Call  MakeItemEntity    ( 00010020 *Var[2] *Var[3] *Var[4] .ItemSpawnMode:Decoration 00000000 )
    Set   *Var[9]  *Var[0]
    Wait  1`
    Loop  0000001E
        Call  GetNpcPos     ( 0000000F *Var[2] *Var[3] *Var[4] )
        Add   *Var[3]  00000014
        Call  SetItemPos    ( *Var[9] *Var[2] *Var[3] *Var[4] )
        Wait  1`
    EndLoop
    Call  RemoveItemEntity  ( *Var[9] )
    Return
    End
}

#new:Script $Script_80248B08
{
    If  *StoryProgress  <  FFFFFFF3
        Return
    EndIf
    If  *StoryProgress  >  FFFFFFF8
        Return
    EndIf
    If  *Flag_MAC_A0  !=  .False
        Return
    EndIf
    Call  SetNpcPos ( 0000000F 000000FA 00000014 FFFFFE6E )
    Call  SetNpcAnimation       ( 0000000F 003B0004 )
    Call  DisablePlayerInput    ( .True )
    Wait  30`
    Call  SpeakToPlayer ( 00000000 00880004 00880001 00000000 00060000 ) % Hey, you! Thief!!
    Call  DisablePlayerInput    ( .False )
    Thread
        Call  DisablePlayerInput    ( .True )
        Wait  20`
        Set   *Var[0]  00000000
        Loop  00000024
            Call  InterpPlayerYaw   ( *Var[0] 00000000 )
            Add   *Var[0]  0000002D
            Wait  1`
        EndLoop
        Call  InterpPlayerYaw       ( 00000000 00000000 )
        Call  DisablePlayerInput    ( .False )
    EndThread
    Thread
        Wait  23`
        Call  PlaySoundAtCollider   ( ~Collider:deilit_mu .Sound:BasicDoorOpen 00000000 )
        Set   *Var[0]  00000000
        Loop  0000000A
            Add   *Var[0]  00000008
            Call  RotateModel   ( ~Model:msdoor *Var[0] 00000000 FFFFFFFF 00000000 )
            Wait  1`
        EndLoop
        Loop  0000000A
            Add   *Var[0]  FFFFFFF8
            Call  RotateModel   ( ~Model:msdoor *Var[0] 00000000 FFFFFFFF 00000000 )
            Wait  1`
        EndLoop
        Call  PlaySoundAtCollider   ( ~Collider:deilit_mu .Sound:BasicDoorClose 00000000 )
    EndThread
    Exec  $Script_80248A14
    Set   *Var[0]  0000000F
    Exec  $Script_802480E0 *Var[A]
    Call  NpcMoveTo ( 0000000F 000000FE FFFFFFBE 0000001E )
    Kill  *Var[A]
    Call  SetNpcPos ( 0000000F 00000000 FFFFFC18 00000000 )
    Set   *Flag_MAC_A0  .True
    Return
    End
}

#new:Script $Script_Init_80248E14
{
    Return
    End
}

#new:Unknown $???_80248E24
{
    00000020 00000000
}

#new:Script $Script_Interact_80248E2C
{
    Set   *Var[9]  00000000
    If  *StoryProgress  >=  FFFFFFF3
        If  *StoryProgress  <  FFFFFFF9
            Set   *Var[9]  00000001
        EndIf
    EndIf
    If  *Var[9]  ==  00000001
        Call  SpeakToPlayer ( 00000000 00880004 00880001 00000000 00060001 ) % Oh, Mario. It's you. A Shy Guy stole my Storeroom  ...
        Set   *Var[0]  $???_80248E24
        Set   *Var[1]  00000000
        ExecWait  $Script_8024675C
        Switch  *Var[0]
            Case  ==  FFFFFFFF
                Call  SpeakToPlayer ( 00000000 00880004 00880001 00000000 00060002 ) % Why, Mario! Is... Isn't that... my Storeroom Key?
            Case  ==  00000000
            Default
                Call  SpeakToPlayer ( 00000000 00880004 00880001 00000000 00060003 ) % All right, Mario! You did it! You got back my Stor ...
                Call  SetNpcFlagBits    ( .Npc:Self 00000300 .True )
                Call  SetNpcAnimation   ( 00000000 00880003 )
                Call  NpcMoveTo     ( 00000000 00000127 FFFFFE34 00000000 )
                Call  NpcMoveTo     ( 00000000 000000E6 FFFFFE20 00000000 )
                Call  NpcJump0      ( 00000000 000000C6 0000001E FFFFFE20 00000000 )
                Call  NpcJump0      ( 00000000 000000A2 00000028 FFFFFE20 00000000 )
                Call  SetNpcAnimation   ( 00000000 00880001 )
                Wait  20`
                Exec  $Script_8024F24C
                Call  SetNpcAnimation   ( 00000000 00880003 )
                Call  NpcMoveTo     ( 00000000 000000C8 FFFFFDF4 00000000 )
                Call  SetNpcPos     ( 00000000 000000C8 0000001E FFFFFDF4 )
                Call  SetNpcAnimation   ( 00000000 00880001 )
                Call  InterpNpcYaw  ( 00000000 000000B4 00000000 )
                Call  PlayerFaceNpc ( 00000000 00000000 )
                Call  SpeakToPlayer ( 00000000 00880004 00880001 00000000 00060005 ) % Tell you what. Take anything you like from the sto ...
                Call  SetNpcFlagBits    ( .Npc:Self 00000300 .False )
                Set   *StoryProgress  FFFFFFF9
        EndSwitch
    Else
        ExecWait  80284054
    EndIf
    Return
    End
}

#new:Script $Script_Init_8024911C
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80248E2C )
    If  *StoryProgress  >=  FFFFFFF3
        If  *StoryProgress  <  FFFFFFF9
            Call  SetNpcAnimation   ( 00000000 00880001 )
        EndIf
    EndIf
    Return
    End
}

#new:Script $Script_Interact_80249184
{
    If  *Flag_MAC_A1  ==  .False
        Set   *Var[0]  000600A8
        Set   *Flag_MAC_A1  .True
    Else
        Set   *Var[0]  000600A9
    EndIf
    Call  $Function_80241C20 ( )
    Call  SpeakToPlayer     ( 0000000D 00A60004 00A60001 00000000 *Var[0] ) % variable string ID
    Call  ShowCoinCounter   ( .True )
    Call  ShowChoice        ( 001E000E ) % Yes No
    If  *Var[0]  !=  00000000
        Call  ShowCoinCounter   ( .False )
        Call  ContinueSpeech    ( 0000000D 00A60004 00A60001 00000000 000600AA ) % Too bad... Your loss. Another time, maybe.
        Call  $Function_80241C40 ( )
        Return
    EndIf
    Call  $Function_802419D0 ( )
    If  *Var[0]  <  00000027
        Call  ShowCoinCounter   ( .False )
        Call  ContinueSpeech    ( 0000000D 00A60004 00A60001 00000000 000600AB ) % What are you trying to pull? You don't have 39 coi ...
        Call  $Function_80241C40 ( )
        Return
    EndIf
    Call  $Function_80241B90 ( )
    Call  SetMessageValue   ( *Var[0] 00000000 )
    Call  SetMessageValue   ( *Var[1] 00000001 )
    Call  SetMessageValue   ( *Var[2] 00000002 )
    Call  ContinueSpeech    ( 0000000D 00A60004 00A60001 00000000 000600AC ) % There you go! Good call! Here's your current statu ...
    Call  ShowChoice        ( 001E000B ) % H P F P B P
    If  *Var[0]  ==  00000003
        Call  ShowCoinCounter   ( .False )
        Call  ContinueSpeech    ( 0000000D 00A60004 00A60001 00000000 000600AD ) % Aw, man. You're backing out...? Oh, well. Your los ...
        Call  $Function_80241C40 ( )
        Return
    EndIf
    Set   *Var[2]  00000000
    Call  $Function_802419E4    ( *Var[3] *Var[4] *Var[5] )
    Switch  *Var[0]
        Case  ==  00000000
            If  *Var[3]  >  00000028
                Set   *Var[2]  00000001
            EndIf
            Set   *Var[1]  001D00D1
        Case  ==  00000001
            If  *Var[4]  >  00000028
                Set   *Var[2]  00000001
            EndIf
            Set   *Var[1]  001D00D2
        Case  ==  00000002
            If  *Var[5]  >  00000018
                Set   *Var[2]  00000001
            EndIf
            Set   *Var[1]  001D00D3
    EndSwitch
    Set   *Var[A]  *Var[0]
    If  *Var[2]  ==  00000001
        Call  ShowCoinCounter   ( .False )
        Call  ContinueSpeech    ( 0000000D 00A60004 00A60001 00000000 000600B1 ) % Oh, too bad, man. That one can't be upgraded any m ...
        Call  $Function_80241C40 ( )
        Return
    EndIf
    Call  AddCoin   ( FFFFFFD9 )
    Call  ShowCoinCounter   ( .False )
    Call  SetMessageString  ( *Var[1] 00000000 )
    Call  ContinueSpeech    ( 0000000D 00A60004 00A60001 00000000 000600AE ) % All right. So you want  to  be upgraded. Here goes ...
    Wait  10`
    Call  SetNpcAnimation   ( 0000000D 00A60005 )
    Wait  10`
    Call  PlaySoundAtNpc    ( 0000000D 0000024B 00000000 )
    Call  GetNpcPos ( 0000000D *Var[6] *Var[7] *Var[8] )
    Add   *Var[7]  0000001A
    Call  PlayEffect        ( ~FX:ShimmerBurst:White *Var[6] *Var[7] *Var[8] 00000001 0000003C 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Call  SetNpcAnimation   ( 0000000D 00A60006 )
    Wait  80`
    Call  SetNpcAnimation   ( 0000000D 00A60001 )
    Call  $Function_80241A64 ( )
    Call  $Function_802418AC    ( *Var[6] )
    If  *Var[6]  ==  00000000
        Set   *Var[7]  000600AF
    Else
        Set   *Var[7]  000600B0
    EndIf
    Call  SpeakToPlayer ( 0000000D 00A60004 00A60001 00000000 *Var[7] ) % variable string ID
    Wait  10`
    Call  GetNpcPos     ( 0000000D *Var[0] *Var[1] *Var[2] )
    Call  PlaySoundAtNpc    ( 0000000D 00002098 00000000 )
    Call  PlayEffect    ( ~FX:BigSmokePuff *Var[0] *Var[1] *Var[2] 00000001 00000001 00000001 00000001 00000000 00000000 00000000 00000000 00000000 00000000 )
    Call  SetNpcPos     ( 0000000D 00000000 FFFFFC18 00000000 )
    Set   *AreaFlag[032]  .True
    Call  $Function_80241C60 ( )
    Return
    End
}

#new:Script $Script_Init_802497B0
{
    If  *AreaFlag[032]  ==  .False
        Set   *Var[0]  00000000
        Call  $Function_802419E4    ( *Var[1] *Var[2] *Var[3] )
        If  *Var[1]  <=  00000005
            Set   *Var[0]  00000001
        EndIf
        If  *Var[2]  <=  00000005
            Set   *Var[0]  00000001
        EndIf
        If  *Var[3]  <=  00000003
            Set   *Var[0]  00000001
        EndIf
    Else
        Set   *Var[0]  00000001
    EndIf
    If  *Var[0]  ==  00000000
        Call  SetNpcCollisionSize   ( .Npc:Self 00000026 00000034 )
        Call  $Function_80241BB8    ( FFFFFFFF *Fixed[2.0] )
        Call  SetNpcFlagBits        ( .Npc:Self 00010000 .True )
        Call  BindNpcInteract       ( .Npc:Self $Script_Interact_80249184 )
    Else
        Call  RemoveNpc ( .Npc:Self )
    EndIf
    Return
    End
}

#new:Script $Script_Interact_80249918
{
    Switch  *StoryProgress
        Case  <  FFFFFFCB
            If  *Flag_MAC_9A  ==  .False
                Set   *Var[0]  00060006
            Else
                Set   *Var[0]  00060007
            EndIf
        Case  <  FFFFFFF1
            Set   *Var[0]  00060008
        Case  <  FFFFFFF9
            If  *Flag_MAC_A0  ==  .False
                Set   *Var[0]  00060009
            Else
                Set   *Var[0]  0006000A
            EndIf
        Case  <  00000007
            Set   *Var[0]  0006000B
        Case  <  0000000A
            Set   *Var[0]  0006000C
        Case  <  00000027
            Set   *Var[0]  0006000D
        Case  <  0000002B
            Set   *Var[0]  0006000E
        Case  <  00000039
            Set   *Var[0]  0006000F
        Case  <  0000003D
            Set   *Var[0]  00060010
        Case  <  00000059
            Set   *Var[0]  00060011
        Case  <  00000060
            Set   *Var[0]  00060012
    EndSwitch
    Call  SpeakToPlayer ( .Npc:Self 00840204 00840201 00000000 *Var[0] ) % variable string ID
    Return
    End
}

#new:Script $Script_Init_80249AF0
{
    Set   *AreaFlag[02D]  .False
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80249918 )
    Return
    End
}

#new:Script $Script_Interact_80249B24
{
    Switch  *StoryProgress
        Case  <  FFFFFFCB
            If  *Flag_MAC_9A  ==  .False
                Set   *Var[0]  00060013
            Else
                Set   *Var[0]  00060014
            EndIf
        Case  <  FFFFFFF1
            Set   *Var[0]  00060015
        Case  <  FFFFFFF9
            If  *Flag_MAC_A0  ==  .False
                Set   *Var[0]  00060016
            Else
                Set   *Var[0]  00060017
            EndIf
        Case  <  00000007
            Set   *Var[0]  00060018
        Case  <  0000000A
            Set   *Var[0]  00060019
        Case  <  00000027
            Set   *Var[0]  0006001A
        Case  <  0000002B
            Set   *Var[0]  0006001B
        Case  <  00000039
            Set   *Var[0]  0006001C
        Case  <  0000003D
            Set   *Var[0]  0006001D
        Case  <  00000059
            Set   *Var[0]  0006001E
        Case  <  00000060
            Set   *Var[0]  0006001F
    EndSwitch
    Call  SpeakToPlayer ( .Npc:Self 00840304 00840301 00000000 *Var[0] ) % variable string ID
    Return
    End
}

#new:Script $Script_Init_80249CFC
{
    Set   *AreaFlag[02E]  .False
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80249B24 )
    Return
    End
}

#new:Script $Script_Interact_80249D30
{
    Switch  *StoryProgress
        Case  <  FFFFFFCB
            If  *Flag_MAC_9A  ==  .False
                Set   *Var[0]  00060020
            Else
                Set   *Var[0]  00060021
            EndIf
        Case  <  FFFFFFF1
            Set   *Var[0]  00060022
        Case  <  FFFFFFF9
            If  *Flag_MAC_A0  ==  .False
                Set   *Var[0]  00060023
            Else
                Set   *Var[0]  00060024
            EndIf
        Case  <  00000007
            Set   *Var[0]  00060025
        Case  <  0000000A
            Set   *Var[0]  00060026
        Case  <  00000027
            Set   *Var[0]  00060027
        Case  <  0000002B
            Set   *Var[0]  00060028
        Case  <  00000039
            Set   *Var[0]  00060029
        Case  <  0000003D
            Set   *Var[0]  0006002A
        Case  <  00000059
            Set   *Var[0]  0006002B
        Case  <  00000060
            Set   *Var[0]  0006002C
    EndSwitch
    Call  SpeakToPlayer ( .Npc:Self 00830204 00830201 00000000 *Var[0] ) % variable string ID
    Return
    End
}

#new:Script $Script_Init_80249F08
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80249D30 )
    Return
    End
}

#new:Script $Script_Interact_80249F2C
{
    Switch  *StoryProgress
        Case  <  FFFFFFCB
            If  *Flag_MAC_9A  ==  .False
                Set   *Var[0]  0006002D
            Else
                Set   *Var[0]  0006002E
            EndIf
        Case  <  FFFFFFF1
            Set   *Var[0]  0006002F
        Case  <  FFFFFFF9
            If  *Flag_MAC_A0  ==  .False
                Set   *Var[0]  00060030
            Else
                Set   *Var[0]  00060031
            EndIf
        Case  <  00000007
            Set   *Var[0]  00060032
        Case  <  0000000A
            Set   *Var[0]  00060033
        Case  <  00000027
            Set   *Var[0]  00060034
        Case  <  0000002B
            Set   *Var[0]  00060035
        Case  <  00000039
            Set   *Var[0]  00060036
        Case  <  0000003D
            Set   *Var[0]  00060037
        Case  <  00000059
            Set   *Var[0]  00060038
        Case  <  00000060
            Set   *Var[0]  00060039
    EndSwitch
    Call  SpeakToPlayer ( .Npc:Self 00830204 00830201 00000000 *Var[0] ) % variable string ID
    Return
    End
}

#new:Script $Script_Init_8024A104
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80249F2C )
    Return
    End
}

#new:Script $Script_Interact_8024A128
{
    Switch  *StoryProgress
        Case  <  FFFFFFCB
            If  *Flag_MAC_9A  ==  .False
                Set   *Var[0]  0006003A
                Set   *Var[1]  0006003B
                Set   *Var[2]  0006003C
            Else
                Set   *Var[0]  0006003D
                Set   *Var[1]  0006003E
                Set   *Var[2]  0006003F
            EndIf
        Case  <  FFFFFFF1
            Set   *Var[0]  00060040
            Set   *Var[1]  00060041
            Set   *Var[2]  00060042
        Case  <  FFFFFFF9
            If  *Flag_MAC_A0  ==  .False
                Set   *Var[0]  00060043
                Set   *Var[1]  00060044
                Set   *Var[2]  00060045
            Else
                Set   *Var[0]  00060046
                Set   *Var[1]  00060047
                Set   *Var[2]  00060048
            EndIf
        Case  <  00000007
            Set   *Var[0]  00060049
            Set   *Var[1]  0006004A
            Set   *Var[2]  0006004B
        Case  <  0000000A
            Set   *Var[0]  0006004C
            Set   *Var[1]  0006004D
            Set   *Var[2]  0006004E
        Case  <  00000027
            Set   *Var[0]  0006004F
            Set   *Var[1]  00060050
            Set   *Var[2]  00060051
        Case  <  0000002B
            Set   *Var[0]  00060052
            Set   *Var[1]  00060053
            Set   *Var[2]  00060054
        Case  <  00000039
            Set   *Var[0]  00060055
            Set   *Var[1]  00060056
            Set   *Var[2]  00060057
        Case  <  0000003D
            Set   *Var[0]  00060058
            Set   *Var[1]  00060059
            Set   *Var[2]  0006005A
        Case  <  00000059
            Set   *Var[0]  0006005B
            Set   *Var[1]  0006005C
            Set   *Var[2]  0006005D
        Case  <  00000060
            Set   *Var[0]  0006005E
            Set   *Var[1]  0006005F
            Set   *Var[2]  00060060
    EndSwitch
    Call  SpeakToPlayer ( 00000005 00860004 00860001 00000000 *Var[0] ) % variable string ID
    Call  SpeakToPlayer ( 00000006 00860304 00860301 00000000 *Var[1] ) % variable string ID
    Call  SpeakToPlayer ( 00000007 00860104 00860101 00000000 *Var[2] ) % variable string ID
    Return
    End
}

#new:Script $Script_Init_8024A4E0
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024A128 )
    Return
    End
}

#new:Script $Script_Init_8024A504
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024A128 )
    Return
    End
}

#new:Script $Script_Init_8024A528
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024A128 )
    Return
    End
}

#new:Script $Script_Interact_8024A54C
{
    Switch  *StoryProgress
        Case  <  FFFFFFCB
            If  *Flag_MAC_9A  ==  .False
                Set   *Var[0]  00060061
            Else
                Set   *Var[0]  00060062
            EndIf
        Case  <  FFFFFFF1
            Set   *Var[0]  00060063
        Case  <  FFFFFFF7
            Set   *Var[0]  00060064
        Case  <  FFFFFFF8
            Set   *Var[0]  00060065
        Case  <  FFFFFFF9
            Set   *Var[0]  00060066
        Case  <  FFFFFFFC
            Set   *Var[0]  00060067
        Case  <  FFFFFFFD
            Set   *Var[0]  00060068
        Case  <  00000000
            Call  FindKeyItem   ( .Item:MysteryNote *Var[0] )
            If  *Var[0]  ==  FFFFFFFF
                If  *Flag_MAC_72  ==  .False
                    Set   *Var[0]  00060069
                Else
                    Set   *Var[0]  0006006B
                EndIf
            Else
                Set   *Var[0]  0006006A
            EndIf
        Case  <  00000007
            Set   *Var[0]  0006006C
        Case  <  0000000A
            Set   *Var[0]  0006006D
        Case  <  00000027
            Set   *Var[0]  0006006E
        Case  <  0000002B
            Set   *Var[0]  0006006F
        Case  <  00000039
            Set   *Var[0]  00060070
        Case  <  0000003D
            Set   *Var[0]  00060071
        Case  <  00000059
            Set   *Var[0]  00060072
        Case  <  00000060
            Set   *Var[0]  00060073
    EndSwitch
    Call  SpeakToPlayer ( .Npc:Self 00840004 00840001 00000000 *Var[0] ) % variable string ID
    Return
    End
}

#new:Script $Script_Init_8024A7F4
{
    Switch  *StoryProgress
        Case  FFFFFFF1  to  00000007
            Call  SetNpcPos ( .Npc:Self FFFFFED4 00000000 00000145 )
    EndSwitch
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024A54C )
    Return
    End
}

#new:Script $Script_Interact_8024A858
{
    Switch  *StoryProgress
        Case  <  FFFFFFCB
            If  *Flag_MAC_9A  ==  .False
                Set   *Var[0]  00060074
            Else
                Set   *Var[0]  00060075
            EndIf
        Case  <  FFFFFFF1
            Set   *Var[0]  00060076
        Case  <  FFFFFFF9
            If  *Flag_MAC_A0  ==  .False
                Set   *Var[0]  00060077
            Else
                Set   *Var[0]  00060078
            EndIf
        Case  <  00000007
            Set   *Var[0]  00060079
        Case  <  0000000A
            Set   *Var[0]  0006007A
        Case  <  00000027
            Set   *Var[0]  0006007B
        Case  <  0000002B
            Set   *Var[0]  0006007C
        Case  <  00000039
            Set   *Var[0]  0006007D
        Case  <  0000003D
            Set   *Var[0]  0006007E
        Case  <  00000059
            Set   *Var[0]  0006007F
        Case  <  00000060
            Set   *Var[0]  00060080
    EndSwitch
    Call  SpeakToPlayer ( .Npc:Self 00830104 00830101 00000000 *Var[0] ) % variable string ID
    Return
    End
}

#new:Script $Script_Init_8024AA30
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024A858 )
    Return
    End
}

#new:Script $Script_Interact_8024AA54
{
    Switch  *StoryProgress
        Case  <  FFFFFFCB
            If  *Flag_MAC_9A  ==  .False
                Set   *Var[0]  00060081
                Set   *Var[1]  00060082
                Set   *Var[2]  00060083
            Else
                Set   *Var[0]  00060084
                Set   *Var[1]  00060085
                Set   *Var[2]  00060086
            EndIf
        Case  <  FFFFFFF1
            Set   *Var[0]  00060087
            Set   *Var[1]  00060088
            Set   *Var[2]  00060089
        Case  <  FFFFFFF9
            If  *Flag_MAC_A0  ==  .False
                Set   *Var[0]  0006008A
                Set   *Var[1]  0006008B
                Set   *Var[2]  0006008C
            Else
                Set   *Var[0]  0006008D
                Set   *Var[1]  0006008E
                Set   *Var[2]  0006008F
            EndIf
        Case  <  00000007
            Set   *Var[0]  00060090
            Set   *Var[1]  00060091
            Set   *Var[2]  00060092
        Case  <  0000000A
            Set   *Var[0]  00060093
            Set   *Var[1]  00060094
            Set   *Var[2]  00060095
        Case  <  00000027
            Set   *Var[0]  00060096
            Set   *Var[1]  00060097
            Set   *Var[2]  00060098
        Case  <  0000002B
            Set   *Var[0]  00060099
            Set   *Var[1]  0006009A
            Set   *Var[2]  0006009B
        Case  <  00000039
            Set   *Var[0]  0006009C
            Set   *Var[1]  0006009D
            Set   *Var[2]  0006009E
        Case  <  0000003D
            Set   *Var[0]  0006009F
            Set   *Var[1]  000600A0
            Set   *Var[2]  000600A1
        Case  <  00000059
            Set   *Var[0]  000600A2
            Set   *Var[1]  000600A3
            Set   *Var[2]  000600A4
        Case  <  00000060
            Set   *Var[0]  000600A5
            Set   *Var[1]  000600A6
            Set   *Var[2]  000600A7
    EndSwitch
    Call  SpeakToPlayer ( 0000000A 00830104 00830101 00000000 *Var[0] ) % variable string ID
    Call  SpeakToPlayer ( 0000000B 00830004 00830001 00000000 *Var[1] ) % variable string ID
    Call  SpeakToPlayer ( 0000000C 00830304 00830301 00000000 *Var[2] ) % variable string ID
    Return
    End
}

#new:Script $Script_Init_8024AE0C
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024AA54 )
    Return
    End
}

#new:Script $Script_Init_8024AE30
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024AA54 )
    Return
    End
}

#new:Script $Script_Init_8024AE54
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024AA54 )
    Return
    End
}

#new:Script $Script_Interact_8024AE78
{
    Call  GetCurrentPartnerID   ( *Var[0] )
    If  *Var[0]  ==  .Partner:Goombario % 1
        Call  DisablePartnerAI  ( 00000001 )
        If  *Flag_MAC_A2  ==  .False
            Call  SpeakToPlayer ( .Npc:Self 00A10004 00A10001 00000000 000600B6 ) % Goombario, you're looking just fine, aren't you? Y ...
            Call  SpeakToPlayer ( .Npc:Partner 00010008 00010001 00000000 000600B7 ) % Hey! No way I'm a burden! I help out all the time!
            Call  SpeakToPlayer ( .Npc:Self 00A10004 00A10001 00000000 000600B8 ) % Well, well! Our dear little Goombario is helping o ...
            Call  SpeakToPlayer ( .Npc:Partner 00010008 00010001 00000000 000600B9 ) % Come on, stop it, Mom! You're embarrassing me. I'm ...
            Call  SpeakToPlayer ( .Npc:Self 00A10004 00A10001 00000000 000600BA ) % Oh, don't be silly, punkin! I'm not saying anythin ...
            Call  SpeakToPlayer ( .Npc:Partner 00010008 00010001 00000000 000600BB ) % Aw, Mommmmm... You always treat me like a kid.
            Call  SpeakToPlayer ( 00000013 009E000B 009E0001 00000000 000600BC ) % Nyeah, nyeah! Goombario's getting scolded!
            Call  SpeakToPlayer ( .Npc:Partner 00010008 00010001 00000000 000600BD ) % Shut up, Goombaria!
            Call  SpeakToPlayer ( 00000013 009E000B 009E0001 00000000 000600BE ) % Waaah! Mom! Goombario's being mean!
            Set   *Flag_MAC_A2  .True
        Else
            Call  SpeakToPlayer ( .Npc:Self 00A10004 00A10001 00000000 000600BF ) % Goombario. Good luck and take care of yourself. Do ...
        EndIf
        Call  EnablePartnerAI ( )
    Else
        Call  SpeakToPlayer ( .Npc:Self 00A10004 00A10001 00000000 000600B5 ) % Well, well. If it isn't Mario! How wonderful to se ...
    EndIf
    Return
    End
}

#new:Script $Script_Interact_8024B064
{
    Call  GetCurrentPartnerID   ( *Var[0] )
    If  *Var[0]  ==  .Partner:Goombario % 1
        Call  DisablePartnerAI  ( 00000001 )
        If  *AreaFlag[030]  ==  .False
            Call  SpeakToPlayer ( .Npc:Self 009E000B 009E0001 00000000 000600C1 ) % Mario... Please take good care of my brother, OK?
            Call  SpeakToPlayer ( .Npc:Partner 00010008 00010001 00000000 000600C2 ) % Come on, we're in a hurry,  Goombaria! Seriously!  ...
            Call  SpeakToPlayer ( .Npc:Self 009E000B 009E0001 00000000 000600C3 ) % Be quiet!
            Set   *AreaFlag[030]  .True
        Else
            Call  SpeakToPlayer ( .Npc:Self 009E000B 009E0001 00000000 000600C4 ) % Bye, Mario! Good luck! Take care, Goombario!
        EndIf
        Call  EnablePartnerAI ( )
    Else
        Call  SpeakToPlayer ( .Npc:Self 009E000B 009E0001 00000000 000600C0 ) % Mario! Nice to see you again! How's my brother doi ...
    EndIf
    Return
    End
}

#new:Script $Script_Init_8024B190
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024AE78 )
    Return
    End
}

#new:Script $Script_Init_8024B1B4
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024B064 )
    Return
    End
}

#new:NpcGroup $NpcGroup_8024B1D8
{
    0000000D $NpcSettings_80243EE0 ~Vec3f:NPC_8024B1D8 % 410 20 -200
    00000D09 $Script_Init_802497B0 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024B1D8
    ~AnimationTable:NPC_8024B1D8 % .Sprite:ChetRippo
    00000000 00000000 00000000 001A0051 % He claims that he can upgrade your point levels... ...
    %
    % $NpcGroup_8024B1D8[1F0]
    00000000 $NpcSettings_80243E88 ~Vec3f:NPC_8024B3C8 % 310 20 -430
    00002D09 $Script_Init_8024911C 00000000 00000000 000000E6
    ~NoDrops
    ~Movement:NPC_8024B3C8
    ~AnimationTable:NPC_8024B3C8 % .Sprite:HarryT
    00000000 00000000 00000000 001A0044 % He runs a shop. He buys, sells and checks items. C ...
    %
    % $NpcGroup_8024B1D8[3E0]
    00000001 $NpcSettings_80243E88 ~Vec3f:NPC_8024B5B8 % -80 20 -100
    00002D09 $Script_Init_80249AF0 00000000 00000000 00000085
    ~NoDrops
    ~Movement:NPC_8024B5B8
    ~AnimationTable:NPC_8024B5B8 % .Sprite:ThreeSisters
    00000000 00000000 00000000 001A004F % These Toads just moved here. This is the first tim ...
    %
    % $NpcGroup_8024B1D8[5D0]
    00000002 $NpcSettings_80243E88 ~Vec3f:NPC_8024B7A8 % -133 20 -82
    00002D09 $Script_Init_80249CFC 00000000 00000000 00000085
    ~NoDrops
    ~Movement:NPC_8024B7A8
    ~AnimationTable:NPC_8024B7A8 % .Sprite:ThreeSisters
    00000000 00000000 00000000 001A0050 % These Toads just moved here. They like peace and q ...
    %
    % $NpcGroup_8024B1D8[7C0]
    00000003 $NpcSettings_80243E30 ~Vec3f:NPC_8024B998 % 48 0 153
    00002D09 $Script_Init_80249F08 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024B998
    ~AnimationTable:NPC_8024B998 % .Sprite:Toad
    00000000 00000000 00000000 001A0045 % He talks a lot, this guy. Say, since I travel with ...
    %
    % $NpcGroup_8024B1D8[9B0]
    00000004 $NpcSettings_80243E88 ~Vec3f:NPC_8024BB88 % -239 20 105
    00002D09 $Script_Init_8024A104 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024BB88
    ~AnimationTable:NPC_8024BB88 % .Sprite:Toad
    00000000 00000000 00000000 001A0046 % This guy is pretty wary. He doesn't believe most o ...
    %
    % $NpcGroup_8024B1D8[BA0]
    00000005 $NpcSettings_80243E88 ~Vec3f:NPC_8024BD78 % 254 20 436
    00002D09 $Script_Init_8024A4E0 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024BD78
    ~AnimationTable:NPC_8024BD78 % .Sprite:ToadKid
    00000000 00000000 00000000 001A0047 % Look at these cheerful kids! Everything is just fu ...
    %
    % $NpcGroup_8024B1D8[D90]
    00000006 $NpcSettings_80243E88 ~Vec3f:NPC_8024BF68 % 304 20 410
    00002D09 $Script_Init_8024A504 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024BF68
    ~AnimationTable:NPC_8024BF68 % .Sprite:ToadKid
    00000000 00000000 00000000 001A0048 % They're just some Toad children, having a good tim ...
    %
    % $NpcGroup_8024B1D8[F80]
    00000007 $NpcSettings_80243E88 ~Vec3f:NPC_8024C158 % 345 20 438
    00002D09 $Script_Init_8024A528 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024C158
    ~AnimationTable:NPC_8024C158 % .Sprite:ToadKid
    00000000 00000000 00000000 001A0049 % He's a Toad kid who follows the other two. He's a  ...
    %
    % $NpcGroup_8024B1D8[1170]
    00000008 $NpcSettings_80243E88 ~Vec3f:NPC_8024C348 % -274 0 400
    00002D09 $Script_Init_8024A7F4 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024C348
    ~AnimationTable:NPC_8024C348 % .Sprite:ThreeSisters
    00000000 00000000 00000000 001A004A % She's always taking a walk around here. She's eleg ...
    %
    % $NpcGroup_8024B1D8[1360]
    00000009 $NpcSettings_80243E88 ~Vec3f:NPC_8024C538 % 500 20 -160
    00002D09 $Script_Init_8024AA30 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024C538
    ~AnimationTable:NPC_8024C538 % .Sprite:Toad
    00000000 00000000 00000000 001A004B % I think this Toad is a guide. He wants to be a Tou ...
    %
    % $NpcGroup_8024B1D8[1550]
    0000000A $NpcSettings_80243E88 ~Vec3f:NPC_8024C728 % -110 0 568
    00002D09 $Script_Init_8024AE0C 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024C728
    ~AnimationTable:NPC_8024C728 % .Sprite:Toad
    00000000 00000000 00000000 001A004C % He's part of the Great Gossip Trio. He can't get e ...
    %
    % $NpcGroup_8024B1D8[1740]
    0000000B $NpcSettings_80243E88 ~Vec3f:NPC_8024C918 % -114 0 498
    00002D09 $Script_Init_8024AE30 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024C918
    ~AnimationTable:NPC_8024C918 % .Sprite:Toad
    00000000 00000000 00000000 001A004D % He's part of the Great Gossip Trio. I wonder when  ...
    %
    % $NpcGroup_8024B1D8[1930]
    0000000C $NpcSettings_80243E88 ~Vec3f:NPC_8024CB08 % -52 0 525
    00002D09 $Script_Init_8024AE54 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024CB08
    ~AnimationTable:NPC_8024CB08 % .Sprite:Toad
    00000000 00000000 00000000 001A004E % He's part of the Great Gossip Trio. I wonder how t ...
}

#new:ExtraAnimationList $ExtraAnimationList_8024CCF8
{
    00200001 00200005 00200009 FFFFFFFF
}

#new:NpcGroup $NpcGroup_8024CD08
{
    00000010 $NpcSettings_80243FBC ~Vec3f:NPC_8024CD08 % 0 -1000 0
    00002D09 $Script_Init_8024808C 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024CD08
    ~AnimationTable:NPC_8024CD08 % .Sprite:Twink
    00000000 00000000 $ExtraAnimationList_8024CCF8 00000000 % no tattle string
    %
    % $NpcGroup_8024CD08[1F0]
    0000000E $NpcSettings_80243E88 ~Vec3f:NPC_8024CEF8 % 0 -1000 0
    00002F09 00000000 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024CEF8
    ~AnimationTable:NPC_8024CEF8 % .Sprite:ShyGuy
    00000000 00000000 00000000 00000000 % no tattle string
    %
    % $NpcGroup_8024CD08[3E0]
    0000000F $NpcSettings_80243E88 ~Vec3f:NPC_8024D0E8 % 0 -1000 0
    00002F09 $Script_Init_80248E14 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024D0E8
    ~AnimationTable:NPC_8024D0E8 % .Sprite:ShyGuy
    00000000 00000000 00000000 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_8024D2D8
{
    00000011 $NpcSettings_80243F38 ~Vec3f:NPC_8024D2D8 % -486 20 259
    00000D09 $Script_Init_80247B1C 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024D2D8
    ~AnimationTable:NPC_8024D2D8 % .Sprite:WorldMuskular
    00000000 00000000 00000000 00000000 % no tattle string
    %
    % $NpcGroup_8024D2D8[1F0]
    00000010 $NpcSettings_80243F38 ~Vec3f:NPC_8024D4C8 % 0 -1000 0
    00000D09 $Script_Init_80247B8C 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024D4C8
    ~AnimationTable:NPC_8024D4C8 % .Sprite:Twink
    00000000 00000000 00000000 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_8024D6B8
{
    00000012 $NpcSettings_80243F0C ~Vec3f:NPC_8024D6B8 % -126 0 329
    00002D09 $Script_Init_8024B190 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024D6B8
    ~AnimationTable:NPC_8024D6B8 % .Sprite:Goomma
    00000000 00000000 00000000 001A0066 % She's my mom, Goomama. She sometimes gets on my ne ...
    %
    % $NpcGroup_8024D6B8[1F0]
    00000013 $NpcSettings_80243F0C ~Vec3f:NPC_8024D8A8 % -117 0 305
    00002D09 $Script_Init_8024B1B4 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024D8A8
    ~AnimationTable:NPC_8024D8A8 % .Sprite:Goombaria
    00000000 00000000 00000000 001A0067 % She's my sister, Goombaria. She's a spoiled girl,  ...
}

#new:NpcGroup $NpcGroup_8024DA98
{
    00000014 $NpcSettings_802465B8 ~Vec3f:NPC_8024DA98 % 57 20 -114
    00006D09 00000000 00000001 00010604 0000010E
    ~NoDrops
    ~Movement:NPC_8024DA98
    ~AnimationTable:NPC_8024DA98 % .Sprite:ChuckQuizmo
    00000000 00000000 00000000 001A0002 % He's Chuck Quizmo. He tries to quiz anybody who sp ...
}

#new:NpcGroupList $NpcGroupList_8024DC88
{
    0000000E $NpcGroup_8024B1D8 00000000
    00000001 $NpcGroup_8024DA98 00000000
    00000000 00000000 00000000
}

#new:NpcGroupList $NpcGroupList_8024DCAC
{
    0000000E $NpcGroup_8024B1D8 00000000
    00000003 $NpcGroup_8024CD08 00000000
    00000000 00000000 00000000
}

#new:NpcGroupList $NpcGroupList_8024DCD0
{
    0000000E $NpcGroup_8024B1D8 00000000
    00000002 $NpcGroup_8024D2D8 00000000
    00000000 00000000 00000000
}

#new:NpcGroupList $NpcGroupList_8024DCF4
{
    0000000E $NpcGroup_8024B1D8 00000000
    00000002 $NpcGroup_8024D6B8 00000000
    00000000 00000000 00000000
}

PADDING: 8024DD18 to 8024DD20 (0000DD18 to 0000DD20)
00000000 00000000

% Origin: HEURISTIC
#new:AISettings $AISettings_8024DD20
{
    1.5 % move speed
    60` % move time
    30` % wait time
    0.0 % alert radius
    0.0
    -1`
    0.0 % chase speed
    0`
    0`
    0.0 % chase radius
    0.0
    1`
}

% Origin: HEURISTIC
#new:Script $Script_8024DD50
{
    Call  DoBasicAI ( $AISettings_8024DD20 )
    Return
    End
}

MISSING: 8024DD70 to 8024DDC8 (0000DD70 to 0000DDC8)
00000000 001E0018 00000000 00000000 8024DD50 00000000 00000000 00000000
00000000 00000000 00630010 00000000 00170013 00000000 00000000 8024DD50
00000000 00000000 00000000 00000000 00000000 00630010

#new:NpcSettings $NpcSettings_8024DDC8
{
    00000000 001E0018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

MISSING: 8024DDF4 to 8024DED0 (0000DDF4 to 0000DED0)
00000000 00170013 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00630000 00000000 00160018 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00630010 00000000 001A0018
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00630000 00000000 00140014 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00630000 00000000 00160018 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00630000

#new:Script $Script_8024DED0
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePlayerPhysics  ( .True )
    Call  SetPlayerActionState  ( .ActionState:Land )
    Call  SetNpcFlagBits    ( .Npc:Partner 00000200 .False )
    Call  UseSettingsFrom   ( .Cam:Default FFFFFF9C 00000000 000000C8 )
    Call  SetPanTarget      ( .Cam:Default FFFFFF9C 00000000 000000C8 )
    Call  SetCamDistance    ( .Cam:Default *Fixed[-400.0] )
    Call  SetCamPitch       ( .Cam:Default *Fixed[6.0] *Fixed[-8.0] )
    Call  SetCamSpeed       ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget       ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam        ( .Cam:Default *Fixed[1.0] )
    Wait  20`
    Call  SpeakToPlayer     ( 00000015 00860004 00860006 00000000 000A0070 ) % I want to eat Shroom Cake... I want to eat Shroom  ...
    Wait  10`
    Call  GotoMap   ( $ASCII_8024F570 00000001 ) % hos_20
    Wait  100`
    Return
    End
}

#new:Script $Script_Init_8024E024
{
    Call  SetNpcPos ( .Npc:Self FFFFFF9C 00000000 000000C8 )
    Call  SetNpcYaw ( .Npc:Self 0000005A )
    Return
    End
}

#new:NpcGroup $NpcGroup_8024E064
{
    00000015 $NpcSettings_8024DDC8 ~Vec3f:NPC_8024E064 % 350 0 -20
    00402D09 $Script_Init_8024E024 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024E064
    ~AnimationTable:NPC_8024E064 % .Sprite:ToadKid
    00000000 00000000 00000000 00000000 % no tattle string
    %
    % $NpcGroup_8024E064[1F0]
    0000000A $NpcSettings_8024DDC8 ~Vec3f:NPC_8024E254 % -245 20 100
    00000009 00000000 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024E254
    ~AnimationTable:NPC_8024E254 % .Sprite:Toad
    00000000 00000000 00000000 001A004C % He's part of the Great Gossip Trio. He can't get e ...
    %
    % $NpcGroup_8024E064[3E0]
    0000000B $NpcSettings_8024DDC8 ~Vec3f:NPC_8024E444 % -25 0 170
    00000009 00000000 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024E444
    ~AnimationTable:NPC_8024E444 % .Sprite:Toad
    00000000 00000000 00000000 001A004D % He's part of the Great Gossip Trio. I wonder when  ...
    %
    % $NpcGroup_8024E064[5D0]
    0000000C $NpcSettings_8024DDC8 ~Vec3f:NPC_8024E634 % -100 0 305
    00000009 00000000 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_8024E634
    ~AnimationTable:NPC_8024E634 % .Sprite:Toad
    00000000 00000000 00000000 001A004E % He's part of the Great Gossip Trio. I wonder how t ...
}

#new:NpcGroupList $NpcGroupList_8024E824
{
    00000004 $NpcGroup_8024E064 00000000
    00000000 00000000 00000000
}

PADDING: 8024E83C to 8024E840 (0000E83C to 0000E840)
00000000

#new:Script $Script_8024E840
{
    SetF  *MapVar[A]  *Fixed[1.0]
    Call  SetPlayerFlagBits ( 20000000 .True )
    Call  $Function_80241C90 ( )
    Thread
        Wait  8`
        Call  MakeLerp  ( 00000064 00000014 00000014 .Easing:QuadraticIn )
        Loop
            Call  UpdateLerp ( )
            SetF  *MapVar[A]  *Var[0]
            DivF  *MapVar[A]  00000064
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Return
    End
}

#new:Script $Script_8024E924
{
    SetF  *MapVar[A]  *Fixed[0.2]
    Call  SetPlayerFlagBits ( 20000000 .True )
    Call  $Function_80241C90 ( )
    Thread
        Call  MakeLerp  ( 00000014 00000064 00000028 .Easing:QuadraticOut )
        Loop
            Call  UpdateLerp ( )
            SetF  *MapVar[A]  *Var[0]
            DivF  *MapVar[A]  00000064
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Return
    End
}

#new:Script $Script_8024E9FC
{
    Call  SetPlayerFlagBits ( 20000000 .False )
    Call  $Function_80241CEC ( )
    Return
    End
}

#new:Script $Script_8024EA2C
{
    Label  0
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  SetCamTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Wait  1`
    Goto  0
    Return
    End
}

#new:Script $Script_8024EA94
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePlayerPhysics  ( .True )
    ExecWait  $Script_8024E840
    Call  SetPlayerActionState  ( .ActionState:Jump )
    Wait  1`
    Exec  $Script_8024EA2C *Var[A]
    Thread
        Call  PlaySoundAtCollider   ( ~Collider:omo_ent 000001AA 00000000 )
        Call  MakeLerp  ( 00000000 FFFFFFA6 0000000A .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Set   *Var[2]  00000000
            Sub   *Var[2]  *Var[0]
            Div   *Var[2]  00000003
            Call  RotateGroup       ( ~Model:box_top *Var[0] 00000000 00000000 00000001 )
            Call  TranslateGroup    ( ~Model:box_top 00000000 *Var[2] 00000000 )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Thread
        Call  PlaySoundAtPlayer     ( 000000D9 00000000 )
        Call  SetPlayerJumpscale    ( *Fixed[0.35] )
        Call  PlayerJump    ( ~Vec3d:JumpDest_8024EC14 00000020 )
    EndThread
    Wait  25`
    If  *Flag_EVT_04  ==  .False
        Set   *Flag_EVT_04  .True
        Call  FadeOutMusic      ( 00000000 000005DC )
        Call  GotoMapSpecial    ( $ASCII_8024F590 00000004 00000006 ) % kmr_22
        Wait  100`
        Return
    EndIf
    Call  GotoMap   ( $ASCII_8024F588 00000004 ) % omo_03
    Wait  100`
    Return
    End
}

#new:Script $Script_8024ECDC
{
    Set   *AreaFlag[002]  .True
    Call  DisablePlayerInput    ( .True )
    Call  DisablePlayerPhysics  ( .True )
    ExecWait  $Script_8024E924
    Call  SetPlayerActionState  ( .ActionState:Jump )
    Wait  1`
    Thread
        Call  MakeLerp  ( FFFFFFA6 00000000 0000000A .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Set   *Var[2]  00000000
            Sub   *Var[2]  *Var[0]
            Div   *Var[2]  00000003
            Call  RotateGroup       ( ~Model:box_top *Var[0] 00000000 00000000 00000001 )
            Call  TranslateGroup    ( ~Model:box_top 00000000 *Var[2] 00000000 )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
        Call  PlaySoundAtCollider   ( ~Collider:omo_ent 000001AA 00000000 )
    EndThread
    Exec  $Script_8024EA2C *Var[A]
    Call  PlaySoundAtPlayer     ( 000000DA 00000000 )
    Call  SetPlayerJumpscale    ( *Fixed[0.7] )
    Call  PlayerJump    ( ~Vec3d:JumpDest_8024EE64 00000019 )
    ExecWait  $Script_8024E9FC
    Kill  *Var[A]
    Call  DisablePlayerPhysics  ( .False )
    Call  DisablePlayerInput    ( .False )
    Call  SetPlayerActionState  ( .ActionState:Idle )
    Return
    End
}

#new:Script $Script_8024EED8
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePlayerPhysics  ( .True )
    Call  SetPlayerActionState  ( .ActionState:Jump )
    Wait  1`
    Exec  $Script_8024EA2C *Var[A]
    Call  SetPlayerJumpscale    ( *Fixed[0.7] )
    Call  PlayerJump    ( ~Vec3d:JumpDest_8024EF34 0000000F )
    Set   *AreaFlag[002]  .False
    Kill  *Var[A]
    Call  DisablePlayerPhysics  ( .False )
    Call  DisablePlayerInput    ( .False )
    Call  SetPlayerActionState  ( .ActionState:Idle )
    Return
    End
}

#new:Script $Script_8024EFAC
{
    If  *AreaFlag[002]  ==  .False
        Exec  $Script_8024EA94
    Else
        Exec  $Script_8024EED8
    EndIf
    Return
    End
}

#new:Script $Script_8024EFF4
{
    ExecWait  $Script_80242E48
    Return
    End
}

#new:ItemList $ItemList_8024F010
{
    .Item:StoreroomKey
    00000000
}

#new:Script $Script_8024F018
{
    Call  802D6420 ( )
    If  *Var[0]  ==  00000000
        Call  ShowMessageAtScreenPos    ( 001D00D8 000000A0 00000028 ) % It's locked! You can't open it.
        Call  802D6954 ( )
        Return
    EndIf
    If  *Var[0]  ==  FFFFFFFF
        Call  802D6954 ( )
        Return
    EndIf
    Call  PlaySoundAt       ( 00000269 00000000 0000009B 00000030 FFFFFE20 )
    Set   *Var[0]  *MapVar[0]
    Call  $Function_80241EB0 ( )
    Wait  5`
    Call  RemoveKeyItemAt   ( *Var[1] )
    Call  802D6954 ( )
    Unbind
    Call  DisablePlayerInput    ( .True )
    Call  SpeakToPlayer     ( 00000000 00880004 00880001 00000000 00060004 ) % Ahem... Uh, Mario? Please don't open the storeroom ...
    Call  SetNpcFlagBits    ( 00000000 00000100 .True )
    Call  SetNpcAnimation   ( 00000000 00880003 )
    Call  NpcMoveTo ( 00000000 00000127 FFFFFE34 00000000 )
    Call  NpcMoveTo ( 00000000 000000E6 FFFFFE20 00000000 )
    Call  NpcJump0  ( 00000000 000000C8 0000001E FFFFFDF4 00000000 )
    Call  SetNpcPos ( 00000000 000000C8 0000001E FFFFFDF4 )
    Call  SetNpcAnimation   ( 00000000 00880001 )
    Call  SetNpcFlagBits    ( 00000000 00000100 .False )
    Call  SpeakToPlayer     ( 00000000 00880004 00880001 00000000 00060005 ) % Tell you what. Take anything you like from the sto ...
    Set   *StoryProgress  FFFFFFF9
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_8024F24C
{
    Set   *Var[0]  *MapVar[0]
    Call  $Function_80241EB0 ( )
    Return
    End
}

#new:Script $Script_8024F278
{
    Call  DisablePlayerInput        ( .True )
    Call  ShowMessageAtScreenPos    ( 001D0173 000000A0 00000028 ) %   Port       Peach's Castle
    Call  DisablePlayerInput        ( .False )
    Return
    End
}

#new:Script $Script_MakeEntities
{
    If  *StoryProgress  <  FFFFFFF9
        Call  MakeEntity    ( .Entity:Padlock ~Vec4d:Entity8024F2D0 80000000 )
        Call  AssignScript  ( $Script_8024EFF4 )
        Set   *MapVar[0]  *Var[0]
        Call  80111E9C      ( 00000003 )
        BindLock  $Script_8024F018 .Trigger:WallPressA 00004000 $ItemList_8024F010 00000000 00000001
    EndIf
    Call  MakeItemEntity    ( 00020021 ~Vec3d:Item8024F34C 00000000 *Flag_MAC_9F )
    Thread
        If  *StoryProgress  <  FFFFFFFA
            Loop
                If  *Flag_MAC_9F  !=  .False
                    Set   *StoryProgress  FFFFFFFA
                    BreakLoop
                EndIf
                Wait  1`
            EndLoop
        EndIf
    EndThread
    Call  MakeItemEntity    ( 00020081 ~Vec3d:Item8024F3E8 .ItemSpawnMode:Fixed_NeverVanish *Flag_MAC_AD )
    Call  MakeItemEntity    ( 0002008B ~Vec3d:Item8024F40C .ItemSpawnMode:Fixed_NeverVanish *Flag_MAC_AE )
    Call  MakeItemEntity    ( 0002009A ~Vec3d:Item8024F430 .ItemSpawnMode:Fixed_NeverVanish *Flag_MAC_AF )
    Call  MakeEntity        ( .Entity:ScriptSpring ~Vec4d:Entity8024F454 80000000 )
    Call  AssignScript      ( $Script_8024EFAC )
    Call  80111E9C  ( 00000002 )
    Bind  $Script_8024F278 .Trigger:WallPressA ~Collider:sign 00000001 00000000
    Return
    End
}

PADDING: 8024F4C4 to 8024F4D0 (0000F4C4 to 0000F4D0)
00000000 00000000 00000000

#new:Unknown $???_8024F4D0
{
    C3F00000 435C0000 42C80000 42F00000 00000009 FAA2B58A
}

#new:Script $Script_8024F4E8
{
    Call  SetMusicTrack ( 00000000 .Song:ToadTown 00000000 00000008 )
    Call  802D5EE0      ( 00000000 )
    Thread
        Call  $Function_80241EF0    ( $???_8024F4D0 )
    EndThread
    Return
    End
}

PADDING: 8024F544 to 8024F550 (0000F544 to 0000F550)
00000000 00000000 00000000

% Origin: HEURISTIC
#new:ASCII $ASCII_8024F550
{
    "hos_bg"
}

#new:ASCII $ASCII_8024F558
{
    "mac_05"
}

#new:ASCII $ASCII_8024F560
{
    "mac_02"
}

#new:ASCII $ASCII_8024F568
{
    "omo_03"
}

#new:ASCII $ASCII_8024F570
{
    "hos_20"
}

PADDING: 8024F578 to 8024F580 (0000F578 to 0000F580)
00000000 00000000

% Origin: HEURISTIC
#new:ConstDouble $ConstDouble_8024F580
{
    0.714286d
}

#new:ASCII $ASCII_8024F588
{
    "omo_03"
}

#new:ASCII $ASCII_8024F590
{
    "kmr_22"
}

PADDING: 8024F598 to 8024F5A0 (0000F598 to 0000F5A0)
00000000 00000000

