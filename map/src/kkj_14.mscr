% Script File: kkj_14.mscr
% Decoded from: 0 to A6F0 (kkj_14)

#new:Function_Init $Function_Init
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	CLEAR     A0
	LIO       A1, *StoryProgress
	JAL       ~Func:get_variable
	RESERVED
	ADDIU     V1, R0, FF80
	BNE       V0, V1, .o38
	NOP
	LIA       A0, 800D9668
	LIA       A1, $ASCII_8024A6B0
	JAL       ~Func:sprintf
	RESERVED
	.o38
	LW        RA, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 80240048 to 80240050 (00000048 to 00000050)
00000000 00000000

#new:Function $Function_80240050
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 14 (SP)
	LW        V1, A8 (S0)
	LW        V0, 88 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o30
	SW        V1, A8 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .o40
	ADDU      V0, V1, V0
	.o30
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .o44
	SUBU      V0, V1, A0
	.o40
	SW        V0, A8 (S0)
	.o44
	LW        V1, AC (S0)
	LW        V0, 8C (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o64
	SW        V1, AC (S0)
	LUI       V0, 2
	BEQ       R0, R0, .o74
	ADDU      V0, V1, V0
	.o64
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .o78
	SUBU      V0, V1, A0
	.o74
	SW        V0, AC (S0)
	.o78
	LW        V1, B0 (S0)
	LW        V0, 90 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o98
	SW        V1, B0 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .oA8
	ADDU      V0, V1, V0
	.o98
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .oAC
	SUBU      V0, V1, A0
	.oA8
	SW        V0, B0 (S0)
	.oAC
	LW        V1, B4 (S0)
	LW        V0, 94 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .oCC
	SW        V1, B4 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .oDC
	ADDU      V0, V1, V0
	.oCC
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .oE0
	SUBU      V0, V1, A0
	.oDC
	SW        V0, B4 (S0)
	.oE0
	LW        A0, 84 (S0)
	JAL       ~Func:set_main_pan_u
	LW        A1, A8 (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_main_pan_v
	LW        A1, AC (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_aux_pan_u
	LW        A1, B0 (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_aux_pan_v
	LW        A1, B4 (S0)
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240174
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	COPY      S0, A0
	BEQ       A1, R0, .o24
	SW        RA, 14 (SP)
	SW        R0, 70 (S0)
	SW        R0, 74 (S0)
	SW        R0, 78 (S0)
	SW        R0, 7C (S0)
	.o24
	LW        V0, 70 (S0)
	BNE       V0, R0, .o64
	NOP
	LW        V1, A8 (S0)
	LW        V0, 88 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o50
	SW        V1, A8 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .o60
	ADDU      V0, V1, V0
	.o50
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .o64
	SUBU      V0, V1, A0
	.o60
	SW        V0, A8 (S0)
	.o64
	LW        V0, 74 (S0)
	BNE       V0, R0, .oA4
	NOP
	LW        V1, AC (S0)
	LW        V0, 8C (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o90
	SW        V1, AC (S0)
	LUI       V0, 2
	BEQ       R0, R0, .oA0
	ADDU      V0, V1, V0
	.o90
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .oA4
	SUBU      V0, V1, A0
	.oA0
	SW        V0, AC (S0)
	.oA4
	LW        V0, 78 (S0)
	BNE       V0, R0, .oE4
	NOP
	LW        V1, B0 (S0)
	LW        V0, 90 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .oD0
	SW        V1, B0 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .oE0
	ADDU      V0, V1, V0
	.oD0
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .oE4
	SUBU      V0, V1, A0
	.oE0
	SW        V0, B0 (S0)
	.oE4
	LW        V0, 7C (S0)
	BNE       V0, R0, .o124
	NOP
	LW        V1, B4 (S0)
	LW        V0, 94 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o110
	SW        V1, B4 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .o120
	ADDU      V0, V1, V0
	.o110
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .o124
	SUBU      V0, V1, A0
	.o120
	SW        V0, B4 (S0)
	.o124
	LW        A0, 84 (S0)
	JAL       ~Func:set_main_pan_u
	LW        A1, A8 (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_main_pan_v
	LW        A1, AC (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_aux_pan_u
	LW        A1, B0 (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_aux_pan_v
	LW        A1, B4 (S0)
	LW        V0, 70 (S0)
	LW        V1, 78 (S0)
	LW        A0, 98 (S0)
	ADDIU     V0, V0, 1
	SW        V0, 70 (S0)
	LW        V0, 74 (S0)
	ADDIU     V1, V1, 1
	SW        V1, 78 (S0)
	LW        V1, 70 (S0)
	ADDIU     V0, V0, 1
	SW        V0, 74 (S0)
	LW        V0, 7C (S0)
	SLT       V1, V1, A0
	ADDIU     V0, V0, 1
	BNE       V1, R0, .o198
	SW        V0, 7C (S0)
	SW        R0, 70 (S0)
	.o198
	LW        V0, 74 (S0)
	LW        V1, 9C (S0)
	SLT       V0, V0, V1
	BEQL      V0, R0, .o1AC
	SW        R0, 74 (S0)
	.o1AC
	LW        V0, 78 (S0)
	LW        V1, A0 (S0)
	SLT       V0, V0, V1
	BEQL      V0, R0, .o1C0
	SW        R0, 78 (S0)
	.o1C0
	LW        V0, 7C (S0)
	LW        V1, A4 (S0)
	SLT       V0, V0, V1
	BEQL      V0, R0, .o1D4
	SW        R0, 7C (S0)
	.o1D4
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_8024035C
{
	LAW       V0, 8007419C
	LBU       V1, 7E (V0)
	ANDI      V1, V1, FE
	SB        V1, 7E (V0)
	LBU       V0, 87 (A0)
	SAB       V0, 8010F2A2
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_80240384
{
	LAW       V1, 8007419C
	LBU       V0, 7E (V1)
	ORI       V0, V0, 4
	SB        V0, 7E (V1)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_802403A0
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	LAB       A2, 8010EFD4
	JAL       ~Func:set_variable
	LW        A1, 0 (V0)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_802403CC
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	LW        RA, 10 (SP)
	SAW       V0, $???_80241D38
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_802403F8
{
	LIO       V0, E3000A01
	LIO       A3, E200001C
	LIO       A2, 0C1849D8
	LUI       T0, FC11
	LIA       A0, 8009A66C
	LW        V1, 0 (A0)
	ORI       T0, T0, 15FF
	COPY      A1, V1
	ADDIU     V1, V1, 8
	SW        V1, 0 (A0)
	SW        V0, 0 (A1)
	LUI       V0, 10
	SW        V0, 4 (A1)
	ADDIU     V0, V1, 8
	SW        V0, 0 (A0)
	ADDIU     V0, V1, 10
	SW        A3, 0 (V1)
	SW        A2, 4 (V1)
	SW        V0, 0 (A0)
	ADDIU     V0, R0, FE3B
	SW        V0, C (V1)
	ADDIU     V0, V1, 18
	SW        T0, 8 (V1)
	SW        V0, 0 (A0)
	LABU      A0, $???_80241D38[3]
	LUI       V0, FA00
	SW        V0, 10 (V1)
	JR        RA
	SW        A0, 14 (V1)
}

#new:Function $Function_80240480
{
	LAW       V1, 8007419C
	LBU       V0, 7E (V1)
	ORI       V0, V0, 10
	SB        V0, 7E (V1)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_8024049C
{
	LAW       V1, 8007419C
	LBU       V0, 7E (V1)
	ANDI      V0, V0, EF
	SB        V0, 7E (V1)
	JR        RA
	ADDIU     V0, R0, 2
}

PADDING: 802404B8 to 802404C0 (000004B8 to 000004C0)
00000000 00000000

#new:EntryList $EntryList
{
    ~Vec4f:Entry0 % -375.0    0.0  -30.0   90.0
    ~Vec4f:Entry1 %  435.0   30.0  -33.0  270.0
    ~Vec4f:Entry2 % -122.0   10.0  -82.0  180.0
    ~Vec4f:Entry3 %  -20.0    0.0   30.0  270.0
    ~Vec4f:Entry4 % -140.0    0.0    0.0  270.0
    ~Vec4f:Entry5 %   40.0    0.0   30.0  180.0
    ~Vec4f:Entry6 %  -20.0    0.0    0.0  270.0
    ~Vec4f:Entry7 %    0.0    0.0   30.0  180.0
    ~Vec4f:Entry8 % -130.0    0.0    0.0  180.0
    ~Vec4f:Entry9 %  -60.0    0.0    0.0  270.0
    ~Vec4f:EntryA %  380.0   30.0   10.0  270.0
    ~Vec4f:EntryB %  150.0    0.0  -30.0   90.0
}

#new:Header $Header
{
    [MainScript]  $Script_Main
    [EntryList]   $EntryList
    [EntryCount]  0000000C
    [Background]  80200000
    [MapTattle]   0019000F
}

#new:Script $Script_802405C0
{
    Switch  *StoryProgress
        CaseOR  ==  FFFFFF97
        CaseOR  ==  FFFFFFB4
        CaseOR  ==  FFFFFFF2
            Call  SetMusicTrack ( 00000000 .Song:PrisonerPeachTheme 00000000 00000008 )
        EndCaseGroup
        CaseOR  ==  FFFFFFCA
        CaseOR  ==  00000006
        CaseOR  ==  00000026
        CaseOR  ==  0000003A
            Call  SetMusicTrack ( 00000000 .Song:PeachMission 00000000 00000008 )
        EndCaseGroup
    EndSwitch
    Return
    End
}

#new:Script $Script_UpdateTexturePan_80240680
{
    SetGroup  00000000
    If  *Var[5]  ==  00000001
        If  *Var[6]  ==  00000001
            If  *Var[7]  ==  00000001
                If  *Var[8]  ==  00000001
                    Call  $Function_80240050 ( )
                    Return
                EndIf
            EndIf
        EndIf
    EndIf
    Call  $Function_80240174 ( )
    Return
    End
}

PADDING: 8024071C to 80240720 (0000071C to 00000720)
00000000

#new:DisplayList $DisplayList_80240720
{
    G_RDPPIPESYNC
    G_TEXTURE        (G_TX_RENDERTILE, 0.999985, 0.999985, 0, true)
    G_SetOtherMode_H (G_MDSFT_CYCLETYPE, G_CYC_2CYCLE)
    G_SetOtherMode_H (G_MDSFT_TEXTPERSP, 1)
    G_SetOtherMode_H (G_MDSFT_TEXTDETAIL, G_TD_CLAMP)
    G_SetOtherMode_H (G_MDSFT_TEXTLOD, G_TL_TILE)
    G_SetOtherMode_H (G_MDSFT_TEXTLUT, G_TT_NONE)
    G_SetOtherMode_H (G_MDSFT_TEXTFILT, G_TF_BILERP)
    G_SetOtherMode_H (G_MDSFT_TEXTCONV, G_TC_FILT)
    G_SETPRIMCOLOR   (0.000000, 0.000000, 75`, 31`, 19`, 255`)
    G_SETENVCOLOR    (255`, 118`, 77`, 0`)
    G_SETCOMBINE     (G_CCMUX_TEXEL0, G_CCMUX_TEXEL1, G_CCMUX_TEXEL0, G_CCMUX_1, ...
                      G_ACMUX_1, G_ACMUX_TEXEL0, G_ACMUX_TEXEL1, G_ACMUX_1, ...
                      G_CCMUX_0, G_CCMUX_PRIMITIVE, G_CCMUX_COMBINED, G_CCMUX_ENVIRONMENT, ...
                      G_ACMUX_COMBINED, G_ACMUX_TEXEL1, G_ACMUX_TEXEL1, G_ACMUX_TEXEL1)
    G_SetOtherMode_L (G_MDSFT_RENDERMODE, ...
                      Z_CMP, IM_RD, CVG_DST_SAVE, FORCE_BL, ZMODE_XLU, ...
                      G_BL_CLR_IN, G_BL_0, G_BL_CLR_IN, G_BL_1, ...
                      G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)
    G_GEOMETRYMODE   (Clear, G_LIGHTING)
    G_GEOMETRYMODE   (Set, G_SHADE, G_CULL_BACK, G_SHADING_SMOOTH)
    G_ENDDL
}

#new:Script $Script_ExitSingleDoor_802407A0
{
    Set   *Var[0]  *LastPartner
    Call  $Function_8024035C ( )
    Call  PlaySound ( 000000DC )
    Call  GotoMapSpecial    ( $ASCII_8024A6B8 00000004 0000000C ) % pra_01
    Wait  100`
    SetGroup  0000001B
    Call  DisablePlayerInput    ( .True )
    Set   *AreaFlag[013]  .True
    Call  UseDoorSounds     ( .DoorSounds:Basic )
    Set   *Var[0]  ~Entry:Entry0
    Set   *Var[1]  ~Collider:ttw
    Set   *Var[2]  ~Model:o4
    Set   *Var[3]  .DoorSwing:Out % FFFFFFFF
    Exec  ExitSingleDoor
    Wait  17`
    If  *StoryProgress  ==  FFFFFF80
        Call  GotoMap   ( $ASCII_8024A6C8 00000004 ) % kkj_01
    Else
        Call  GotoMap   ( $ASCII_8024A6C0 00000004 ) % kkj_11
    EndIf
    Wait  100`
    Return
    End
}

#new:Script $Script_802408E8
{
    SetGroup  0000001B
    Call  DisablePlayerInput    ( .True )
    Set   *AreaFlag[013]  .False
    Call  UseDoorSounds ( 00000005 )
    Set   *Var[0]  00000001
    Set   *Var[1]  00000007
    Set   *Var[2]  0000007D
    Set   *Var[3]  00000080
    Set   *Var[4]  0000007C
    Set   *Var[5]  0000007F
    Exec  80285E9C
    Wait  17`
    Call  GotoMap   ( $ASCII_8024A6D0 00000000 ) % kkj_26
    Wait  100`
    Return
    End
}

#new:Script $Script_ExitWalk_802409CC
{
    SetGroup  0000001B
    Set   *AreaFlag[013]  .False
    Call  UseExitHeading    ( 0000003C ~Entry:Entry2 )
    Exec  ExitWalk
    If  *Flag_KKJ_02  ==  .False
        Call  GotoMap   ( $ASCII_8024A6E0 00000000 ) % kkj_27
    Else
        Call  GotoMap   ( $ASCII_8024A6D8 00000001 ) % kkj_15
    EndIf
    Wait  100`
    Return
    End
}

#new:Script $Script_80240A6C
{
    Call  DisablePlayerInput        ( .True )
    Call  ShowMessageAtScreenPos    ( 001D0163 000000A0 00000028 ) % It doesn't seem to open.
    Call  DisablePlayerInput        ( .False )
    Return
    End
}

#new:Script $Script_80240AB4
{
    If  *StoryProgress  ==  FFFFFF80
        Bind  $Script_80240A6C .Trigger:WallPressA ~Collider:tte 00000001 00000000
    Else
        Bind  $Script_802408E8 .Trigger:WallPressA ~Collider:tte 00000001 00000000
        Bind  $Script_ExitWalk_802409CC .Trigger:FloorAbove ~Collider:o119 00000001 00000000
    EndIf
    Bind  $Script_ExitSingleDoor_802407A0[50] .Trigger:WallPressA ~Collider:ttw 00000001 00000000
    Return
    End
}

#new:Script $Script_EnterWalk_80240B54
{
    Call  GetEntryID    ( *Var[0] )
    Switch  *Var[0]
        Case  ==  ~Entry:Entry0
            Call  UseDoorSounds ( .DoorSounds:Basic )
            Set   *Var[2]  ~Model:o4
            Set   *Var[3]  .DoorSwing:Out % FFFFFFFF
            ExecWait  EnterSingleDoor
            Exec  $Script_80240AB4
        Case  ==  ~Entry:Entry1
            Call  UseDoorSounds ( 00000005 )
            Set   *Var[2]  0000007D
            Set   *Var[3]  00000080
            Set   *Var[4]  0000007C
            Set   *Var[5]  0000007F
            ExecWait  80285EC4
            Exec  $Script_80240AB4
        Case  ==  ~Entry:Entry2
            Set   *Var[0]  $Script_80240AB4
            Exec  EnterWalk
        Case  ==  ~Entry:Entry3
            Exec  $Script_80244E54
        Case  ==  ~Entry:Entry4
            Exec  $Script_80246C90
            Exec  $Script_80240AB4
        Case  ==  ~Entry:Entry5
            Exec  $Script_8024739C
            Exec  $Script_80240AB4
        Case  ==  ~Entry:Entry6
            Exec  $Script_80247F7C
            Exec  $Script_80240AB4
        Case  ==  ~Entry:Entry7
            Exec  $Script_802482C0
            Exec  $Script_80240AB4
        Case  ==  ~Entry:Entry8
            Exec  $Script_80248430
            Exec  $Script_80240AB4
        Case  ==  ~Entry:Entry9
            Exec  $Script_80248770
            Exec  $Script_80240AB4
        Case  ==  ~Entry:EntryA
            Exec  $Script_802497B4
        Case  ==  ~Entry:EntryB
            Exec  $Script_80242A60
            Exec  $Script_80240AB4
    EndSwitch
    Return
    End
}

#new:Script_Main $Script_Main
{
    Set   *WorldMapLocation  .Location:PeachsCastle
    Call  SetSpriteShading  ( FFFFFFFF )
    Call  SetCamPerspective ( .Cam:Default 00000003 00000019 00000010 00001000 )
    Call  SetCamBGColor     ( .Cam:Default 00000000 00000000 00000000 )
    Call  SetCamEnabled     ( .Cam:Default .True )
    Call  GetEntryID        ( *Var[0] )
    If  *Var[0]  >=  ~Entry:Entry3
        If  *Var[0]  !=  ~Entry:EntryB
            Set   *Flag_KKJ_01  .False
            Set   *Flag_KKJ_00  .False
        EndIf
        Switch  *Var[0]
            Case  ==  ~Entry:Entry3
                Set   *StoryProgress  FFFFFF97
                Set   *Byte_KKJ_02  00000000
                Set   *Flag_KKJ_02  .False
                Call  MakeNpcs  ( 00000000 $NpcGroupList_80243E3C )
            Case  ==  ~Entry:Entry4
                Set   *StoryProgress  FFFFFFB4
                Set   *Byte_KKJ_02  00000000
                Set   *Flag_KKJ_02  .False
            Case  ==  ~Entry:Entry5
                Set   *StoryProgress  FFFFFFCA
                Set   *Byte_KKJ_02  00000000
                Set   *Flag_KKJ_02  .False
                Set   *AreaFlag[006]  .False
                Call  MakeNpcs  ( 00000000 $NpcGroupList_802442D0 )
            Case  ==  ~Entry:Entry6
                Set   *StoryProgress  FFFFFFF2
                Set   *Byte_KKJ_02  00000000
                Set   *Flag_KKJ_02  .False
            Case  ==  ~Entry:Entry7
                Set   *StoryProgress  00000006
                Set   *Byte_KKJ_02  00000000
                Set   *Flag_KKJ_02  .True
            Case  ==  ~Entry:Entry8
                Set   *StoryProgress  00000026
                Set   *Byte_KKJ_02  00000000
                Set   *Flag_KKJ_02  .True
            Case  ==  ~Entry:Entry9
                Call  $Function_80240384 ( )
                Set   *StoryProgress  0000003A
                Set   *Byte_KKJ_02  00000000
                Set   *Flag_KKJ_02  .True
            Case  ==  ~Entry:EntryA
                Call  MakeNpcs  ( 00000000 $NpcGroupList_80244B94 )
            Case  ==  ~Entry:EntryB
                Add   *Byte_KKJ_02  00000001
                Call  MakeNpcs  ( 00000000 $NpcGroupList_802439B4 )
        EndSwitch
    EndIf
    Exec  $Script_80242744
    Call  GetEntryID    ( *Var[0] )
    If  *Var[0]  !=  ~Entry:Entry5
        Exec  $Script_802405C0
    EndIf
    Exec  $Script_EnterWalk_80240B54
    Call  SetTexPanner  ( ~Model:o154 00000000 )
    Thread
        Set   *Var[0]  00000000
        Set   *Var[1]  00000000
        Set   *Var[2]  00000000
        Set   *Var[3]  00000028
        Set   *Var[4]  00000384
        Set   *Var[5]  00000001
        Set   *Var[6]  00000001
        Set   *Var[7]  00000001
        Set   *Var[8]  00000001
        Set   *Var[9]  00000000
        Set   *Var[A]  00000000
        Set   *Var[B]  00000000
        Set   *Var[C]  00000000
        Exec  $Script_UpdateTexturePan_80240680
    EndThread
    Call  802C90FC  ( 00000036 00000000 FFFFFFFF )
    Call  802C9428  ( 00000000 $DisplayList_80240720 00000000 )
    Return
    End
}

PADDING: 8024124C to 80241250 (0000124C to 00001250)
00000000

#new:Script $Script_80241250
{
    Call  DisablePlayerInput    ( .True )
    Switch  *StoryProgress
        Case  ==  FFFFFFB4
            If  *Flag_KKJ_01  ==  .False
                If  *AreaFlag[014]  ==  .False
                    Call  DisablePartnerAI      ( 00000000 )
                    Call  SetPlayerAnimation    ( 000C0000 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000C0026 )
                    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 00140039 ) % The fireplace... Quite nice... So big...and so war ...
                    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 0014003A ) % Hmmm... A warm fireplace? Don't you find that susp ...
                    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 0014003B ) % Do you really think so, Twink?
                    Call  SetPlayerAnimation    ( 000C0002 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000A0001 )
                    Set   *AreaFlag[014]  .True
                    Call  EnablePartnerAI ( )
                Else
                    Call  ShowMessageAtScreenPos    ( 0014017B 000000A0 00000028 ) % A rather large fireplace. The fire feels quite war ...
                EndIf
            Else
                Call  ShowMessageAtScreenPos    ( 0014017B 000000A0 00000028 ) % A rather large fireplace. The fire feels quite war ...
            EndIf
        Case  FFFFFFCA  to  00000058
            Call  ShowMessageAtScreenPos    ( 0014017B 000000A0 00000028 ) % A rather large fireplace. The fire feels quite war ...
        Default
            Call  ShowMessageAtScreenPos    ( 00000043 000000A0 00000028 ) % What a big fireplace! And what a cozy fire!
    EndSwitch
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_8024143C
{
    Call  DisablePlayerInput    ( .True )
    Switch  *StoryProgress
        Case  ==  FFFFFFB4
            If  *Flag_KKJ_01  ==  .False
                If  *AreaFlag[015]  ==  .False
                    Call  DisablePartnerAI      ( 00000000 )
                    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 0014003C ) % So many dresses...and yet they all look exactly th ...
                    Call  SetPlayerAnimation    ( 000C0000 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000C0026 )
                    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 0014003D ) % They're not the same! The designs are all slightly ...
                    Call  SetPlayerAnimation    ( 000C0002 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000A0001 )
                    Set   *AreaFlag[015]  .True
                    Call  EnablePartnerAI ( )
                Else
                    Call  ShowMessageAtScreenPos    ( 0014017C 000000A0 00000028 ) % Princess Peach's dresses. Her favorite outfits!
                EndIf
            Else
                Call  ShowMessageAtScreenPos    ( 0014017C 000000A0 00000028 ) % Princess Peach's dresses. Her favorite outfits!
            EndIf
        Case  FFFFFFCA  to  00000058
            Call  ShowMessageAtScreenPos    ( 0014017C 000000A0 00000028 ) % Princess Peach's dresses. Her favorite outfits!
        Default
            Call  ShowMessageAtScreenPos    ( 00000044 000000A0 00000028 ) % Her dresses are beautiful, but they all look the s ...
    EndSwitch
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_80241608
{
    Call  DisablePlayerInput    ( .True )
    Switch  *StoryProgress
        Case  FFFFFFB4  to  00000058
            Call  $Function_802403A0    ( *Var[0] )
            If  *Var[0]  ==  00000000
                Call  InterpPlayerYaw   ( 0000002D 0000000A )
                Wait  10`
                Call  GetPlayerPos      ( *Var[0] *Var[1] *Var[2] )
                Add   *Var[0]  00000005
                Add   *Var[1]  00000023
                Add   *Var[2]  FFFFFFF6
                Loop  00000006
                    Call  PlayEffect    ( ~FX:Steam:SmallOutward *Var[0] *Var[1] *Var[2] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
                    Wait  15`
                EndLoop
            Else
                Call  DisablePartnerAI  ( 00000000 )
                Call  SpeakToPlayer     ( .Npc:Player 000C0001 000C0026 00000005 00140044 ) % Oh... Eeew! I look frightful!
                Call  SpeakToPlayer     ( .Npc:Partner 00200009 00200001 00000000 00140045 ) % It's not real, Princess... but... I must say... Th ...
                Call  EnablePartnerAI ( )
            EndIf
        Default
            Call  ShowMessageAtScreenPos    ( 00000045 000000A0 00000028 ) % These are cosmetics. Mario looks fine without them ...
    EndSwitch
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_802417D4
{
    Call  DisablePlayerInput    ( .True )
    Switch  *StoryProgress
        Case  ==  FFFFFFB4
            If  *Flag_KKJ_01  ==  .False
                If  *AreaFlag[017]  ==  .False
                    Call  DisablePartnerAI      ( 00000000 )
                    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 0014003E ) % Oh! A photo of Mario!
                    Call  SetPlayerAnimation    ( 000C0000 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000C0026 )
                    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 0014003F ) % Don't look at that!
                    Call  SetPlayerAnimation    ( 000C0002 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000A0001 )
                    Set   *AreaFlag[017]  .True
                    Call  EnablePartnerAI ( )
                Else
                    Call  ShowMessageAtScreenPos    ( 0014017D 000000A0 00000028 ) % A photo of Mario.
                EndIf
            Else
                Call  ShowMessageAtScreenPos    ( 0014017D 000000A0 00000028 ) % A photo of Mario.
            EndIf
        Case  FFFFFFCA  to  00000058
            Call  ShowMessageAtScreenPos    ( 0014017D 000000A0 00000028 ) % A photo of Mario.
        Default
            Call  ShowMessageAtScreenPos    ( 00000046 000000A0 00000028 ) % A framed photo of Mario!
    EndSwitch
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_802419A0
{
    Call  DisablePlayerInput    ( .True )
    Switch  *StoryProgress
        Case  ==  FFFFFFB4
            If  *Flag_KKJ_01  ==  .False
                If  *AreaFlag[018]  ==  .False
                    Call  DisablePartnerAI      ( 00000000 )
                    Call  SetPlayerAnimation    ( 000C0000 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000C0026 )
                    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 00140040 ) % This is no time to sleep.
                    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140041 ) % Yes, let's keep looking!
                    Call  SetPlayerAnimation    ( 000C0002 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000A0001 )
                    Set   *AreaFlag[018]  .True
                    Call  EnablePartnerAI ( )
                Else
                    Call  ShowMessageAtScreenPos    ( 0014017E 000000A0 00000028 ) % A soft and comfortable bed.
                EndIf
            Else
                Call  ShowMessageAtScreenPos    ( 0014017E 000000A0 00000028 ) % A soft and comfortable bed.
            EndIf
        Case  FFFFFFCA  to  00000058
            Call  ShowMessageAtScreenPos    ( 0014017E 000000A0 00000028 ) % A soft and comfortable bed.
        Default
            Call  ShowMessageAtScreenPos    ( 00000047 000000A0 00000028 ) % Quite a fluffy bed. It looks like this bed was des ...
    EndSwitch
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_80241B6C
{
    Call  DisablePlayerInput    ( .True )
    Switch  *StoryProgress
        Case  ==  FFFFFFB4
            If  *Flag_KKJ_01  ==  .False
                If  *AreaFlag[019]  ==  .False
                    Call  DisablePartnerAI      ( 00000000 )
                    Call  SetPlayerAnimation    ( 000C0000 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000C0026 )
                    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 00140042 ) % Beautiful flowers, aren't they? They smell so good ...
                    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140043 ) % Sure. I guess.
                    Call  SetPlayerAnimation    ( 000C0002 )
                    Wait  10`
                    Call  SetPlayerAnimation    ( 000A0001 )
                    Set   *AreaFlag[019]  .True
                    Call  EnablePartnerAI ( )
                Else
                    Call  ShowMessageAtScreenPos    ( 0014017F 000000A0 00000028 ) % A bouquet of Princess Peach's favorite flowers. It ...
                EndIf
            Else
                Call  ShowMessageAtScreenPos    ( 0014017F 000000A0 00000028 ) % A bouquet of Princess Peach's favorite flowers. It ...
            EndIf
        Case  FFFFFFCA  to  00000058
            Call  ShowMessageAtScreenPos    ( 0014017F 000000A0 00000028 ) % A bouquet of Princess Peach's favorite flowers. It ...
        Default
            Call  ShowMessageAtScreenPos    ( 00000048 000000A0 00000028 ) % A vase full of lovely flowers. They smell heavenly ...
    EndSwitch
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Unknown $???_80241D38
{
    000000FF
}

#new:Script $Script_80241D3C
{
    Call  EnableTexPanning  ( ~Model:o42 .True )
    Call  EnableTexPanning  ( ~Model:o157 .True )
    Set   *Var[0]  00000000
    Set   *Var[1]  00000000
    Set   *Var[2]  00000000
    Set   *Var[3]  00000000
    Loop
        Add   *Var[0]  FFFFFF92
        Add   *Var[1]  00000032
        Call  SetTexPanOffset   ( 00000005 00000000 *Var[0] *Var[1] )
        Add   *Var[2]  00000028
        Add   *Var[3]  00000082
        Call  SetTexPanOffset   ( 0000000A 00000001 *Var[2] *Var[3] )
        Wait  1`
    EndLoop
    Return
    End
}

#new:Script $Script_80241E4C
{
    Call  PlaySoundAtCollider   ( ~Collider:o128 000000F9 00000000 )
    Call  MakeLerp      ( 00000000 000000B4 0000000F .Easing:Linear )
    Call  UpdateLerp ( )
    Call  RotateGroup   ( ~Model:g39 *Var[0] 00000001 00000000 00000000 )
    Wait  1`
    Call  EnableModel   ( ~Model:o146 .True )
    Loop
        Call  UpdateLerp ( )
        Call  RotateGroup   ( ~Model:g39 *Var[0] 00000001 00000000 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  EnableModel   ( ~Model:o141 .False )
    Call  EnableModel   ( ~Model:o143 .False )
    Set   *Flag_KKJ_01  .True
    Return
    End
}

#new:Script $Script_80241F80
{
    Call  EnableModel   ( ~Model:o35 .False )
    Call  EnableModel   ( ~Model:o42 .False )
    Call  EnableGroup   ( ~Model:g27 .True )
    If  *StoryProgress  ==  FFFFFFB4
        Set   *Var[0]  00000078
    Else
        Set   *Var[0]  0000003C
    EndIf
    Call  PlaySoundAtCollider   ( ~Collider:o129 000000FC 00000000 )
    Call  MakeLerp  ( 000000FF 00000000 *Var[0] .Easing:Linear )
    Loop
        Call  UpdateLerp ( )
        Call  $Function_802403CC    ( *Var[0] )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  EnableModel   ( ~Model:o157 .False )
    Call  SetModelFlags ( ~Model:o157 00000010 .False )
    Wait  10`
    Thread
        Wait  20`
        Call  PlaySoundAt   ( 000000FB 00000000 FFFFFF83 0000000A FFFFFF88 )
        Call  PlayEffect    ( ~FX:SmokeBurst:Black FFFFFF83 0000000A FFFFFF88 *Fixed[2.0] 0000001E 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    EndThread
    Call  MakeLerp  ( 00000000 FFFFFF4C 0000001E .Easing:QuadraticIn )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o39 *Var[0] 00000001 00000000 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Wait  10`
    Call  ModifyColliderFlags   ( 00000000 ~Collider:o129 7FFFFE00 )
    Call  ModifyColliderFlags   ( 00000000 ~Collider:o130 7FFFFE00 )
    Set   *Flag_KKJ_00  .True
    Return
    End
}

#new:Script $Script_80242228
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePlayerPhysics  ( .True )
    Call  DisablePartnerAI      ( 00000000 )
    If  *Flag_KKJ_01  ==  .False
        ExecWait  $Script_80241E4C
    Else
        Call  802D2884  ( FFFFFFE3 FFFFFF6C 00000005 )
        Wait  10`
        Call  SetPlayerAnimation    ( 000D0010 )
        Wait  10`
        Call  SetPlayerAnimation    ( 000D0011 )
        Thread
            Wait  5`
            Call  PlaySoundAtCollider   ( ~Collider:o128 000000FA 00000000 )
        EndThread
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Call  SetPlayerJumpscale    ( *Fixed[1.0] )
        Call  PlayerJump1   ( *Var[0] *Var[1] *Var[2] 0000000A )
        Call  SetPlayerAnimation    ( 000D0012 )
        Wait  20`
        Call  SetPlayerAnimation    ( 000A0001 )
        Call  InterpPlayerYaw       ( 000000E1 00000000 )
        Call  InterpNpcYaw  ( .Npc:Partner 0000010E 00000000 )
        ExecWait  $Script_80241F80
        Unbind
    EndIf
    Call  EnablePartnerAI ( )
    Call  DisablePlayerPhysics  ( .False )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_802423F4
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePlayerPhysics  ( .True )
    Call  DisablePartnerAI      ( 00000000 )
    If  *Flag_KKJ_01  ==  .False
        If  *AreaFlag[004]  ==  .False
            Call  NpcFacePlayer ( .Npc:Partner 00000000 )
            Call  SpeakToPlayer ( .Npc:Partner 0020000C 0020000C 00000005 00140046 ) % Oh! Look! There's something behind this drawing!
            Set   *AreaFlag[004]  .True
        EndIf
        ExecWait  $Script_80241E4C
    Else
        Call  802D2884  ( FFFFFFE3 FFFFFF6C 00000005 )
        Wait  10`
        Call  SetPlayerAnimation    ( 000D0010 )
        Wait  10`
        Call  SetPlayerAnimation    ( 000D0011 )
        Thread
            Wait  5`
            Call  PlaySoundAtCollider   ( ~Collider:o128 000000FA 00000000 )
        EndThread
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Call  SetPlayerJumpscale    ( *Fixed[1.0] )
        Call  PlayerJump1   ( *Var[0] *Var[1] *Var[2] 0000000A )
        Call  SetPlayerAnimation    ( 000D0012 )
        Wait  20`
        Call  SetPlayerAnimation    ( 000A0001 )
        Call  InterpPlayerYaw       ( 000000E1 00000000 )
        Call  InterpNpcYaw  ( .Npc:Partner 000000E1 00000000 )
        If  *AreaFlag[005]  ==  .False
            Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
            Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
            Call  SetPanTarget  ( .Cam:Default FFFFFF88 00000019 00000000 )
            Call  SetCamSpeed   ( .Cam:Default *Fixed[3.0] )
            Call  SetCamDistance    ( .Cam:Default 0000012C )
            Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
            Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
        EndIf
        ExecWait  $Script_80241F80
        If  *AreaFlag[005]  ==  .False
            Call  ResetCam  ( .Cam:Default *Fixed[3.0] )
            Call  SetPlayerAnimation    ( 000C0009 )
            Call  SpeakToPlayer ( .Npc:Partner 0020000F 0020000F 00000005 00140047 ) % Yes!! Cool!! Now we can get out of this room!
            Set   *AreaFlag[005]  .True
        EndIf
        Unbind
    EndIf
    Call  EnablePartnerAI ( )
    Call  DisablePlayerPhysics  ( .False )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_80242744
{
    If  *Flag_KKJ_01  ==  .False
        Call  EnableModel   ( ~Model:o146 .False )
    Else
        Call  EnableModel   ( ~Model:o141 .False )
        Call  EnableModel   ( ~Model:o143 .False )
        Call  RotateGroup   ( ~Model:g39 000000B4 00000001 00000000 00000000 )
    EndIf
    If  *Flag_KKJ_00  ==  .False
        Call  EnableGroup   ( ~Model:g27 .False )
        Exec  $Script_80241D3C
        Call  802C90FC      ( 00000050 00000001 FFFFFFFF )
        Call  802C94A0      ( 00000001 $Function_802403F8 00000000 )
        Switch  *StoryProgress
            Case  <  FFFFFF81
            Case  <  FFFFFFCA
                Bind  $Script_802423F4 .Trigger:WallPressA ~Collider:o128 00000001 00000000
            Case  <  0000005F
                Bind  $Script_80242228 .Trigger:WallPressA ~Collider:o128 00000001 00000000
            Default
        EndSwitch
    Else
        Call  ModifyColliderFlags   ( 00000000 ~Collider:o129 7FFFFE00 )
        Call  ModifyColliderFlags   ( 00000000 ~Collider:o130 7FFFFE00 )
        Call  RotateModel   ( ~Model:o39 FFFFFF4C 00000001 00000000 00000000 )
        Call  EnableGroup   ( ~Model:g45 .False )
    EndIf
    Bind  $Script_80241250 .Trigger:WallPressA ~Collider:o129 00000001 00000000
    Bind  $Script_8024143C .Trigger:WallPressA ~Collider:o143 00000001 00000000
    Bind  $Script_80241608 .Trigger:WallPressA ~Collider:o142 00000001 00000000
    Bind  $Script_802417D4 .Trigger:WallPressA ~Collider:o141 00000001 00000000
    Bind  $Script_802419A0 .Trigger:WallPressA ~Collider:o25 00000001 00000000
    Bind  $Script_80241B6C .Trigger:WallPressA ~Collider:o135 00000001 00000000
    Return
    End
}

PADDING: 802429C4 to 802429D0 (000029C4 to 000029D0)
00000000 00000000 00000000

#new:VectorList $VectorList_802429D0
{
    % ~Path3f:Path_802429D0
    -307.000000 30.000000 -30.000000
    -290.000000 35.000000 -30.000000
    -250.000000 0.000000 -30.000000
}

#new:VectorList $VectorList_802429F4
{
    % ~Path3f:Path_802429F4
    -480.000000 30.000000 -30.000000
    -360.000000 60.000000 -30.000000
    -340.000000 120.000000 -70.000000
    -380.000000 40.000000 -100.000000
}

#new:VectorList $VectorList_80242A24
{
    % ~Path3f:Path_80242A24
    -380.000000 40.000000 -100.000000
    -360.000000 45.000000 -82.000000
    -340.000000 40.000000 -65.000000
    -320.000000 32.000000 -52.000000
    -290.000000 25.000000 -30.000000
}

#new:Script $Script_80242A60
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePlayerPhysics  ( .True )
    Call  SetMusicTrack ( 00000000 .Song:PeachCaught 00000000 00000008 )
    Call  SetPlayerPos  ( FFFFFE20 0000001E FFFFFFE2 )
    Call  SetPlayerAnimation    ( 000C0018 )
    Call  DisablePartnerAI      ( 00000000 )
    Call  SetNpcPos     ( .Npc:Partner FFFFFE20 0000001E FFFFFFE2 )
    Call  SetNpcPos     ( 00000000 FFFFFE14 00000000 FFFFFFE2 )
    Call  SetNpcPos     ( 00000001 FFFFFE34 00000000 FFFFFFE2 )
    Call  SetNpcYaw     ( 00000000 0000005A )
    Call  SetNpcYaw     ( 00000001 0000005A )
    Call  UseSettingsFrom       ( .Cam:Default FFFFFED4 00000000 FFFFFFE2 )
    Call  SetPanTarget  ( .Cam:Default FFFFFED4 00000000 FFFFFFE2 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  30`
    Call  ModifyColliderFlags   ( 00000000 ~Collider:ttw 7FFFFE00 )
    Call  ModifyColliderFlags   ( 00000000 ~Collider:o112 7FFFFE00 )
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorOpen 00000000 )
    Call  MakeLerp      ( 00000000 00000050 0000000E .Easing:QuadraticOut )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Thread
        Wait  10`
        Call  LoadPath  ( 00000032 $VectorList_802429F4 00000004 .Easing:Linear )
        Loop
            Call  GetNextPathPos ( )
            Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
            Wait  1`
            If  *Var[0]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
        Call  InterpNpcYaw  ( .Npc:Partner 0000005A 00000000 )
    EndThread
    Call  SetNpcVar ( 00000000 00000000 00000001 )
    Thread
        Call  SetNpcAnimation   ( 00000000 00580014 )
        Call  SetNpcSpeed   ( 00000000 *Fixed[5.0] )
        Call  NpcMoveTo     ( 00000000 FFFFFEC4 FFFFFFE0 00000000 )
        Call  SetNpcVar     ( 00000000 00000000 00000000 )
    EndThread
    Thread
        Call  SetNpcAnimation   ( 00000001 00580014 )
        Call  SetNpcSpeed       ( 00000001 *Fixed[5.0] )
        Call  NpcMoveTo ( 00000001 FFFFFEE4 FFFFFFE4 00000000 )
    EndThread
    Loop
        Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
        Add   *Var[0]  0000000A
        Add   *Var[2]  00000002
        Call  SetPlayerPos  ( *Var[0] 0000001E *Var[2] )
        Wait  1`
        Call  GetNpcVar     ( 00000000 00000000 *Var[0] )
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  SetNpcAnimation   ( 00000000 00580012 )
    Call  SetNpcAnimation   ( 00000001 00580012 )
    Wait  20`
    Call  SetPlayerAnimation    ( 000C0019 )
    Call  SetNpcAnimation   ( 00000000 00580015 )
    Call  SetNpcAnimation   ( 00000001 00580015 )
    Call  LoadPath  ( 0000000F $VectorList_802429D0 00000003 .Easing:Linear )
    Loop
        Call  GetNextPathPos ( )
        Call  SetPlayerPos  ( *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  PlaySoundAtPlayer     ( 00000162 00000000 )
    Call  SetPlayerAnimation    ( 000C001A )
    Thread
        Add   *Var[1]  0000000A
        Call  PlayEffect    ( ~FX:Steam:SmallOutward *Var[1] *Var[2] *Var[3] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Wait  47`
        Add   *Var[1]  FFFFFFFB
        Add   *Var[2]  0000000A
        Add   *Var[3]  00000005
        Loop  00000004
            Call  PlayEffect    ( ~FX:Steam:SmallPuff *Var[1] *Var[2] *Var[3] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  10`
        EndLoop
    EndThread
    Thread
        Call  SetNpcAnimation   ( 00000000 00580001 )
        Wait  20`
        Call  SetNpcAnimation   ( 00000000 00580006 )
        Call  NpcMoveTo ( 00000000 FFFFFE32 FFFFFFE2 00000000 )
        Call  SetNpcPos ( 00000000 00000000 FFFFFC18 00000000 )
    EndThread
    Thread
        Call  SetNpcAnimation   ( 00000001 00580001 )
        Wait  20`
        Call  SetNpcAnimation   ( 00000001 00580006 )
        Call  NpcMoveTo ( 00000001 FFFFFE52 FFFFFFE2 00000000 )
        Call  SetNpcPos ( 00000001 00000000 FFFFFC18 00000000 )
        Call  MakeLerp  ( 00000078 00000000 00000008 .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
        Call  ModifyColliderFlags   ( 00000001 ~Collider:o112 7FFFFE00 )
        Call  ModifyColliderFlags   ( 00000001 ~Collider:ttw 7FFFFE00 )
        Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorClose 00000000 )
    EndThread
    Wait  60`
    Call  LoadPath  ( 00000032 $VectorList_80242A24 00000005 .Easing:Linear )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  InterpNpcYaw  ( .Npc:Partner 0000005A 00000000 )
    Call  SetPlayerAnimation    ( 000A0001 )
    If  *StoryProgress  ==  0000003A
        Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140159 ) % Are you all right, Princess? You're not hurt, are  ...
        Call  SpeakToPlayer ( .Npc:Player 000C0013 000C0012 00000005 0014015A ) % Yes, I'm fine. Thank you, Twink. That was such a d ...
        If  *Byte_KKJ_02  <  00000003
            If  *AreaFlag[013]  ==  .False
                Set   *Var[0]  0014015B
            Else
                Set   *Var[0]  0014015D
            EndIf
        Else
            Set   *Var[0]  0014015C
        EndIf
        Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 *Var[0] ) % variable string ID
    Else
        Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140176 ) % Are you all right, Princess? Did they hurt you?
        Call  SpeakToPlayer ( .Npc:Player 000C0013 000C0012 00000005 00140177 ) % Yes, I'm fine. Thank you, Twink. That was just pla ...
        If  *Byte_KKJ_02  <  00000003
            If  *AreaFlag[013]  ==  .False
                Set   *Var[0]  00140178
            Else
                Set   *Var[0]  0014017A
            EndIf
        Else
            Set   *Var[0]  00140179
        EndIf
        Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 *Var[0] ) % variable string ID
    EndIf
    Exec  $Script_802405C0
    Call  ResetCam  ( .Cam:Default *Fixed[1.0] )
    Call  EnablePartnerAI ( )
    Call  DisablePlayerPhysics  ( .False )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:NpcSettings $NpcSettings_80243590
{
    00000000 00280018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00190000
}

#new:ExtraAnimationList $ExtraAnimationList_802435BC
{
    00580001 00580006 00580012 00580014 00580015 FFFFFFFF
}

#new:NpcGroup $NpcGroup_802435D4
{
    00000000 $NpcSettings_80243590 ~Vec3f:NPC_802435D4 % 0 -500 0
    00000F0D 00000000 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_802435D4
    ~AnimationTable:NPC_802435D4 % .Sprite:WorldKoopatrol
    00000000 00000000 $ExtraAnimationList_802435BC 00000000 % no tattle string
    %
    % $NpcGroup_802435D4[1F0]
    00000001 $NpcSettings_80243590 ~Vec3f:NPC_802437C4 % 0 -500 0
    00000F0D 00000000 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_802437C4
    ~AnimationTable:NPC_802437C4 % .Sprite:WorldKoopatrol
    00000000 00000000 $ExtraAnimationList_802435BC 00000000 % no tattle string
}

#new:NpcGroupList $NpcGroupList_802439B4
{
    00000002 $NpcGroup_802435D4 00000000
    00000000 00000000 00000000
}

PADDING: 802439CC to 802439D0 (000039CC to 000039D0)
00000000

#new:NpcSettings $NpcSettings_802439D0
{
    00000000 004B0048 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_802439FC
{
    00000000 0028001E 00000000 00000000 00000000 80077F70 00000000 8007809C
    00000000 00000000 001A0000
}

#new:ExtraAnimationList $ExtraAnimationList_80243A28
{
    00800000 00800002 00800003 00800004 00800006 00800007 00800009 00800010
    FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80243A4C
{
    00600001 00600002 00600004 FFFFFFFF
}

#new:NpcGroup $NpcGroup_80243A5C
{
    00000000 $NpcSettings_802439D0 ~Vec3f:NPC_80243A5C % 0 -500 0
    00000D0D 00000000 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80243A5C
    ~AnimationTable:NPC_80243A5C % .Sprite:WorldBowser
    00000000 00000000 $ExtraAnimationList_80243A28 00000000 % no tattle string
    %
    % $NpcGroup_80243A5C[1F0]
    00000001 $NpcSettings_802439FC ~Vec3f:NPC_80243C4C % 0 -500 0
    00000D0D 00000000 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80243C4C
    ~AnimationTable:NPC_80243C4C % .Sprite:WorldKammy
    00000000 00000000 $ExtraAnimationList_80243A4C 00000000 % no tattle string
}

#new:NpcGroupList $NpcGroupList_80243E3C
{
    00000002 $NpcGroup_80243A5C 00000000
    00000000 00000000 00000000
}

PADDING: 80243E54 to 80243E60 (00003E54 to 00003E60)
00000000 00000000 00000000

#new:NpcSettings $NpcSettings_80243E60
{
    00000000 004B0048 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_80243E8C
{
    00000000 0028001E 00000000 00000000 00000000 80077F70 00000000 8007809C
    00000000 00000000 001A0000
}

#new:ExtraAnimationList $ExtraAnimationList_80243EB8
{
    00800000 00800002 00800004 00800005 00800006 00800007 0080000C 0080000D
    FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80243EDC
{
    00600001 00600002 00600003 00600004 FFFFFFFF
}

#new:NpcGroup $NpcGroup_80243EF0
{
    00000000 $NpcSettings_80243E60 ~Vec3f:NPC_80243EF0 % 0 -500 0
    00000F0D 00000000 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80243EF0
    ~AnimationTable:NPC_80243EF0 % .Sprite:WorldBowser
    00000000 00000000 $ExtraAnimationList_80243EB8 00000000 % no tattle string
    %
    % $NpcGroup_80243EF0[1F0]
    00000001 $NpcSettings_80243E8C ~Vec3f:NPC_802440E0 % 0 -500 0
    00000F0D 00000000 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_802440E0
    ~AnimationTable:NPC_802440E0 % .Sprite:WorldKammy
    00000000 00000000 $ExtraAnimationList_80243EDC 00000000 % no tattle string
}

#new:NpcGroupList $NpcGroupList_802442D0
{
    00000002 $NpcGroup_80243EF0 00000000
    00000000 00000000 00000000
}

PADDING: 802442E8 to 802442F0 (000042E8 to 000042F0)
00000000 00000000

#new:NpcSettings $NpcSettings_802442F0
{
    00000000 004B0048 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_8024431C
{
    00000000 0028001E 00000000 00000000 00000000 80077F70 00000000 8007809C
    00000000 00000000 001A0000
}

#new:NpcSettings $NpcSettings_80244348
{
    00000000 00280018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00190000
}

#new:ExtraAnimationList $ExtraAnimationList_80244374
{
    00800000 00800002 00800004 00800005 00800006 00800007 00800008 0080000D
    00800016 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_8024439C
{
    00600000 00600001 00600002 00600003 00600004 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_802443B4
{
    00580000 00580001 00580004 00580006 00580012 00580014 00580018 FFFFFFFF
}

#new:NpcGroup $NpcGroup_802443D4
{
    00000000 $NpcSettings_802442F0 ~Vec3f:NPC_802443D4 % 0 -500 0
    0000050D 00000000 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_802443D4
    ~AnimationTable:NPC_802443D4 % .Sprite:WorldBowser
    00000000 00000000 $ExtraAnimationList_80244374 00000000 % no tattle string
    %
    % $NpcGroup_802443D4[1F0]
    00000001 $NpcSettings_80244348 ~Vec3f:NPC_802445C4 % 0 -500 0
    0000070D 00000000 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_802445C4
    ~AnimationTable:NPC_802445C4 % .Sprite:WorldKoopatrol
    00000000 00000000 $ExtraAnimationList_802443B4 00000000 % no tattle string
    %
    % $NpcGroup_802443D4[3E0]
    00000002 $NpcSettings_80244348 ~Vec3f:NPC_802447B4 % 0 -500 0
    0000070D 00000000 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_802447B4
    ~AnimationTable:NPC_802447B4 % .Sprite:WorldKoopatrol
    00000000 00000000 $ExtraAnimationList_802443B4 00000000 % no tattle string
    %
    % $NpcGroup_802443D4[5D0]
    00000003 $NpcSettings_8024431C ~Vec3f:NPC_802449A4 % 0 -500 0
    0000050D 00000000 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_802449A4
    ~AnimationTable:NPC_802449A4 % .Sprite:WorldKammy
    00000000 00000000 $ExtraAnimationList_8024439C 00000000 % no tattle string
}

#new:NpcGroupList $NpcGroupList_80244B94
{
    00000004 $NpcGroup_802443D4 00000000
    00000000 00000000 00000000
}

PADDING: 80244BAC to 80244BB0 (00004BAC to 00004BB0)
00000000

#new:VectorList $VectorList_80244BB0
{
    % ~Path3f:Path_80244BB0
    520.000000 70.000000 -62.000000
    400.000000 57.000000 47.000000
    300.000000 50.000000 40.000000
    300.000000 50.000000 -10.000000
    320.000000 65.000000 0.000000
}

#new:VectorList $VectorList_80244BEC
{
    % ~Path3f:Path_80244BEC
    352.000000 50.000000 -2.000000
    300.000000 85.000000 0.000000
    350.000000 120.000000 0.000000
    400.000000 105.000000 -7.000000
    430.000000 90.000000 -15.000000
}

#new:Script $Script_80244C28
{
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorOpen 00000000 )
    Call  MakeLerp  ( 00000000 00000078 0000000E .Easing:CosFastOvershoot )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_80244CD8
{
    Call  MakeLerp  ( 00000078 00000000 00000008 .Easing:CosFastOvershoot )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorClose 00000000 )
    Return
    End
}

#new:Script $Script_80244D88
{
    Loop
        Call  NpcFlyTo  ( .Npc:Partner 00000208 00000046 FFFFFFC4 0000001E FFFFFFF6 .Easing:Linear )
        Call  NpcFlyTo  ( .Npc:Partner 00000208 00000046 FFFFFFC3 0000000A FFFFFFFB .Easing:Linear )
        Call  PlaySoundAtNpc    ( .Npc:Partner 000001D8 00000000 )
        Call  NpcFlyTo  ( .Npc:Partner 00000208 00000046 FFFFFFC2 0000000A FFFFFFFB .Easing:Linear )
        Call  PlaySoundAtNpc    ( .Npc:Partner 000001D8 00000000 )
    EndLoop
    Return
    End
}

#new:Script $Script_80244E54
{
    Call  DisablePlayerInput    ( .True )
    Call  $Function_80240480 ( )
    Call  SetPlayerAnimation    ( 000C000E )
    Call  InterpPlayerYaw   ( 0000010E 00000000 )
    Call  DisablePartnerAI  ( 00000000 )
    Call  SetNpcPos     ( .Npc:Partner 00000208 0000003C FFFFFFDD )
    Call  SetNpcPos     ( 00000000 FFFFFE3E 00000000 FFFFFFEC )
    Call  SetNpcPos     ( 00000001 FFFFFE02 00000000 FFFFFFEC )
    Call  SetNpcYaw     ( 00000000 0000005A )
    Call  SetNpcYaw     ( 00000001 0000005A )
    Call  AdjustCam     ( .Cam:Default *Fixed[90.0] 00000014 000000FA *Fixed[17.0] *Fixed[-11.0] )
    Wait  30`
    Call  SpeakToPlayer ( .Npc:Player 000C000F 000C000E 00000005 00140016 ) % Sniffle...
    Wait  5`
    Call  InterpPlayerYaw   ( 0000005A 00000005 )
    Call  PlayerMoveTo  ( 00000014 0000001E 0000001E )
    Call  SpeakToPlayer ( .Npc:Player 000C000F 000C000E 00000005 00140017 ) % Mario's probably hurt...
    Wait  5`
    Call  InterpPlayerYaw   ( 0000010E 00000005 )
    Call  PlayerMoveTo  ( FFFFFFEC 0000001E 0000001E )
    Call  SpeakToPlayer ( .Npc:Player 000C000F 000C000E 00000005 00140018 ) % Everyone's in prison...
    Wait  5`
    Call  InterpPlayerYaw   ( 0000005A 00000005 )
    Call  PlayerMoveTo  ( 00000014 0000001E 0000001E )
    Call  SpeakToPlayer ( .Npc:Player 000C000F 000C000E 00000005 00140019 ) % The Mushroom Kingdom will be destroyed if things c ...
    Wait  30`
    Call  $Function_8024049C ( )
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  PlaySoundAtPlayer ( 00000262 00000000 )
    Call  ShowEmote     ( 00000000 .Emote:Exclamation FFFFFFD3 0000001E 00000000 00000000 00000000 00000000 00000000 )
    Wait  10`
    Call  InterpPlayerYaw   ( 0000010E 00000003 )
    Wait  15`
    Call  SetMusicTrack ( 00000000 .Song:BowserTheme 00000000 00000008 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[2.0] )
    Call  SetPanTarget  ( .Cam:Default FFFFFEB6 00000000 00000000 )
    Call  SetCamPosA    ( .Cam:Default FFFFFEB6 00000020 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  3`
    Exec  $Script_80244C28
    Wait  10`
    Call  SetNpcVar     ( 00000000 00000000 00000001 )
    Thread
        Call  SetNpcAnimation   ( 00000000 00800004 )
        Call  SetNpcSpeed   ( 00000000 *Fixed[3.0] )
        Call  NpcMoveTo     ( 00000000 FFFFFED4 FFFFFFEC 00000000 )
        Call  NpcMoveTo     ( 00000000 FFFFFFCE 0000001E 00000000 )
        Call  SetNpcAnimation   ( 00000000 00800002 )
        Call  SetNpcVar     ( 00000000 00000000 00000000 )
    EndThread
    Thread
        Call  SetNpcAnimation   ( 00000001 00600002 )
        Call  SetNpcSpeed       ( 00000001 *Fixed[3.0] )
        Call  NpcMoveTo ( 00000001 FFFFFF92 0000001E 00000000 )
        Call  SetNpcAnimation   ( 00000001 00600001 )
    EndThread
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Thread
        Wait  40`
        Call  MakeLerp  ( 000000FA 0000012C 00000050 .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Call  SetCamDistance    ( .Cam:Default *Var[0] )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Loop
        Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
        Add   *Var[0]  0000000A
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  GetNpcVar     ( 00000000 00000000 *Var[0] )
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Wait  20`
    Call  SpeakToPlayer ( 00000000 00800007 00800007 00000000 0014001A ) % Gwaa ha ha ha ha!! My dear Princess Peach, how are ...
    Call  SetNpcAnimation       ( 00000000 00800002 )
    Wait  1`
    Call  EndSpeech     ( 00000000 00800006 00800002 00000000 )
    Call  SpeakToPlayer ( 00000001 00600004 00600001 00000000 0014001B ) % It's no use waiting for Mario this time, my dear!  ...
    Call  SetNpcAnimation       ( 00000000 00800010 )
    Wait  10`
    Call  SpeakToPlayer ( 00000000 00800009 00800003 00000000 0014001C ) % You know, Princess, as long as I have this Star Ro ...
    Call  SetPlayerAnimation    ( 000C000D )
    Call  SetNpcAnimation       ( 00000000 00800002 )
    Call  EndSpeech     ( 00000000 00800009 00800003 00000000 )
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  SpeakToPlayer ( 00000001 00600004 00600001 00000000 0014001D ) % Nyeah hee hee hee! Imagine what it's like down in  ...
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000000 0014001E ) % If you, you know, want anything, all you need to d ...
    Call  SpeakToPlayer ( 00000001 00600004 00600001 00000000 0014001F ) % You watch yourself, Princess. You'd better not cau ...
    Wait  15`
    Thread
        Call  SetNpcAnimation   ( 00000000 00800004 )
        Call  NpcMoveTo ( 00000000 FFFFFE3E 0000001E 00000000 )
    EndThread
    Thread
        Call  InterpNpcYaw      ( 00000001 0000010E 00000005 )
        Wait  60`
        Call  SetNpcAnimation   ( 00000001 00600002 )
        Call  NpcMoveTo ( 00000001 FFFFFE02 0000001E 00000000 )
        Call  SetNpcAnimation   ( 00000001 00600001 )
    EndThread
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance        ( .Cam:Default *Fixed[300.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[0.5] )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  FadeOutMusic  ( 00000000 000007D0 )
    Wait  60`
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 00140020 ) % Oh... Please... If only somebody could help me...
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Wait  20`
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  00000096
    Call  PlaySoundAt   ( 000001D8 00000000 *Var[0] *Var[1] *Var[2] )
    Wait  10`
    Call  PlaySoundAt   ( 000001D8 00000000 *Var[0] *Var[1] *Var[2] )
    Wait  10`
    Call  PlaySoundAtPlayer     ( 00000263 00000000 )
    Call  ShowEmote     ( 00000000 .Emote:Question FFFFFFD3 00000014 00000000 00000000 00000000 00000000 00000000 )
    Wait  20`
    Call  InterpPlayerYaw       ( 00000087 00000005 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 00140021 ) % Huh?
    Set   *AreaFlag[003]  .False
    Exec  $Script_80244D88 *Var[A]
    Thread
        Call  UseSettingsFrom   ( .Cam:Default 0000019D 00000000 FFFFFFBE )
        Call  SetCamType    ( .Cam:Default 00000004 .False )
        Call  SetCamPosA    ( .Cam:Default 00000152 0000002C )
        Call  SetCamPosB    ( .Cam:Default 0000019D FFFFFFBE )
        Call  SetCamSpeed   ( .Cam:Default *Fixed[2.0] )
        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
        Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    EndThread
    Wait  10`
    Call  SetPlayerSpeed    ( *Fixed[3.0] )
    Call  PlayerMoveTo      ( 000000B3 FFFFFFFC 00000000 )
    Call  PlayerMoveTo      ( 000001B7 FFFFFFF0 00000000 )
    Set   *AreaFlag[003]  .True
    Kill  *Var[A]
    Call  InterpNpcYaw      ( .Npc:Partner 0000010E 00000000 )
    Wait  15`
    Call  SetPlayerAnimation    ( 000C000B )
    Call  PlaySoundAtCollider   ( ~Collider:tte 000001CB 00000000 )
    Call  MakeLerp  ( 00000000 00000050 0000000E .Easing:QuadraticOut )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o83 *Var[0] 00000000 00000001 00000000 )
        Call  RotateModel   ( ~Model:o85 *Var[0] 00000000 FFFFFFFF 00000000 )
        Call  RotateModel   ( ~Model:o84 *Var[0] 00000000 00000001 00000000 )
        Call  RotateModel   ( ~Model:o86 *Var[0] 00000000 FFFFFFFF 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  SetMusicTrack ( 00000000 .Song:TwinkTheme 00000000 00000008 )
    Thread
        Call  LoadPath  ( 00000064 $VectorList_80244BB0 00000005 .Easing:Linear )
        Loop
            Call  GetNextPathPos ( )
            Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
            Wait  1`
            If  *Var[0]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
        Set   *AreaFlag[003]  .False
    EndThread
    Thread
        Loop
            Call  GetNpcPos ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
            If  *Var[0]  <  00000136
                BreakLoop
            EndIf
            Wait  1`
        EndLoop
        Call  InterpNpcYaw  ( .Npc:Partner 0000005A 00000000 )
    EndThread
    Loop
        Wait  1`
        Call  GetNpcPos ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
        If  *Var[0]  <  000001AE
            BreakLoop
        EndIf
    EndLoop
    Call  InterpPlayerYaw       ( 000000DC 00000005 )
    Call  SetPlayerAnimation    ( 000A0001 )
    Thread
        Wait  40`
        Call  802D1270  ( 000001A4 00000000 *Fixed[2.0] )
    EndThread
    Wait  10`
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Wait  30`
    Call  UseSettingsFrom   ( .Cam:Default 00000172 0000001E 00000000 )
    Call  SetPanTarget  ( .Cam:Default 00000172 0000001E 00000000 )
    Call  SetCamDistance    ( .Cam:Default *Fixed[300.0] )
    Call  SetCamPosB    ( .Cam:Default *Fixed[370.0] *Fixed[32.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Loop
        Wait  1`
        If  *AreaFlag[003]  ==  .False
            BreakLoop
        EndIf
    EndLoop
    Call  SetPanTarget  ( .Cam:Default 00000140 0000001E 00000011 )
    Call  SetCamDistance        ( .Cam:Default *Fixed[200.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-16.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[2.0] )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140022 ) % Hello, Princess Peach! Pleased to meet you! My nam ...
    Call  SetPanTarget  ( .Cam:Default 00000172 0000001E 00000011 )
    Call  SetCamDistance        ( .Cam:Default *Fixed[300.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-10.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Wait  10`
    Call  SpeakToPlayer ( .Npc:Player 000D0004 000A0001 00000005 00140023 ) % But you're... You're a Star Kid, aren't you? How'd ...
    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140024 ) % I came from Star Haven to grant your wish! It's ou ...
    Call  SetCamSpeed   ( .Cam:Default *Fixed[0.4] )
    Call  SetPanTarget  ( .Cam:Default 0000015E 0000001E 00000011 )
    Call  PlayerMoveTo  ( 0000017C 00000000 0000001E )
    Call  SpeakToPlayer ( .Npc:Player 000D0004 000A0001 00000005 00140025 ) % Oh! You came because I wished that somebody could  ...
    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140026 ) % Yes, of course!
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  SetCamDistance        ( .Cam:Default 000000C8 )
    Call  SetCamPitch   ( .Cam:Default 00000011 FFFFFFF2 )
    Call  SetPanTarget  ( .Cam:Default 0000017C 0000001E 00000011 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 00140027 ) % Oh, that's just great! Thank you so much for comin ...
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  SetNpcAnimation       ( .Npc:Partner 00200010 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[1.0] )
    Call  SetCamPitch   ( .Cam:Default 00000011 FFFFFFF0 )
    Call  SetPanTarget  ( .Cam:Default 00000140 0000001E 00000011 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SpeakToPlayer ( .Npc:Partner 00200010 00200010 00000000 00140028 ) % ...... Uh...sorry... That's a little much for a no ...
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  SetCamDistance        ( .Cam:Default 0000012C )
    Call  SetCamPitch   ( .Cam:Default 00000011 FFFFFFF6 )
    Call  SetPanTarget  ( .Cam:Default 0000015E 0000001E 00000011 )
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 00140029 ) % Then... Can you take me away from here? Everyone i ...
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  SpeakToPlayer ( .Npc:Partner 00200010 00200010 00000000 0014002A ) % ...Oh...I'm sorry. I can't grant that wish either, ...
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 0014002B ) % It's all right... Don't be sad, Twink. Mario will  ...
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Wait  30`
    Call  SetPlayerAnimation    ( 000C000D )
    Call  PlaySoundAtPlayer     ( 00000262 00000000 )
    Call  ShowEmote     ( 00000000 .Emote:Exclamation FFFFFFD3 0000001E 00000000 00000000 00000000 00000000 00000000 )
    Wait  30`
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 0014002C ) % Oh! Twink! Do you think you can find Mario? I want ...
    Call  SetNpcAnimation       ( .Npc:Partner 00200001 )
    Call  EndSpeech     ( .Npc:Player 000C0001 000C0026 00000005 )
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C000A )
    Wait  12`
    Call  GetPlayerPos  ( *Var[2] *Var[3] *Var[4] )
    Sub   *Var[2]  0000000A
    Add   *Var[3]  00000014
    Add   *Var[4]  00000002
    Call  MakeItemEntity        ( .Item:LuckyStar *Var[2] *Var[3] *Var[4] .ItemSpawnMode:Decoration 00000000 )
    Set   *Var[9]  *Var[0]
    Wait  10`
    Call  SetCamSpeed   ( .Cam:Default *Fixed[5.0] )
    Call  SetCamDistance        ( .Cam:Default *Fixed[200.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-12.5] )
    Call  SetPanTarget  ( .Cam:Default 0000016D 0000001E 00000011 )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Thread
        Call  NpcFlyTo  ( .Npc:Partner 0000015E 00000032 FFFFFFFE 0000001E FFFFFFFB .Easing:Linear )
    EndThread
    Wait  40`
    Call  SetNpcAnimation   ( .Npc:Partner 00200017 )
    Call  MakeLerp  ( 00000032 00000046 0000000A .Easing:QuadraticOut )
    Loop
        Add   *Var[2]  FFFFFFFE
        Call  UpdateLerp ( )
        Call  SetItemPos    ( *Var[9] *Var[2] *Var[0] *Var[4] )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Wait  10`
    Call  SetNpcAnimation   ( .Npc:Partner 00200018 )
    Call  SpeakToPlayer     ( .Npc:Partner 00200018 00200018 00000000 0014002D ) % This is a Lucky Star, isn't it? OK! I'll do it! Pr ...
    Set   *Var[3]  *Var[0]
    Loop  0000000A
        Add   *Var[3]  FFFFFFFF
        Call  SetItemPos    ( *Var[9] *Var[2] *Var[3] *Var[4] )
        Wait  1`
    EndLoop
    Call  SetNpcAnimation   ( .Npc:Partner 00200019 )
    Call  RemoveItemEntity  ( *Var[9] )
    Wait  10`
    Call  SetNpcAnimation   ( .Npc:Partner 00200001 )
    Wait  20`
    Call  InterpNpcYaw      ( .Npc:Partner 0000010E 00000000 )
    Call  SetNpcAnimation   ( .Npc:Partner 00200005 )
    Wait  10`
    Call  SetCamDistance    ( .Cam:Default 00000190 )
    Call  SetCamPitch       ( .Cam:Default 00000011 FFFFFFF6 )
    Call  SetPanTarget      ( .Cam:Default 00000163 0000001E 00000011 )
    Thread
        Loop
            Wait  1`
            Call  GetNpcPos ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
            If  *Var[0]  >  0000017C
                BreakLoop
            EndIf
        EndLoop
        Call  InterpPlayerYaw       ( 0000005A 00000005 )
        Call  SetPlayerAnimation    ( 000C0000 )
        Wait  10`
        Call  SetPlayerAnimation    ( 000C0026 )
        Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 0014002E ) % Oh! Wait, Twink! Wait one second! Can you also...
        Set   *AreaFlag[003]  .True
    EndThread
    Thread
        Loop
            Call  GetNpcPos ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
            If  *Var[0]  <  00000136
                BreakLoop
            EndIf
            Wait  1`
        EndLoop
        Call  InterpNpcYaw  ( .Npc:Partner 0000005A 00000000 )
    EndThread
    Call  LoadPath  ( 0000003C $VectorList_80244BEC 00000005 .Easing:Linear )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  SetNpcAnimation   ( .Npc:Partner 00200001 )
    Call  InterpNpcYaw      ( .Npc:Partner 0000010E 00000000 )
    Loop
        Wait  1`
        If  *AreaFlag[003]  ==  .True
            BreakLoop
        EndIf
    EndLoop
    Call  SetCamDistance        ( .Cam:Default 000000FA )
    Call  SetCamPitch   ( .Cam:Default 00000011 FFFFFFF3 )
    Call  SetPanTarget  ( .Cam:Default 00000195 0000001E 00000011 )
    Call  SetCamPosB    ( .Cam:Default *Fixed[400.0] *Fixed[32.0] )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 0014002F ) % Please tell Mario that...
    Call  SetNpcAnimation       ( .Npc:Partner 00200005 )
    Call  NpcFlyTo      ( .Npc:Partner 000001A4 0000003C 00000000 00000014 00000000 .Easing:Linear )
    Call  SetNpcAnimation       ( .Npc:Partner 00200001 )
    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 00140030 ) % I'm fine and he shouldn't worry... ...OK? Can you  ...
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Thread
        Call  MakeLerp  ( 00000000 00000168 0000000A .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Call  SetNpcRotation    ( .Npc:Partner 00000000 *Var[0] 00000000 )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Call  GetNpcPos     ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
    Call  NpcJump0      ( .Npc:Partner *Var[0] *Var[1] *Var[2] 0000000A )
    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140031 ) % Of course! I'll tell him your exact words, Princes ...
    Call  SetNpcAnimation       ( .Npc:Partner 00200005 )
    Call  SetNpcFlagBits        ( .Npc:Partner 00000040 .True )
    Call  InterpNpcYaw  ( .Npc:Partner 0000005A 00000005 )
    Wait  10`
    Call  FadeOutMusic  ( 00000000 000007D0 )
    Call  NpcFlyTo      ( .Npc:Partner 00000258 00000064 FFFFFFB0 00000028 00000000 .Easing:Linear )
    Wait  30`
    Call  GotoMap       ( $ASCII_8024A6E8 00000002 ) % kkj_26
    Wait  100`
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

PADDING: 80246C8C to 80246C90 (00006C8C to 00006C90)
00000000

#new:Script $Script_80246C90
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePlayerPhysics  ( .True )
    Thread
        Call  AdjustCam ( .Cam:Default *Fixed[0.5] 00000014 0000012C *Fixed[17.0] *Fixed[-11.0] )
    EndThread
    Call  DisablePartnerAI  ( 00000000 )
    Call  SetNpcPos ( .Npc:Partner FFFFFF38 0000005D FFFFFFEF )
    Call  InterpNpcYaw      ( .Npc:Partner 0000005A 00000000 )
    Thread
        Wait  120`
        Call  NpcFlyTo      ( .Npc:Partner FFFFFF9C 00000028 00000000 0000003C 00000028 .Easing:Linear )
        Wait  5`
        Call  InterpNpcYaw  ( .Npc:Partner 0000010E 00000005 )
    EndThread
    Loop  00000003
        Call  PlayerMoveTo  ( FFFFFF92 00000000 0000001E )
        Call  PlayerMoveTo  ( FFFFFF74 00000000 0000001E )
    EndLoop
    Wait  5`
    Call  InterpPlayerYaw   ( 0000005A 00000005 )
    Wait  10`
    Call  SpeakToPlayer     ( .Npc:Player 000D0004 000A0001 00000005 00140033 ) % I wonder what Mario is doing right now... I wonder ...
    Call  SpeakToPlayer     ( .Npc:Partner 00200009 00200001 00000000 00140034 ) % He'll be all right, Princess. Why, I bet he's savi ...
    Call  SpeakToPlayer     ( .Npc:Player 000D0004 000A0001 00000005 00140035 ) % Yes... You're right, Twink. I must be strong. I ne ...
    Call  SpeakToPlayer     ( .Npc:Partner 00200009 00200001 00000000 00140036 ) % But there are tons of guards just beyond your door ...
    Call  SetPlayerAnimation    ( 000C000D )
    Call  PlaySoundAtPlayer ( 00000262 00000000 )
    Call  ShowEmote ( 00000000 .Emote:Exclamation 00000000 0000001E 00000000 00000000 00000000 00000000 00000000 )
    Wait  30`
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer     ( .Npc:Player 000C0001 000C0026 00000005 00140037 ) % Oh! Wait a minute! I remember the Minister telling ...
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  SpeakToPlayer     ( .Npc:Partner 00200009 00200001 00000000 00140038 ) % Cool! Great idea!
    Call  PanToTarget       ( .Cam:Default 00000000 00000000 )
    Call  EnablePartnerAI ( )
    Call  DisablePlayerPhysics  ( .False )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

PADDING: 80246FDC to 80246FE0 (00006FDC to 00006FE0)
00000000

#new:VectorList $VectorList_80246FE0
{
    % ~Path3f:Path_80246FE0
    110.000000 0.000000 -190.000000
    160.000000 70.000000 -150.000000
    100.000000 40.000000 -60.000000
    20.000000 70.000000 -100.000000
    -60.000000 40.000000 -20.000000
    0.000000 20.000000 30.000000
}

#new:Script $Script_80247028
{
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorOpen 00000000 )
    Call  MakeLerp  ( 00000000 00000078 0000000E .Easing:Linear )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Wait  40`
    Call  MakeLerp  ( 00000078 00000000 00000008 .Easing:Linear )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorClose 00000000 )
    Return
    End
}

#new:Script $Script_80247184
{
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorOpen 00000000 )
    Call  MakeLerp  ( 00000000 00000078 0000000E .Easing:CosFastOvershoot )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Return
    End
}

#new:Script $Script_80247234
{
    Call  MakeLerp  ( 00000078 00000000 00000008 .Easing:CosFastOvershoot )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorClose 00000000 )
    Return
    End
}

#new:Script $Script_802472E4
{
    Call  UseSettingsFrom   ( .Cam:Default FFFFFEB6 00000000 FFFFFFE2 )
    Call  SetPanTarget  ( .Cam:Default FFFFFEB6 00000000 FFFFFFE2 )
    Call  SetCamDistance    ( .Cam:Default *Fixed[325.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-11.0] )
    Call  SetCamPosA    ( .Cam:Default *Fixed[-310.0] *Fixed[32.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Return
    End
}

#new:Script $Script_8024739C
{
    Call  DisablePlayerInput    ( .True )
    Call  SetMusicTrack ( 00000000 .Song:BowserTheme 00000000 00000008 )
    Call  DisablePartnerAI      ( 00000000 )
    Call  SetNpcPos     ( .Npc:Partner 0000006E 00000000 FFFFFF42 )
    Call  SetNpcYaw     ( .Npc:Partner 0000010E )
    Call  InterpPlayerYaw       ( 0000010E 00000000 )
    ExecWait  $Script_802472E4
    Exec  $Script_80247028
    Wait  10`
    Call  SetNpcPos     ( 00000000 FFFFFE2A 00000000 FFFFFFE2 )
    Call  SetNpcVar     ( 00000000 00000000 00000001 )
    Thread
        Call  SetNpcAnimation   ( 00000000 00800004 )
        Call  SetNpcSpeed       ( 00000000 *Fixed[3.0] )
        Call  NpcMoveTo ( 00000000 FFFFFFE2 0000001E 00000000 )
        Call  SetNpcAnimation   ( 00000000 00800002 )
        Call  SetNpcVar ( 00000000 00000000 00000000 )
    EndThread
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Loop
        Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
        Add   *Var[0]  0000001E
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  GetNpcVar     ( 00000000 00000000 *Var[0] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  SpeakToPlayer ( 00000000 00800007 00800007 00000000 0014005C ) % Gwaa ha ha ha...hello. How're you feeling, Princes ...
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Wait  1`
    Call  EndSpeech     ( 00000000 00800006 00800002 00000000 )
    Call  SetPlayerAnimation    ( 000C0012 )
    Call  InterpPlayerYaw   ( 0000005A 00000003 )
    Wait  10`
    Call  SpeakToPlayer ( .Npc:Player 000C0013 000C0012 00000005 0014005D ) % Well, tough luck! I'm in a very bad mood, you mons ...
    Call  SpeakToPlayer ( 00000000 00800007 00800007 00000005 0014005E ) % Gwaa ha ha! Oh, that's rich! You know I can't do t ...
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Call  EndSpeech     ( 00000000 00800006 00800002 00000005 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  InterpPlayerYaw   ( 0000010E 00000000 )
    Call  InterpNpcYaw  ( 00000000 0000010E 00000000 )
    ExecWait  $Script_802472E4
    Wait  5`
    Exec  $Script_80247184
    Call  SetMusicTrack ( 00000000 .Song:KammyKoopaTheme 00000000 00000008 )
    Call  SetNpcPos     ( 00000001 FFFFFE2A 00000000 FFFFFFE2 )
    Call  SetNpcAnimation   ( 00000001 00600003 )
    Call  SetNpcSpeed   ( 00000001 *Fixed[5.0] )
    Call  NpcMoveTo     ( 00000001 FFFFFEAC FFFFFFE2 00000000 )
    Call  SetNpcAnimation   ( 00000001 00600001 )
    Wait  10`
    Call  SpeakToNpc    ( 00000001 00600004 00600001 00000000 00000000 0014005F ) % Your Nastiness!
    Call  SetCamDistance    ( .Cam:Default 0000015E )
    Call  SetPanTarget  ( .Cam:Default FFFFFFE2 00000000 FFFFFFE2 )
    Call  SetCamPosA    ( .Cam:Default FFFFFEE1 00000020 )
    Wait  5`
    Call  SetNpcAnimation   ( 00000001 00600003 )
    Call  SetNpcSpeed   ( 00000001 *Fixed[5.0] )
    Call  NpcMoveTo     ( 00000001 FFFFFF92 0000001E 00000000 )
    Call  SetNpcAnimation   ( 00000001 00600001 )
    Call  SpeakToNpc    ( 00000001 00600004 00600001 00000000 00000000 00140060 ) % We have a problem!
    Call  SpeakToNpc    ( 00000000 00800006 00800002 00000000 00000001 00140061 ) % Why, Kammy Koopa! What's got you so riled up? You  ...
    Call  SetNpcAnimation   ( 00000001 00600002 )
    Call  NpcMoveTo     ( 00000001 FFFFFFA6 00000028 0000000A )
    Call  SetNpcAnimation   ( 00000001 00600001 )
    Wait  10`
    Call  SpeakToNpc    ( 00000001 00600004 00600001 00000000 00000000 00140062 ) % Psst...Psst...Psst...
    Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
    Call  SetNpcAnimation   ( 00000000 0080000D )
    Call  NpcJump0      ( 00000000 *Var[0] *Var[1] *Var[2] 0000000A )
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Wait  10`
    Call  SpeakToNpc    ( 00000000 00800006 00800002 00000000 00000001 00140063 ) % Whaaaat!!? The Star Spirit flew away from Tubba Bl ...
    Call  SpeakToNpc    ( 00000001 00600004 00600001 00000000 00000000 00140064 ) % Ki... King Bowser! Keep your voice down! Princess  ...
    Call  SetNpcAnimation   ( 00000000 0080000C )
    Wait  50`
    Call  SpeakToNpc    ( 00000000 00800006 00800002 00000000 00000001 00140065 ) % Mmmm... Yes, right...  Tell me the details over th ...
    Thread
        Call  SetNpcAnimation   ( 00000000 00800004 )
        Call  SetNpcSpeed       ( 00000000 *Fixed[3.0] )
        Call  NpcMoveTo ( 00000000 FFFFFE2A FFFFFFE2 00000000 )
    EndThread
    Call  SetNpcVar ( 00000001 00000000 00000001 )
    Thread
        Wait  40`
        Call  SetNpcAnimation   ( 00000001 00600002 )
        Call  SetNpcSpeed   ( 00000001 *Fixed[3.0] )
        Call  NpcMoveTo     ( 00000001 FFFFFE2A FFFFFFE2 00000000 )
        Call  SetNpcVar     ( 00000001 00000000 00000000 )
    EndThread
    Thread
        Call  MakeLerp  ( 0000015E 00000190 00000064 .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Call  SetCamDistance    ( .Cam:Default *Var[0] )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Loop
        Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  GetNpcVar     ( 00000001 00000000 *Var[0] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Exec  $Script_80247234
    Wait  30`
    Call  SetMusicTrack ( 00000000 .Song:PrisonerPeachTheme 00000000 00000008 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  SetCamDistance    ( .Cam:Default 0000012C )
    Call  SetPanTarget  ( .Cam:Default 00000014 00000000 0000001E )
    Wait  3`
    Thread
        Loop
            Call  GetNpcPos ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
            If  *Var[0]  <  FFFFFFC6
                BreakLoop
            EndIf
            Wait  1`
        EndLoop
        Call  InterpNpcYaw  ( .Npc:Partner 0000005A 00000000 )
    EndThread
    Call  LoadPath  ( 00000050 $VectorList_80246FE0 00000006 .Easing:Linear )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer ( .Npc:Player 000C0001 000C0026 00000005 00140066 ) % Twink, did you hear that?
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140067 ) % Yes! I sure did! The Star Spirit must have escaped ...
    Call  SpeakToPlayer ( .Npc:Player 000D0004 000A0001 00000005 00140068 ) % We'd better try to find out about Tubba Blubba. If ...
    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140069 ) % Good idea!
    Call  SpeakToPlayer ( .Npc:Player 000D0004 000A0001 00000005 0014006A ) % Then... There's no time to lose. We won't get anyt ...
    Exec  $Script_802405C0
    Call  ResetCam  ( .Cam:Default *Fixed[4.0] )
    Call  EnablePartnerAI ( )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:VectorList $VectorList_80247F10
{
    % ~Path3f:Path_80247F10
    -40.000000 90.000000 0.000000
    -10.000000 65.000000 -20.000000
    20.000000 70.000000 -10.000000
}

#new:VectorList $VectorList_80247F34
{
    % ~Path3f:Path_80247F34
    20.000000 70.000000 -10.000000
    -30.000000 45.000000 -20.000000
    -80.000000 50.000000 -10.000000
}

#new:VectorList $VectorList_80247F58
{
    % ~Path3f:Path_80247F58
    -80.000000 50.000000 -10.000000
    -70.000000 35.000000 -5.000000
    -60.000000 30.000000 0.000000
}

#new:Script $Script_80247F7C
{
    Call  DisablePlayerInput    ( .True )
    Call  InterpPlayerYaw   ( 0000010E 00000000 )
    Call  DisablePartnerAI  ( 00000000 )
    Call  SetNpcPos ( .Npc:Partner FFFFFFD8 0000005A 00000000 )
    Call  InterpNpcYaw      ( .Npc:Partner 0000005A 00000000 )
    Call  AdjustCam ( .Cam:Default *Fixed[90.0] FFFFFFEC 000000FA *Fixed[17.0] *Fixed[-11.0] )
    Call  LoadPath  ( 00000018 $VectorList_80247F10 00000003 .Easing:Linear )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  NpcFacePlayer ( .Npc:Partner 00000005 )
    Wait  20`
    Call  LoadPath      ( 0000001E $VectorList_80247F34 00000003 .Easing:Linear )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  NpcFacePlayer ( .Npc:Partner 00000005 )
    Wait  20`
    Call  LoadPath      ( 0000000A $VectorList_80247F58 00000003 .Easing:Linear )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  NpcFacePlayer ( .Npc:Partner 00000005 )
    Wait  10`
    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 0014007E ) % I wonder how Mario is doing... Do you think he fou ...
    Call  SpeakToPlayer ( .Npc:Player 000D0004 000A0001 00000005 0014007F ) % I wonder, too. I'm so worried...  What if Mario go ...
    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140080 ) % Well... Um... No use wondering! Why don't we go ou ...
    Call  SpeakToPlayer ( .Npc:Player 000D0004 000A0001 00000005 00140081 ) % You may be right, Twink! There's no use just sitti ...
    Call  ResetCam      ( .Cam:Default *Fixed[2.0] )
    Call  EnablePartnerAI ( )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

PADDING: 802482B4 to 802482C0 (000082B4 to 000082C0)
00000000 00000000 00000000

#new:Script $Script_802482C0
{
    Call  DisablePlayerInput    ( .True )
    Call  InterpPlayerYaw       ( 0000010E 00000000 )
    Call  DisablePartnerAI      ( 00000000 )
    Call  SetNpcPos     ( .Npc:Partner FFFFFFC4 0000001E 00000000 )
    Call  SetNpcYaw     ( .Npc:Partner 0000005A )
    Call  AdjustCam     ( .Cam:Default *Fixed[90.0] FFFFFFEC 000000FA *Fixed[17.0] *Fixed[-11.0] )
    Wait  30`
    Call  SpeakToPlayer ( .Npc:Player 000D0004 000A0001 00000005 00140097 ) % Hey... Twink. Those guards have stopped paying att ...
    Call  SpeakToPlayer ( .Npc:Partner 00200009 00200001 00000000 00140098 ) % Do you think it's still safe to use that secret pa ...
    Call  SpeakToPlayer ( .Npc:Player 000D0004 000A0001 00000005 00140099 ) % It's still all right, Twink. Bowser hasn't noticed ...
    Thread
        Call  NpcFlyTo  ( .Npc:Partner FFFFFFE2 00000037 0000001E 0000001E FFFFFFFB .Easing:Linear )
        Call  EnablePartnerAI ( )
    EndThread
    Call  ResetCam  ( .Cam:Default *Fixed[2.0] )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

PADDING: 8024842C to 80248430 (0000842C to 00008430)
00000000

#new:Script $Script_80248430
{
    Call  DisablePlayerInput    ( .True )
    Call  InterpPlayerYaw   ( 0000010E 00000000 )
    Call  DisablePartnerAI  ( 00000000 )
    Call  SetNpcPos     ( .Npc:Partner FFFFFF56 00000028 FFFFFFFB )
    Call  InterpNpcYaw  ( .Npc:Partner 0000005A 00000000 )
    Call  UseSettingsFrom   ( .Cam:Default FFFFFF74 00000000 00000000 )
    Call  SetPanTarget  ( .Cam:Default FFFFFF74 00000000 00000000 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Thread
        Call  SetCamDistance    ( .Cam:Default *Fixed[275.0] )
        Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-11.0] )
        Call  SetCamSpeed   ( .Cam:Default *Fixed[0.6] )
        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
        Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    EndThread
    Loop  00000002
        Call  PlayerMoveTo  ( FFFFFF92 00000000 00000019 )
        Wait  5`
        Call  PlayerMoveTo  ( FFFFFF7E 00000000 00000019 )
        Wait  5`
    EndLoop
    Call  PlayerMoveTo      ( FFFFFF92 00000000 00000019 )
    Call  InterpPlayerYaw   ( 0000010E 00000005 )
    Call  SpeakToPlayer     ( .Npc:Player 000D0004 000A0001 00000005 001400EB ) % ... ...Hey, Twink... How would you feel about snea ...
    Call  SpeakToPlayer     ( .Npc:Partner 00200009 00200001 00000000 001400EC ) % Princess Peach! You've gotten so bold! And here I  ...
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer     ( .Npc:Player 000C0001 000C0026 00000005 001400ED ) % Oh....... I... I am delicate! I'm behaving like a  ...
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  SpeakToPlayer     ( .Npc:Partner 00200009 00200001 00000000 001400EE ) % OK, OK... ...I believe you, Peach. You're the prin ...
    Thread
        Call  NpcFlyTo  ( .Npc:Partner FFFFFF74 00000037 00000000 0000001E FFFFFFFB .Easing:Linear )
        Call  EnablePartnerAI ( )
    EndThread
    Call  ResetCam  ( .Cam:Default *Fixed[2.0] )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

PADDING: 80248764 to 80248770 (00008764 to 00008770)
00000000 00000000 00000000

#new:Script $Script_80248770
{
    Call  DisablePlayerInput    ( .True )
    Call  InterpPlayerYaw   ( 0000010E 00000000 )
    Call  DisablePartnerAI  ( 00000000 )
    Call  SetNpcPos ( .Npc:Partner FFFFFF74 00000019 00000000 )
    Call  SetNpcYaw ( .Npc:Partner 0000005A )
    Call  UseSettingsFrom   ( .Cam:Default FFFFFF9C 00000000 00000000 )
    Call  SetPanTarget      ( .Cam:Default FFFFFF9C 00000000 00000000 )
    Call  SetCamSpeed       ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget       ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam        ( .Cam:Default *Fixed[1.0] )
    Call  SetCamDistance    ( .Cam:Default *Fixed[250.0] )
    Call  SetCamSpeed       ( .Cam:Default *Fixed[2.0] )
    Call  WaitForCam        ( .Cam:Default *Fixed[1.0] )
    Wait  30`
    Call  SetPlayerAnimation    ( 000C0000 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000C0026 )
    Call  SpeakToPlayer     ( .Npc:Player 000C0001 000C0026 00000005 0014012F ) % Hey... Twink. You know the Sneaky Parasol I got on ...
    Call  SetPlayerAnimation    ( 000C0002 )
    Wait  10`
    Call  SetPlayerAnimation    ( 000A0001 )
    Call  SpeakToPlayer     ( .Npc:Partner 00200009 00200001 00000000 00140130 ) % Yeah... I bet you can... Why don't you try it out? ...
    Thread
        Call  NpcFlyTo  ( .Npc:Partner FFFFFFA6 00000037 00000000 0000001E FFFFFFFB .Easing:Linear )
        Call  EnablePartnerAI ( )
    EndThread
    Call  ResetCam  ( .Cam:Default *Fixed[2.0] )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

PADDING: 802489A4 to 802489B0 (000089A4 to 000089B0)
00000000 00000000 00000000

#new:VectorList $VectorList_802489B0
{
    % ~Path3f:Path_802489B0
    440.000000 65.000000 0.000000
    420.000000 120.000000 -20.000000
    400.000000 80.000000 -35.000000
    375.000000 80.000000 -50.000000
    375.000000 100.000000 -50.000000
}

#new:VectorList $VectorList_802489EC
{
    % ~Path3f:Path_802489EC
    375.000000 100.000000 -50.000000
    375.000000 80.000000 -50.000000
    390.000000 90.000000 10.000000
}

#new:Script $Script_80248A10
{
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[1.0] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Thread
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Sub   *Var[0]  0000001A
        Sub   *Var[2]  00000002
        Call  SetNpcAnimation   ( 00000001 00580006 )
        Call  SetNpcSpeed   ( 00000001 *Fixed[5.0] )
        Call  NpcMoveTo     ( 00000001 *Var[0] 00000046 00000000 )
        Call  NpcFacePlayer ( 00000001 00000005 )
        Call  NpcMoveTo     ( 00000001 *Var[0] *Var[2] 00000000 )
        Call  SetNpcAnimation   ( 00000001 00580001 )
    EndThread
    Call  SetNpcVar ( 00000002 00000000 00000001 )
    Thread
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[0]  0000001A
        Add   *Var[2]  00000002
        Call  SetNpcAnimation   ( 00000002 00580006 )
        Call  SetNpcSpeed   ( 00000002 *Fixed[5.0] )
        Call  NpcMoveTo     ( 00000002 *Var[0] 00000046 00000000 )
        Call  NpcFacePlayer ( 00000002 00000005 )
        Call  NpcMoveTo     ( 00000002 *Var[0] *Var[2] 00000000 )
        Call  SetNpcAnimation   ( 00000002 00580001 )
        Call  SetNpcVar     ( 00000002 00000000 00000000 )
    EndThread
    Loop
        Wait  1`
        Call  GetNpcVar ( 00000002 00000000 *Var[0] )
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Wait  10`
    Return
    End
}

#new:Script $Script_80248C9C
{
    Thread
        Call  SetNpcAnimation   ( 00000001 00580018 )
        Call  GetNpcPos ( 00000001 *Var[0] *Var[1] *Var[2] )
        Loop  00000005
            Loop  00000005
                Add   *Var[0]  00000002
                Call  SetNpcPos ( 00000001 *Var[0] *Var[1] *Var[2] )
                Wait  1`
            EndLoop
            Loop  00000005
                Sub   *Var[0]  00000002
                Call  SetNpcPos ( 00000001 *Var[0] *Var[1] *Var[2] )
                Wait  1`
            EndLoop
        EndLoop
        Call  SetNpcAnimation   ( 00000001 00580001 )
    EndThread
    Thread
        Call  SetNpcAnimation   ( 00000002 00580018 )
        Call  GetNpcPos ( 00000002 *Var[0] *Var[1] *Var[2] )
        Loop  00000005
            Loop  00000005
                Sub   *Var[0]  00000002
                Call  SetNpcPos ( 00000002 *Var[0] *Var[1] *Var[2] )
                Wait  1`
            EndLoop
            Loop  00000005
                Add   *Var[0]  00000002
                Call  SetNpcPos ( 00000002 *Var[0] *Var[1] *Var[2] )
                Wait  1`
            EndLoop
        EndLoop
        Call  SetNpcAnimation   ( 00000002 00580001 )
    EndThread
    Thread
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Sub   *Var[0]  00000010
        Loop  00000032
            Call  RandInt       ( 00000020 *Var[3] )
            Call  RandInt       ( 00000032 *Var[4] )
            Add   *Var[3]  *Var[0]
            Add   *Var[4]  *Var[1]
            Call  PlayEffect    ( ~FX:Steam:SmallPuff *Var[3] *Var[4] *Var[2] 00000001 00000001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  1`
        EndLoop
    EndThread
    Call  SetPlayerAnimation    ( 000C0005 )
    Wait  10`
    Thread
        Call  SetPlayerAnimation    ( 000C0006 )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Call  ShowMessageAtWorldPos ( 0014016D *Var[0] *Var[1] *Var[2] ) % No! Please!
    EndThread
    Set   *Var[0]  00000000
    Set   *Var[1]  0000002D
    Loop  00000014
        Call  InterpPlayerYaw   ( *Var[0] 00000000 )
        Add   *Var[0]  *Var[1]
        Add   *Var[1]  00000002
        Wait  1`
    EndLoop
    Call  SetPlayerAnimation    ( 000C001E )
    Loop  00000014
        Call  InterpPlayerYaw   ( *Var[0] 00000000 )
        Add   *Var[0]  *Var[1]
        Sub   *Var[1]  00000002
        Wait  1`
    EndLoop
    Call  InterpPlayerYaw   ( 0000010E 00000000 )
    Return
    End
}

#new:Script $Script_802490EC
{
    Thread
        Call  GetNpcPos ( 00000001 *Var[0] *Var[1] *Var[2] )
        Call  SetNpcAnimation   ( 00000001 00580012 )
        Add   *Var[0]  0000000A
        Call  NpcMoveTo ( 00000001 *Var[0] *Var[2] 0000000A )
    EndThread
    Thread
        Call  GetNpcPos ( 00000002 *Var[0] *Var[1] *Var[2] )
        Call  SetNpcAnimation   ( 00000002 00580012 )
        Sub   *Var[0]  0000000A
        Call  NpcMoveTo ( 00000002 *Var[0] *Var[2] 0000000A )
    EndThread
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Wait  1`
    Loop  00000004
        Add   *Var[1]  00000002
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
    EndLoop
    Call  SetPlayerAnimation    ( 000D0008 )
    Loop  00000005
        Add   *Var[1]  00000004
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
    EndLoop
    Return
    End
}

#new:Script $Script_80249298
{
    Call  InterpNpcYaw  ( 00000001 0000010E 00000003 )
    Wait  10`
    Thread
        Loop
            Call  GetNpcPos     ( 00000002 *Var[0] *Var[1] *Var[2] )
            Sub   *Var[0]  00000016
            Add   *Var[1]  0000001E
            Add   *Var[2]  00000002
            Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
            Wait  1`
        EndLoop
    EndThread
    Thread
        Call  SetNpcAnimation   ( 00000001 00580014 )
        Call  SetNpcSpeed   ( 00000001 *Fixed[5.0] )
        Call  NpcMoveTo     ( 00000001 0000016C 00000044 00000000 )
        Call  NpcMoveTo     ( 00000001 00000054 00000044 00000000 )
    EndThread
    Thread
        Call  SetNpcAnimation   ( 00000002 00580014 )
        Call  SetNpcSpeed   ( 00000002 *Fixed[5.0] )
        Call  NpcMoveTo     ( 00000002 0000018C 00000048 00000000 )
        Call  NpcMoveTo     ( 00000002 00000074 00000048 00000000 )
    EndThread
    Return
    End
}

#new:Script $Script_80249440
{
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorOpen 00000000 )
    Call  MakeLerp  ( 00000000 00000078 0000000E .Easing:Linear )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Wait  40`
    Call  MakeLerp  ( 00000078 00000000 00000008 .Easing:Linear )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorClose 00000000 )
    Return
    End
}

#new:Script $Script_8024959C
{
    Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:BasicDoorOpen 00000000 )
    Call  MakeLerp  ( 00000000 00000078 0000000E .Easing:CosFastOvershoot )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o4 *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Return
    End
}

#new:Script $Script_8024964C
{
    Call  UseSettingsFrom   ( .Cam:Default FFFFFEAC 00000000 FFFFFFE2 )
    Call  SetPanTarget  ( .Cam:Default FFFFFEAC 00000000 FFFFFFE2 )
    Call  SetCamDistance    ( .Cam:Default *Fixed[275.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-13.0] )
    Call  SetCamPosA    ( .Cam:Default *Fixed[-310.0] *Fixed[32.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Return
    End
}

#new:Script $Script_80249718
{
    Call  UseSettingsFrom   ( .Cam:Default 0000017C 0000001E 0000000A )
    Call  SetPanTarget  ( .Cam:Default 0000017C 0000001E 0000000A )
    Call  SetCamDistance    ( .Cam:Default *Fixed[350.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Return
    End
}

#new:Script $Script_802497B4
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePlayerPhysics  ( .True )
    Call  DisablePartnerAI      ( 00000000 )
    Call  SetMusicTrack ( 00000000 .Song:BowserTheme 00000000 00000008 )
    Call  SetNpcPos     ( .Npc:Partner 000001B8 00000041 00000000 )
    Call  SetNpcYaw     ( .Npc:Partner 0000010E )
    Call  RotateModel   ( ~Model:o83 00000050 00000000 FFFFFFFF 00000000 )
    Call  RotateModel   ( ~Model:o85 00000050 00000000 00000001 00000000 )
    Call  RotateModel   ( ~Model:o84 00000050 00000000 FFFFFFFF 00000000 )
    Call  RotateModel   ( ~Model:o86 00000050 00000000 00000001 00000000 )
    ExecWait  $Script_8024964C
    Wait  30`
    Exec  $Script_80249440
    Call  SetNpcAnimation       ( 00000000 00800004 )
    Call  SetNpcPos     ( 00000000 FFFFFE2A 00000000 FFFFFFE2 )
    Call  SetNpcSpeed   ( 00000000 *Fixed[3.0] )
    Call  NpcMoveTo     ( 00000000 FFFFFEDE FFFFFFE2 00000000 )
    Call  SetNpcAnimation       ( 00000000 00800002 )
    Wait  10`
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000000 00140161 ) % Oh, Princess Peach! Your cuddly old Bowser's here!
    Wait  10`
    ExecWait  $Script_80249718
    Call  LoadPath      ( 0000001E $VectorList_802489B0 00000005 .Easing:Linear )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  SetNpcAnimation   ( .Npc:Partner 00200002 )
    Call  SetNpcPos     ( 00000000 00000064 00000000 00000014 )
    Call  SetNpcFlagBits    ( 00000000 00000200 .True )
    Call  SetNpcAnimation   ( 00000000 00800004 )
    Call  NpcMoveTo     ( 00000000 0000012C 00000014 00000000 )
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Wait  10`
    Call  SetCamDistance    ( .Cam:Default *Fixed[325.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-11.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[5.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000000 00140162 ) % Can't we have a friendly conversation for a change ...
    Call  InterpPlayerYaw   ( 0000005A 00000005 )
    Call  SetPlayerAnimation    ( 000C0012 )
    Call  SpeakToPlayer ( .Npc:Player 000C0013 000C0012 00000005 00140163 ) % I have nothing to say to you.
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000005 00140164 ) % Oh, don't be such a pill. You're stuck with me for ...
    Call  InterpPlayerYaw   ( 0000010E 00000005 )
    Wait  10`
    Call  SpeakToPlayer ( .Npc:Player 000C0013 000C0012 00000005 00140165 ) % Mario is coming, Bowser. And you can't stop him.
    Call  SpeakToPlayer ( 00000000 00800007 00800007 00000005 00140166 ) % Gwaa ha ha ha!!  Oh, you poor, silly girl! I'm inv ...
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Call  EndSpeech     ( 00000000 00800006 00800002 00000005 )
    Call  SpeakToPlayer ( .Npc:Player 000C0013 000C0012 00000005 00140167 ) % ................
    Wait  30`
    Call  SetPlayerAnimation    ( 000A0001 )
    ExecWait  $Script_8024964C
    Exec  $Script_8024959C
    Call  SetNpcAnimation   ( 00000003 00600003 )
    Call  SetNpcPos     ( 00000003 FFFFFE2A 00000000 FFFFFFE2 )
    Call  SetNpcSpeed   ( 00000000 *Fixed[5.0] )
    Call  NpcMoveTo     ( 00000003 FFFFFEAC FFFFFFE2 00000000 )
    Call  SetNpcAnimation   ( 00000003 00600001 )
    Wait  10`
    Call  SpeakToNpc    ( 00000003 00600004 00600001 00000000 00000000 00140168 ) % Your Raunchiness! We have an emergency!
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Call  SetNpcYaw     ( 00000000 0000010E )
    Call  SetNpcYaw     ( .Npc:Partner 0000010E )
    Call  UseSettingsFrom   ( .Cam:Default 000000FA 0000001E 0000000A )
    Call  SetPanTarget  ( .Cam:Default 000000FA 0000001E 0000000A )
    Call  SetCamDistance    ( .Cam:Default *Fixed[325.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-11.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Wait  10`
    Call  SetNpcPos     ( 00000003 00000032 00000000 FFFFFFF6 )
    Call  SetNpcAnimation   ( 00000003 00600003 )
    Call  NpcMoveTo     ( 00000003 000000B4 FFFFFFF6 00000000 )
    Call  SetNpcAnimation   ( 00000003 00600001 )
    Wait  10`
    Call  SpeakToNpc    ( 00000000 00800006 00800002 00000000 00000003 00140169 ) % Grr! It'd better be important! I'm right in the mi ...
    Call  SpeakToNpc    ( 00000003 00600004 00600001 00000000 00000000 0014016A ) % Uh... Mario has now saved all of the Star Spirits! ...
    Call  SetNpcAnimation   ( 00000000 0080000D )
    Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
    Call  NpcJump0      ( 00000000 *Var[0] *Var[1] *Var[2] 0000000A )
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Call  SpeakToNpc    ( 00000000 00800006 00800002 00000000 00000003 0014016B ) % What! Gah! Mar-i-ooooo! OK. Listen, Kammy Koopa. S ...
    Wait  10`
    Thread
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
        Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    EndThread
    Call  InterpNpcYaw  ( 00000000 0000010E 0000000A )
    Wait  10`
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000000 0014016C ) % Princess Peach, why don't you come with me to watc ...
    Wait  10`
    Call  SetNpcPos     ( 00000001 00000030 00000000 00000046 )
    Call  SetNpcPos     ( 00000002 00000064 00000000 00000046 )
    Call  SetNpcFlagBits    ( 00000001 00000200 .True )
    Call  SetNpcFlagBits    ( 00000002 00000200 .True )
    Wait  10`
    ExecWait  $Script_80248A10
    ExecWait  $Script_80248C9C
    Call  SetNpcAnimation   ( .Npc:Partner 00200008 )
    Call  LoadPath      ( 0000000F $VectorList_802489EC 00000003 .Easing:Linear )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  SpeakToPlayer ( .Npc:Partner 0020000A 00200002 00000005 0014016E ) % You big...Koopa! Show some respect to the princess ...
    Call  SetNpcVar     ( 00000000 00000000 00000000 )
    Thread
        Call  NpcFlyTo  ( .Npc:Partner 0000019A 00000050 0000000A 00000007 00000000 .Easing:Linear )
        Loop  00000002
            Call  NpcFlyTo      ( .Npc:Partner 00000190 00000046 0000000A 00000005 00000000 .Easing:Linear )
            Call  PlayEffect    ( ~FX:Steam:TinyOutward 00000190 00000046 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Call  NpcFlyTo      ( .Npc:Partner 0000019A 00000050 0000000A 00000005 00000000 .Easing:Linear )
        EndLoop
        Call  NpcFlyTo  ( .Npc:Partner 00000168 00000050 0000000A 00000007 00000000 .Easing:Linear )
        Loop
            Call  NpcFlyTo  ( .Npc:Partner 00000168 00000046 0000000A 00000005 00000000 .Easing:Linear )
            Call  PlayEffect    ( ~FX:Steam:TinyOutward 00000168 00000046 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Call  NpcFlyTo  ( .Npc:Partner 0000015E 00000050 0000000A 00000005 00000000 .Easing:Linear )
            Call  GetNpcVar ( 00000000 00000000 *Var[0] )
            If  *Var[0]  ==  00000001
                BreakLoop
            EndIf
        EndLoop
        Call  SetNpcVar ( 00000000 00000000 00000002 )
    EndThread
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000005 0014016F ) % What is this whining little glittering thing? Conf ...
    Wait  20`
    Call  SpeakToPlayer ( 00000000 00800008 00800002 00000005 00140170 ) % Gah! Buzz off!
    Call  SetNpcVar     ( 00000000 00000000 00000001 )
    Loop
        Wait  1`
        Call  GetNpcVar ( 00000000 00000000 *Var[0] )
        If  *Var[0]  ==  00000002
            BreakLoop
        EndIf
    EndLoop
    Call  SetNpcAnimation   ( 00000000 00800004 )
    Call  NpcMoveTo     ( 00000000 00000136 00000014 00000005 )
    Call  SetNpcAnimation   ( 00000000 00800016 )
    Wait  3`
    Call  InterpPlayerYaw   ( 0000005A 00000000 )
    Call  PlaySoundAt   ( 000000E1 00000000 0000015E 00000050 0000000A )
    Call  PlayEffect    ( ~FX:Firework:White 0000015E 00000050 0000000A 00000001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Call  SetNpcFlagBits    ( .Npc:Partner 00000040 .True )
    Call  SetNpcSpeed   ( .Npc:Partner *Fixed[7.5] )
    Call  NpcFlyTo      ( .Npc:Partner 000001F4 00000082 0000000A 00000000 00000000 .Easing:Linear )
    Call  SpeakToPlayer ( .Npc:Player 000C001E 000C001E 00000005 00140171 ) % Twiiiiink!
    Wait  10`
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000005 00140172 ) % Take the princess! Now! Let's move!
    Wait  10`
    ChildThread
        Loop
            Call  NpcFacePlayer ( 00000000 00000000 )
            Wait  1`
        EndLoop
    EndChildThread
    ExecWait  $Script_802490EC
    Call  SpeakToPlayer ( .Npc:Player 000D0008 000D0008 00000005 00140173 ) % Noooo!
    ExecWait  $Script_80249298
    Wait  30`
    ExecWait  $Script_ExitSingleDoor_802407A0
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Call  EnablePartnerAI ( )
    Call  DisablePlayerPhysics  ( .False )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

PADDING: 8024A6A4 to 8024A6B0 (0000A6A4 to 0000A6B0)
00000000 00000000 00000000

% Origin: HEURISTIC
#new:ASCII $ASCII_8024A6B0
{
    "nok_bg"
}

#new:ASCII $ASCII_8024A6B8
{
    "pra_01"
}

#new:ASCII $ASCII_8024A6C0
{
    "kkj_11"
}

#new:ASCII $ASCII_8024A6C8
{
    "kkj_01"
}

#new:ASCII $ASCII_8024A6D0
{
    "kkj_26"
}

#new:ASCII $ASCII_8024A6D8
{
    "kkj_15"
}

#new:ASCII $ASCII_8024A6E0
{
    "kkj_27"
}

#new:ASCII $ASCII_8024A6E8
{
    "kkj_26"
}

