% Script File: sam_01.mscr
% Decoded from: 0 to DBC0 (sam_01)

% Origin: HEURISTIC
#new:Function $Function_80240000
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 14 (SP)
	LW        V1, A8 (S0)
	LW        V0, 88 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o30
	SW        V1, A8 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .o40
	ADDU      V0, V1, V0
	.o30
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .o44
	SUBU      V0, V1, A0
	.o40
	SW        V0, A8 (S0)
	.o44
	LW        V1, AC (S0)
	LW        V0, 8C (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o64
	SW        V1, AC (S0)
	LUI       V0, 2
	BEQ       R0, R0, .o74
	ADDU      V0, V1, V0
	.o64
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .o78
	SUBU      V0, V1, A0
	.o74
	SW        V0, AC (S0)
	.o78
	LW        V1, B0 (S0)
	LW        V0, 90 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o98
	SW        V1, B0 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .oA8
	ADDU      V0, V1, V0
	.o98
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .oAC
	SUBU      V0, V1, A0
	.oA8
	SW        V0, B0 (S0)
	.oAC
	LW        V1, B4 (S0)
	LW        V0, 94 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .oCC
	SW        V1, B4 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .oDC
	ADDU      V0, V1, V0
	.oCC
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .oE0
	SUBU      V0, V1, A0
	.oDC
	SW        V0, B4 (S0)
	.oE0
	LW        A0, 84 (S0)
	JAL       ~Func:set_main_pan_u
	LW        A1, A8 (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_main_pan_v
	LW        A1, AC (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_aux_pan_u
	LW        A1, B0 (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_aux_pan_v
	LW        A1, B4 (S0)
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
#new:Function $Function_80240124
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	COPY      S0, A0
	BEQ       A1, R0, .o24
	SW        RA, 14 (SP)
	SW        R0, 70 (S0)
	SW        R0, 74 (S0)
	SW        R0, 78 (S0)
	SW        R0, 7C (S0)
	.o24
	LW        V0, 70 (S0)
	BNE       V0, R0, .o64
	NOP
	LW        V1, A8 (S0)
	LW        V0, 88 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o50
	SW        V1, A8 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .o60
	ADDU      V0, V1, V0
	.o50
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .o64
	SUBU      V0, V1, A0
	.o60
	SW        V0, A8 (S0)
	.o64
	LW        V0, 74 (S0)
	BNE       V0, R0, .oA4
	NOP
	LW        V1, AC (S0)
	LW        V0, 8C (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o90
	SW        V1, AC (S0)
	LUI       V0, 2
	BEQ       R0, R0, .oA0
	ADDU      V0, V1, V0
	.o90
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .oA4
	SUBU      V0, V1, A0
	.oA0
	SW        V0, AC (S0)
	.oA4
	LW        V0, 78 (S0)
	BNE       V0, R0, .oE4
	NOP
	LW        V1, B0 (S0)
	LW        V0, 90 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .oD0
	SW        V1, B0 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .oE0
	ADDU      V0, V1, V0
	.oD0
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .oE4
	SUBU      V0, V1, A0
	.oE0
	SW        V0, B0 (S0)
	.oE4
	LW        V0, 7C (S0)
	BNE       V0, R0, .o124
	NOP
	LW        V1, B4 (S0)
	LW        V0, 94 (S0)
	ADDU      V1, V1, V0
	BGEZ      V1, .o110
	SW        V1, B4 (S0)
	LUI       V0, 2
	BEQ       R0, R0, .o120
	ADDU      V0, V1, V0
	.o110
	LUI       A0, 2
	SLT       V0, A0, V1
	BEQ       V0, R0, .o124
	SUBU      V0, V1, A0
	.o120
	SW        V0, B4 (S0)
	.o124
	LW        A0, 84 (S0)
	JAL       ~Func:set_main_pan_u
	LW        A1, A8 (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_main_pan_v
	LW        A1, AC (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_aux_pan_u
	LW        A1, B0 (S0)
	LW        A0, 84 (S0)
	JAL       ~Func:set_aux_pan_v
	LW        A1, B4 (S0)
	LW        V0, 70 (S0)
	LW        V1, 78 (S0)
	LW        A0, 98 (S0)
	ADDIU     V0, V0, 1
	SW        V0, 70 (S0)
	LW        V0, 74 (S0)
	ADDIU     V1, V1, 1
	SW        V1, 78 (S0)
	LW        V1, 70 (S0)
	ADDIU     V0, V0, 1
	SW        V0, 74 (S0)
	LW        V0, 7C (S0)
	SLT       V1, V1, A0
	ADDIU     V0, V0, 1
	BNE       V1, R0, .o198
	SW        V0, 7C (S0)
	SW        R0, 70 (S0)
	.o198
	LW        V0, 74 (S0)
	LW        V1, 9C (S0)
	SLT       V0, V0, V1
	BEQL      V0, R0, .o1AC
	SW        R0, 74 (S0)
	.o1AC
	LW        V0, 78 (S0)
	LW        V1, A0 (S0)
	SLT       V0, V0, V1
	BEQL      V0, R0, .o1C0
	SW        R0, 78 (S0)
	.o1C0
	LW        V0, 7C (S0)
	LW        V1, A4 (S0)
	SLT       V0, V0, V1
	BEQL      V0, R0, .o1D4
	SW        R0, 7C (S0)
	.o1D4
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 8024030C to 80240310 (0000030C to 00000310)
00000000

% Origin: HEURISTIC
#new:Function $Function_80240310
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	JAL       ~Func:get_npc_safe
	COPY      A0, V0
	BEQ       V0, R0, .o44
	NOP
	LW        A1, 0 (S0)
	LH        A2, A8 (V0)
	JAL       ~Func:set_variable
	COPY      A0, S1
	.o44
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_8024036C
{
	ADDIU     SP, SP, FFB0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 24 (SP)
	SW        S4, 20 (SP)
	SW        S3, 1C (SP)
	SW        S2, 18 (SP)
	SW        S0, 10 (SP)
	SDC1      F28, 48 (SP)
	SDC1      F26, 40 (SP)
	SDC1      F24, 38 (SP)
	SDC1      F22, 30 (SP)
	SDC1      F20, 28 (SP)
	LW        S0, C (S1)
	LW        S3, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A1, S3
	MTC1      V0, F28
	NOP
	CVT.S.W   F28, F28
	LW        S4, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      A1, S4
	MTC1      V0, F26
	NOP
	CVT.S.W   F26, F26
	LW        S0, 0 (S0)
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      A1, S0
	MTC1      V0, F24
	NOP
	CVT.S.W   F24, F24
	LIA       S2, 8010EFC8
	LAW       V1, 80077410
	LWC1      F2, A8 (S2)
	MTC1      R0, F0
	SLL       V0, V1, 2
	ADDU      V0, V0, V1
	SLL       V0, V0, 2
	SUBU      V0, V0, V1
	SLL       V1, V0, 3
	ADDU      V0, V0, V1
	SLL       V0, V0, 3
	C.EQ.S    F2, F0
	LTF       F22, V0 (800B1DEC)
	BC1F      .oEC
	NOP
	LIF       F0, 100.0
	BEQ       R0, R0, .oFC
	SUB.S     F22, F22, F0
	.oEC
	LIF       F0, 100.0
	NOP
	ADD.S     F22, F22, F0
	.oFC
	JAL       ~Func:clamp_angle
	MOV.S     F12, F22
	MOV.S     F22, F0
	LIF       F20, 15.0
	JAL       ~Func:sin_deg
	MOV.S     F12, F22
	MUL.S     F0, F0, F20
	NOP
	LH        V0, B0 (S2)
	LIF       F4, 0.5
	MTC1      V0, F2
	NOP
	CVT.S.W   F2, F2
	MUL.S     F2, F2, F4
	NOP
	ADD.S     F28, F28, F0
	ADD.S     F26, F26, F2
	JAL       ~Func:cos_deg
	MOV.S     F12, F22
	MUL.S     F0, F0, F20
	NOP
	COPY      A0, S1
	COPY      A1, S3
	TRUNC.W.S F6, F28
	MFC1      A2, F6
	JAL       ~Func:set_variable
	SUB.S     F24, F24, F0
	COPY      A0, S1
	TRUNC.W.S F6, F26
	MFC1      A2, F6
	JAL       ~Func:set_variable
	COPY      A1, S4
	COPY      A0, S1
	TRUNC.W.S F6, F24
	MFC1      A2, F6
	JAL       ~Func:set_variable
	COPY      A1, S0
	LW        RA, 24 (SP)
	LW        S4, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F28, 48 (SP)
	LDC1      F26, 40 (SP)
	LDC1      F24, 38 (SP)
	LDC1      F22, 30 (SP)
	LDC1      F20, 28 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 50
}

#new:Function $Function_8024053C
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	BEQ       A1, R0, .o18
	LW        A2, C (A0)
	SAW       R0, $???_802432D0
	.o18
	LIA       V1, $???_802432D0
	LW        V0, 0 (V1)
	BNEL      V0, R0, .o34
	SW        R0, 0 (V1)
	BEQ       R0, R0, .o48
	CLEAR     V0
	.o34
	LW        A1, 0 (A2)
	LAW       A2, $???_802432D4
	JAL       ~Func:set_variable
	RESERVED
	ADDIU     V0, R0, 2
	.o48
	LW        RA, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240590
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	SAW       V0, $???_802432D4
	ADDIU     V0, R0, 2
	LW        RA, 10 (SP)
	ADDIU     V1, R0, 1
	SAW       V1, $???_802432D0
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_802405C8
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	COPY      V1, V0
	BEQ       V1, R0, .o64
	CLEAR     A0
	LW        V0, 0 (V1)
	BEQL      V0, R0, .o50
	SLL       V0, A0, 2
	LIA       A1, $End[0]
	.o34
	ADDIU     V1, V1, 4
	ADDIU     A0, A0, 1
	SW        V0, 0 (A1)
	LW        V0, 0 (V1)
	BNE       V0, R0, .o34
	ADDIU     A1, A1, 4
	SLL       V0, A0, 2
	.o50
	STW       R0, V0 ($End[0])
	BEQ       R0, R0, .o8C
	NOP
	.o64
	LIA       V1, $End[0]
	COPY      A1, V1
	.o70
	ADDIU     V0, A0, 10
	SW        V0, 0 (V1)
	ADDIU     V1, V1, 4
	ADDIU     A0, A0, 1
	SLTI      V0, A0, 70
	BNE       V0, R0, .o70
	SW        R0, 1C0 (A1)
	.o8C
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
#new:Function $Function_80240664
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	COPY      V1, V0
	BEQ       V1, R0, .o64
	CLEAR     A0
	LW        V0, 0 (V1)
	BEQL      V0, R0, .o50
	SLL       V0, A0, 2
	LIA       A1, $End[1C8]
	.o34
	ADDIU     V1, V1, 4
	ADDIU     A0, A0, 1
	SW        V0, 0 (A1)
	LW        V0, 0 (V1)
	BNE       V0, R0, .o34
	ADDIU     A1, A1, 4
	SLL       V0, A0, 2
	.o50
	STW       R0, V0 ($End[1C8])
	BEQ       R0, R0, .o8C
	NOP
	.o64
	LIA       V1, $End[1C8]
	COPY      A1, V1
	.o70
	ADDIU     V0, A0, 80
	SW        V0, 0 (V1)
	ADDIU     V1, V1, 4
	ADDIU     A0, A0, 1
	SLTI      V0, A0, 5B
	BNE       V0, R0, .o70
	SW        R0, 16C (A1)
	.o8C
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
#new:Function $Function_80240700
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	LIA       S0, $???_802435F0
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LW        V0, 0 (S0)
	BNE       V0, R0, .o60
	COPY      S1, A0
	JAL       ~Func:heap_malloc
	ADDIU     A0, R0, 40
	SW        V0, 0 (S0)
	CLEAR     V1
	COPY      A1, V0
	COPY      A0, S1
	.o3C
	LW        V0, 84 (A0)
	ADDIU     A0, A0, 4
	ADDIU     V1, V1, 1
	SW        V0, 0 (A1)
	SLTI      V0, V1, 10
	BNE       V0, R0, .o3C
	ADDIU     A1, A1, 4
	BEQ       R0, R0, .o9C
	NOP
	.o60
	CLEAR     V1
	COPY      A1, V0
	COPY      A0, S1
	.o6C
	LW        V0, 0 (A1)
	ADDIU     A1, A1, 4
	ADDIU     V1, V1, 1
	SW        V0, 84 (A0)
	SLTI      V0, V1, 10
	BNE       V0, R0, .o6C
	ADDIU     A0, A0, 4
	LIA       S0, $???_802435F0
	JAL       ~Func:heap_free
	LW        A0, 0 (S0)
	SW        R0, 0 (S0)
	.o9C
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_802407B4
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LW        V0, C (S0)
	LW        S1, 0 (V0)
	JAL       ~Func:get_variable
	COPY      A1, S1
	LIO       V1, FFF0FFFF
	COPY      A0, S0
	AND       V0, V0, V1
	SLL       V0, V0, 5
	LTW       A2, V0 (800878E0)
	JAL       ~Func:set_variable
	COPY      A1, S1
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80240818
{
	ADDIU     V0, R0, 1
	SAW       V0, 80151310
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_8024082C
{
	SAW       R0, 80151310
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_8024083C
{
	ADDIU     SP, SP, FFB8
	SW        S1, 24 (SP)
	COPY      S1, A0
	LUI       A1, F840
	SW        RA, 44 (SP)
	SW        S8, 40 (SP)
	SW        S7, 3C (SP)
	SW        S6, 38 (SP)
	SW        S5, 34 (SP)
	SW        S4, 30 (SP)
	SW        S3, 2C (SP)
	SW        S2, 28 (SP)
	SW        S0, 20 (SP)
	LW        S8, 148 (S1)
	JAL       ~Func:get_variable
	ORI       A1, A1, 6268
	COPY      S0, V0
	COPY      A0, S1
	LIO       A1, *Flag_NPC_41
	JAL       ~Func:get_variable
	RESERVED
	COPY      S7, V0
	COPY      A0, S1
	LIO       A1, *Byte_NPC_04
	JAL       ~Func:get_variable
	RESERVED
	COPY      S6, V0
	COPY      A0, S1
	LIO       A1, *Byte_NPC_05
	JAL       ~Func:get_variable
	RESERVED
	COPY      S5, V0
	LBU       S3, 6D (S8)
	ANDI      V0, S6, FFFF
	SH        S3, 10 (SP)
	LBU       S2, 6E (S8)
	LBU       A3, 6F (S8)
	ANDI      S4, S3, FFFF
	BEQ       S4, V0, .oA8
	SH        A3, 1E (SP)
	CLEAR     S7
	COPY      S0, S7
	.oA8
	ANDI      V0, S0, FFFF
	BNE       V0, R0, .o108
	COPY      A0, S1
	JAL       ~Func:rand_int
	ADDIU     A0, R0, 64
	SLTI      V0, V0, 1E
	BEQ       V0, R0, .o108
	COPY      A0, S1
	JAL       ~Func:rand_int
	ADDIU     A0, S2, FFFF
	COPY      S5, V0
	COPY      S6, S3
	COPY      A0, S1
	LIO       A1, *Byte_NPC_04
	JAL       ~Func:set_variable
	COPY      A2, S4
	COPY      A0, S1
	LIO       A1, *Byte_NPC_05
	JAL       ~Func:set_variable
	ANDI      A2, S5, FFFF
	ADDIU     S0, R0, 1
	COPY      A0, S1
	.o108
	LIO       A1, *Flag_NPC_40
	JAL       ~Func:set_variable
	ANDI      A2, S0, FFFF
	COPY      A0, S1
	LIO       A1, *Flag_NPC_41
	JAL       ~Func:set_variable
	ANDI      A2, S7, FFFF
	CLEAR     A0
	LIO       A1, *CompletedQuizzes
	JAL       ~Func:get_variable
	RESERVED
	CLEAR     A0
	LIO       A1, *StoryProgress
	JAL       ~Func:get_variable
	COPY      S0, V0
	COPY      A1, V0
	CLEAR     V1
	LIA       A2, $QuizRequirements
	COPY      A0, A2
	.o164
	LW        V0, 0 (A0)
	SLT       V0, A1, V0
	BNE       V0, R0, .o188
	SLL       V0, V1, 3
	ADDIU     V1, V1, 1
	SLTI      V0, V1, 8
	BNE       V0, R0, .o164
	ADDIU     A0, A0, 8
	SLL       V0, V1, 3
	.o188
	ADDU      V0, V0, A2
	LW        V0, 4 (V0)
	LHU       V1, 10 (SP)
	SLT       A0, S0, V0
	ANDI      V0, S6, FFFF
	BNE       V1, V0, .o1C0
	ANDI      V0, S5, FFFF
	LHU       A3, 1E (SP)
	BNE       A3, V0, .o1C0
	ANDI      V0, S7, FFFF
	BNE       V0, R0, .o1C0
	NOP
	BNE       A0, R0, .o1DC
	ADDIU     V0, R0, 1
	.o1C0
	LAW       V0, 8007419C
	LB        V0, 75 (V0)
	BEQ       V0, R0, .o1E4
	NOP
	BEQ       A0, R0, .o1E4
	ADDIU     V0, R0, 1
	.o1DC
	BEQ       R0, R0, .o1F0
	SW        V0, 84 (S1)
	.o1E4
	JAL       ~Func:kill_enemy
	COPY      A0, S8
	SW        R0, 84 (S1)
	.o1F0
	LW        RA, 44 (SP)
	LW        S8, 40 (SP)
	LW        S7, 3C (SP)
	LW        S6, 38 (SP)
	LW        S5, 34 (SP)
	LW        S4, 30 (SP)
	LW        S3, 2C (SP)
	LW        S2, 28 (SP)
	LW        S1, 24 (SP)
	LW        S0, 20 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 48
}

#new:Function $Function_80240A60
{
	ADDIU     SP, SP, FFE8
	SW        RA, 14 (SP)
	SW        S0, 10 (SP)
	JAL       ~Func:get_npc_unsafe
	LW        A0, 14C (A0)
	ADDIU     A0, R0, 8
	COPY      S0, V0
	LIA       V0, $Function_80240ACC
	JAL       ~Func:heap_malloc
	SW        V0, 8 (S0)
	COPY      V1, V0
	SW        V1, 20 (S0)
	SW        R0, 0 (V1)
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 1
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240AAC
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:get_npc_unsafe
	LW        A0, 14C (A0)
	LW        RA, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
#new:Function $Function_80240ACC
{
	ADDIU     SP, SP, FFE8
	LAH       V1, 8009A634
	LIA       A1, 800B1D80
	SW        RA, 10 (SP)
	SLL       V0, V1, 2
	ADDU      V0, V0, V1
	SLL       V0, V0, 2
	SUBU      V0, V0, V1
	SLL       V1, V0, 3
	ADDU      V0, V0, V1
	LW        V1, 20 (A0)
	SLL       V0, V0, 3
	LW        V1, 0 (V1)
	ANDI      V1, V1, 1
	BEQ       V1, R0, .o54
	ADDU      V0, V0, A1
	LWC1      F12, 6C (V0)
	JAL       ~Func:clamp_angle
	NEG.S     F12, F12
	.o54
	LW        RA, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240B2C
{
	ADDIU     SP, SP, FFD8
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 24 (SP)
	SW        S4, 20 (SP)
	SW        S3, 1C (SP)
	SW        S2, 18 (SP)
	BEQ       A1, R0, .oEC
	SW        S0, 10 (SP)
	JAL       8011D82C
	ADDIU     A0, R0, 1
	CLEAR     A0
	COPY      A1, A0
	COPY      A2, A0
	COPY      A3, A0
	COPY      S0, A0
	ADDIU     S4, R0, FFFC
	ADDIU     S3, R0, E
	LUI       S2, 80
	LAW       V1, 801512F0
	ADDIU     V0, R0, 1
	JAL       ~Func:set_background_color_blend
	SB        V0, 0 (V1)
	.o60
	JAL       ~Func:get_npc_by_index
	COPY      A0, S0
	COPY      A0, V0
	BEQL      A0, R0, .o9C
	ADDIU     S0, S0, 1
	LW        V0, 0 (A0)
	BEQL      V0, R0, .o9C
	ADDIU     S0, S0, 1
	LB        V1, A4 (A0)
	BEQ       V1, S4, .o9C
	ADDIU     S0, S0, 1
	BEQ       V1, S3, .o9C
	NOP
	OR        V0, V0, S2
	SW        V0, 0 (A0)
	.o9C
	SLTI      V0, S0, 40
	BNE       V0, R0, .o60
	NOP
	CLEAR     S0
	LUI       S2, 800
	.oB0
	JAL       ~Func:get_item_entity
	COPY      A0, S0
	COPY      V1, V0
	BEQ       V1, R0, .oDC
	ADDIU     S0, S0, 1
	LW        A0, 0 (V1)
	ANDI      V0, A0, 10
	BEQ       V0, R0, .oDC
	NOP
	OR        V0, A0, S2
	SW        V0, 0 (V1)
	.oDC
	SLTI      V0, S0, 100
	BNE       V0, R0, .oB0
	NOP
	SW        R0, 70 (S1)
	.oEC
	LW        V0, 70 (S1)
	ADDIU     V0, V0, 8
	SW        V0, 70 (S1)
	SLTI      V0, V0, 100
	BNE       V0, R0, .o10C
	CLEAR     A0
	ADDIU     V0, R0, FF
	SW        V0, 70 (S1)
	.o10C
	COPY      A1, A0
	LBU       A3, 73 (S1)
	JAL       ~Func:set_background_color_blend
	COPY      A2, A0
	LW        V0, 70 (S1)
	LW        RA, 24 (SP)
	LW        S4, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	XORI      V0, V0, FF
	SLTIU     V0, V0, 1
	SLL       V0, V0, 1
	JR        RA
	ADDIU     SP, SP, 28
}

#new:Function $Function_80240C78
{
	ADDIU     SP, SP, FFD8
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 20 (SP)
	SW        S3, 1C (SP)
	SW        S2, 18 (SP)
	BEQ       A1, R0, .o40
	SW        S1, 14 (SP)
	CLEAR     A0
	COPY      A1, A0
	COPY      A2, A0
	JAL       ~Func:set_background_color_blend
	ADDIU     A3, R0, FF
	ADDIU     V0, R0, FF
	SW        V0, 70 (S0)
	SW        R0, 74 (S0)
	.o40
	LW        V0, 70 (S0)
	ADDIU     V0, V0, FFF8
	BGEZ      V0, .o54
	SW        V0, 70 (S0)
	SW        R0, 70 (S0)
	.o54
	CLEAR     A0
	COPY      A1, A0
	LBU       A3, 73 (S0)
	JAL       ~Func:set_background_color_blend
	COPY      A2, A0
	LW        V0, 70 (S0)
	BNE       V0, R0, .o88
	NOP
	LW        V0, 74 (S0)
	BNE       V0, R0, .o88
	ADDIU     V0, R0, 1
	BEQ       R0, R0, .o154
	SW        V0, 74 (S0)
	.o88
	LW        V1, 74 (S0)
	ADDIU     V0, R0, 1
	BNE       V1, V0, .o158
	CLEAR     V0
	JAL       8011D82C
	CLEAR     A0
	CLEAR     S0
	ADDIU     S3, R0, FFFC
	ADDIU     S2, R0, E
	LUI       S1, FF7F
	LAW       V0, 801512F0
	ORI       S1, S1, FFFF
	SB        R0, 0 (V0)
	.oC0
	JAL       ~Func:get_npc_by_index
	COPY      A0, S0
	COPY      A0, V0
	BEQL      A0, R0, .oFC
	ADDIU     S0, S0, 1
	LW        V0, 0 (A0)
	BEQL      V0, R0, .oFC
	ADDIU     S0, S0, 1
	LB        V1, A4 (A0)
	BEQ       V1, S3, .oFC
	ADDIU     S0, S0, 1
	BEQ       V1, S2, .oFC
	NOP
	AND       V0, V0, S1
	SW        V0, 0 (A0)
	.oFC
	SLTI      V0, S0, 40
	BNE       V0, R0, .oC0
	NOP
	CLEAR     S0
	LIO       S1, F7FFFFFF
	.o114
	JAL       ~Func:get_item_entity
	COPY      A0, S0
	COPY      V1, V0
	BEQ       V1, R0, .o140
	ADDIU     S0, S0, 1
	LW        A0, 0 (V1)
	ANDI      V0, A0, 10
	BEQ       V0, R0, .o140
	NOP
	AND       V0, A0, S1
	SW        V0, 0 (V1)
	.o140
	SLTI      V0, S0, 100
	BNE       V0, R0, .o114
	ADDIU     V0, R0, 2
	BEQ       R0, R0, .o158
	NOP
	.o154
	CLEAR     V0
	.o158
	LW        RA, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 28
}

#new:Function $Function_80240DEC
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	LIA       S0, 8010F290
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LHU       V1, 2C0 (S0)
	SLTIU     V0, V1, 3E7
	BEQ       V0, R0, .o30
	COPY      S1, A0
	ADDIU     V0, V1, 1
	SH        V0, 2C0 (S0)
	.o30
	LIO       A1, *CompletedQuizzes
	JAL       ~Func:get_variable
	CLEAR     A0
	LTBU      V1, V0 ($QuizAnswers)
	LW        V0, 84 (S1)
	BNEL      V0, V1, .o6C
	SW        R0, 84 (S1)
	ADDIU     V0, R0, 1
	SW        V0, 84 (S1)
	LHU       V0, 2C2 (S0)
	ADDIU     V0, V0, 1
	SH        V0, 2C2 (S0)
	.o6C
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80240E70
{
	ADDIU     SP, SP, FFC8
	SW        S1, 1C (SP)
	SW        RA, 20 (SP)
	SW        S0, 18 (SP)
	SDC1      F22, 30 (SP)
	SDC1      F20, 28 (SP)
	BEQ       A1, R0, .o19C
	COPY      S1, A0
	LIO       A1, *Array[1]
	JAL       ~Func:get_variable
	RESERVED
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F22
	NOP
	CVT.S.W   F22, F22
	JAL       ~Func:get_variable
	ORI       A1, A1, D482
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F20
	NOP
	CVT.S.W   F20, F20
	JAL       ~Func:get_variable
	ORI       A1, A1, D483
	MTC1      V0, F2
	NOP
	CVT.S.W   F2, F2
	MFC1      A1, F22
	MFC1      A2, F20
	MFC1      A3, F2
	JAL       800715D0
	CLEAR     A0
	COPY      A0, S1
	LIO       A1, *Array[1]
	LIA       S0, $End[358]
	JAL       ~Func:get_variable
	SW        V0, 0 (S0)
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F22
	NOP
	CVT.S.W   F22, F22
	JAL       ~Func:get_variable
	ORI       A1, A1, D482
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F20
	NOP
	CVT.S.W   F20, F20
	JAL       ~Func:get_variable
	ORI       A1, A1, D483
	MTC1      V0, F2
	NOP
	CVT.S.W   F2, F2
	MFC1      A1, F22
	MFC1      A2, F20
	MFC1      A3, F2
	JAL       80071810
	CLEAR     A0
	COPY      A0, S1
	LUI       A1, F4AC
	SAW       V0, $End[35C]
	JAL       ~Func:get_variable
	ORI       A1, A1, D481
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F22
	NOP
	CVT.S.W   F22, F22
	JAL       ~Func:get_variable
	ORI       A1, A1, D482
	COPY      A0, S1
	LUI       A1, F4AC
	MTC1      V0, F20
	NOP
	CVT.S.W   F20, F20
	JAL       ~Func:get_variable
	ORI       A1, A1, D483
	MTC1      V0, F2
	NOP
	CVT.S.W   F2, F2
	MFC1      A1, F22
	MFC1      A2, F20
	LIF       F0, 1.0
	MFC1      A3, F2
	CLEAR     A0
	SW        R0, 14 (SP)
	JAL       80072890
	SWC1      F0, 10 (SP)
	LW        V1, 0 (S0)
	LW        A0, C (V1)
	SAW       V0, $End[360]
	SW        R0, 18 (A0)
	SW        R0, 20 (A0)
	SW        R0, 24 (A0)
	SW        R0, 28 (A0)
	SW        R0, 1C (A0)
	.o19C
	LAW       V0, $End[358]
	LW        A0, C (V0)
	LW        V0, 20 (A0)
	LW        V1, 28 (A0)
	ADDIU     V0, V0, A
	SW        V0, 20 (A0)
	LW        V0, 24 (A0)
	ADDIU     V1, V1, A
	SW        V1, 28 (A0)
	LW        V1, 18 (A0)
	ADDIU     V0, V0, A
	SW        V0, 24 (A0)
	LW        V0, 1C (A0)
	ADDIU     V1, V1, A
	SW        V1, 18 (A0)
	SLTI      V1, V1, FF
	ADDIU     V0, V0, A
	SW        V0, 1C (A0)
	BNE       V1, R0, .o1FC
	CLEAR     V0
	ADDIU     V0, R0, FF
	SW        V0, 18 (A0)
	ADDIU     V0, R0, 2
	.o1FC
	LW        RA, 20 (SP)
	LW        S1, 1C (SP)
	LW        S0, 18 (SP)
	LDC1      F22, 30 (SP)
	LDC1      F20, 28 (SP)
	JR        RA
	ADDIU     SP, SP, 38
}

#new:Function $Function_80241088
{
	ADDIU     SP, SP, FFE8
	BEQ       A1, R0, .o34
	SW        RA, 10 (SP)
	LAW       V1, $End[35C]
	LW        V0, 0 (V1)
	LAW       A0, $End[360]
	ORI       V0, V0, 10
	SW        V0, 0 (V1)
	LW        V0, 0 (A0)
	ORI       V0, V0, 10
	SW        V0, 0 (A0)
	.o34
	LAW       A0, $End[358]
	LW        A1, C (A0)
	LW        V0, 18 (A1)
	LW        V1, 20 (A1)
	ADDIU     V0, V0, FFF6
	SW        V0, 18 (A1)
	LW        V0, 24 (A1)
	ADDIU     V1, V1, FFF6
	SW        V1, 20 (A1)
	LW        V1, 28 (A1)
	ADDIU     V0, V0, FFF6
	SW        V0, 24 (A1)
	LW        V0, 1C (A1)
	ADDIU     V1, V1, FFF6
	SW        V1, 28 (A1)
	LW        V1, 18 (A1)
	ADDIU     V0, V0, FFF6
	BLEZ      V1, .o8C
	SW        V0, 1C (A1)
	BEQ       R0, R0, .oA8
	CLEAR     V0
	.o8C
	JAL       ~Func:remove_effect
	SW        R0, 18 (A1)
	LAW       A0, $End[338]
	JAL       801235C0
	NOP
	ADDIU     V0, R0, 2
	.oA8
	LW        RA, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_8024113C
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	LAW       V1, $End[358]
	LW        V1, C (V1)
	SW        V0, 34 (V1)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241170
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	COPY      A0, V0
	LAW       V0, $End[358]
	ADDIU     V1, R0, 1
	LW        A1, C (V0)
	BEQ       A0, V1, .o60
	SLTI      V0, A0, 2
	BEQ       V0, R0, .o48
	ADDIU     V0, R0, 2
	BEQ       A0, R0, .o58
	ADDIU     V0, R0, C0
	BEQ       R0, R0, .o70
	SW        R0, 38 (A1)
	.o48
	BEQ       A0, V0, .o6C
	ADDIU     V0, R0, 40
	BEQ       R0, R0, .o70
	SW        R0, 38 (A1)
	.o58
	BEQ       R0, R0, .o70
	SW        V0, 38 (A1)
	.o60
	ADDIU     V0, R0, 80
	BEQ       R0, R0, .o70
	SW        V0, 38 (A1)
	.o6C
	SW        V0, 38 (A1)
	.o70
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_802411F0
{
	LAW       V0, $End[360]
	LW        V0, C (V0)
	SW        R0, 1C (V0)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_80241208
{
	LAW       V0, $End[360]
	LW        V1, C (V0)
	ADDIU     V0, R0, 1
	SW        V0, 1C (V1)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_80241224
{
	LAW       V0, $End[360]
	LW        V1, C (V0)
	ADDIU     V0, R0, 2
	JR        RA
	SW        V0, 1C (V1)
}

#new:Function $Function_8024123C
{
	ADDIU     SP, SP, FFE8
	LAW       V0, 8007419C
	LUI       A1, FE36
	SW        RA, 10 (SP)
	LB        A2, 75 (V0)
	JAL       ~Func:set_variable
	ORI       A1, A1, 3C80
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_8024126C
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_float_variable
	COPY      S0, V0
	ADDIU     V0, R0, 2
	SLLV      V1, S0, V0
	ADDU      V1, V1, S0
	SLLV      V1, V1, V0
	SUBU      V1, V1, S0
	SLL       A0, V1, 3
	ADDU      V1, V1, A0
	SLL       V1, V1, 3
	STF       F0, V1 (800B1D98)
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_802412E0
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	SLL       V1, V0, 2
	ADDU      V1, V1, V0
	SLL       V1, V1, 2
	SUBU      V1, V1, V0
	SLL       V0, V1, 3
	ADDU      V1, V1, V0
	SLL       V1, V1, 3
	LTF       F2, V1 (800B1D98)
	LIF       F0, 1024.0
	NOP
	MUL.S     F2, F2, F0
	NOP
	LIO       AT, CD5B5858
	MTC1      AT, F0
	NOP
	ADD.S     F2, F2, F0
	LW        A1, 0 (S0)
	TRUNC.W.S F4, F2
	MFC1      A2, F4
	JAL       ~Func:set_variable
	COPY      A0, S1
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80241380
{
	ADDIU     SP, SP, FFB8
	SW        S2, 18 (SP)
	COPY      S2, A0
	SW        RA, 30 (SP)
	SW        S7, 2C (SP)
	SW        S6, 28 (SP)
	SW        S5, 24 (SP)
	SW        S4, 20 (SP)
	SW        S3, 1C (SP)
	SW        S1, 14 (SP)
	SW        S0, 10 (SP)
	SDC1      F22, 40 (SP)
	SDC1      F20, 38 (SP)
	LW        S0, C (S2)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S2
	JAL       ~Func:get_variable
	COPY      S7, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S2
	JAL       ~Func:get_variable
	COPY      S6, V0
	COPY      A0, S2
	LIO       A1, *Array[1]
	LAW       A2, 80077410
	LW        S4, 0 (S0)
	SLL       V1, A2, 2
	ADDU      V1, V1, A2
	SLL       V1, V1, 2
	SUBU      V1, V1, A2
	SLL       A2, V1, 3
	ADDU      V1, V1, A2
	SLL       V1, V1, 3
	LTF       F0, V1 (800B1DEC)
	LW        S5, 4 (S0)
	TRUNC.W.S F4, F0
	MFC1      S1, F4
	JAL       ~Func:get_variable
	COPY      S3, V0
	MTC1      S1, F22
	NOP
	CVT.S.W   F22, F22
	MOV.S     F12, F22
	JAL       ~Func:cos_deg
	COPY      S0, V0
	MTC1      S3, F20
	NOP
	CVT.S.W   F20, F20
	MUL.S     F0, F20, F0
	NOP
	COPY      A0, S2
	MTC1      S0, F2
	NOP
	CVT.S.W   F2, F2
	SUB.S     F2, F2, F0
	LUI       A1, F4AC
	TRUNC.W.S F4, F2
	MFC1      S0, F4
	JAL       ~Func:get_variable
	ORI       A1, A1, D483
	MOV.S     F12, F22
	JAL       ~Func:sin_deg
	COPY      S1, V0
	MUL.S     F20, F20, F0
	NOP
	COPY      A0, S2
	MTC1      S1, F0
	NOP
	CVT.S.W   F0, F0
	SUB.S     F0, F0, F20
	COPY      A1, S4
	SUBU      A2, S0, S7
	TRUNC.W.S F4, F0
	MFC1      S0, F4
	JAL       ~Func:set_variable
	SUBU      S0, S0, S6
	COPY      A0, S2
	COPY      A1, S5
	JAL       ~Func:set_variable
	COPY      A2, S0
	LW        RA, 30 (SP)
	LW        S7, 2C (SP)
	LW        S6, 28 (SP)
	LW        S5, 24 (SP)
	LW        S4, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F22, 40 (SP)
	LDC1      F20, 38 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 48
}

#new:Function $Function_8024151C
{
	LIA       V1, 8010EFC8
	BEQ       A1, R0, .o14
	ADDIU     V0, R0, 3C
	SW        V0, 70 (A0)
	.o14
	LWC1      F2, 80 (V1)
	LIF       F0, 30.0
	NOP
	ADD.S     F0, F2, F0
	LIF       F2, 360.0
	NOP
	C.LE.S    F2, F0
	NOP
	BC1F      .o4C
	SWC1      F0, 80 (V1)
	SUB.S     F0, F0, F2
	SWC1      F0, 80 (V1)
	.o4C
	LW        V0, 70 (A0)
	ADDIU     V0, V0, FFFF
	SW        V0, 70 (A0)
	SRA       V0, V0, 1F
	JR        RA
	ANDI      V0, V0, 2
}

#new:Function $Function_80241580
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        S0, 10 (SP)
	COPY      S0, A1
	SW        RA, 18 (SP)
	JAL       ~Func:get_npc_unsafe
	ADDIU     A0, R0, FFFC
	BEQ       S0, R0, .o30
	COPY      V1, V0
	ADDIU     V0, R0, 3C
	SW        V0, 70 (S1)
	.o30
	LWC1      F2, C (V1)
	LIF       F0, 30.0
	NOP
	ADD.S     F0, F2, F0
	LIF       F2, 360.0
	NOP
	C.LE.S    F2, F0
	NOP
	BC1F      .o68
	SWC1      F0, C (V1)
	SUB.S     F0, F0, F2
	SWC1      F0, C (V1)
	.o68
	LW        V1, 70 (S1)
	ADDIU     V1, V1, FFFF
	SRA       V0, V1, 1F
	SW        V1, 70 (S1)
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ANDI      V0, V0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80241610
{
	ADDIU     SP, SP, FFD8
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        S0, 10 (SP)
	COPY      S0, A1
	SW        RA, 1C (SP)
	SW        S2, 18 (SP)
	SDC1      F20, 20 (SP)
	JAL       ~Func:get_npc_unsafe
	ADDIU     A0, R0, FFFC
	BEQ       S0, R0, .o88
	COPY      S2, V0
	COPY      A0, S1
	LIO       A1, *Var[0]
	JAL       ~Func:get_float_variable
	RESERVED
	COPY      A0, S1
	LUI       A1, FE36
	LIF       F20, 60.0
	ORI       A1, A1, 3C85
	DIV.S     F0, F0, F20
	JAL       ~Func:get_float_variable
	SWC1      F0, 74 (S1)
	COPY      A0, S1
	LIO       A1, *Var[1]
	DIV.S     F0, F0, F20
	JAL       ~Func:get_float_variable
	SWC1      F0, 78 (S1)
	DIV.S     F0, F0, F20
	ADDIU     V0, R0, 3C
	SWC1      F0, 7C (S1)
	SW        V0, 70 (S1)
	.o88
	LWC1      F0, 38 (S2)
	LWC1      F2, 74 (S1)
	ADD.S     F0, F0, F2
	SWC1      F0, 38 (S2)
	LWC1      F0, 3C (S2)
	LWC1      F2, 78 (S1)
	ADD.S     F0, F0, F2
	SWC1      F0, 3C (S2)
	LWC1      F0, 40 (S2)
	LWC1      F2, 7C (S1)
	ADD.S     F0, F0, F2
	SWC1      F0, 40 (S2)
	LW        V1, 70 (S1)
	ADDIU     V1, V1, FFFF
	SLTIU     V0, V1, 1
	SW        V1, 70 (S1)
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F20, 20 (SP)
	SLL       V0, V0, 1
	JR        RA
	ADDIU     SP, SP, 28
}

% Origin: HEURISTIC
#new:Function $Function_802416F8
{
	ADDIU     SP, SP, FFE8
	LAW       A1, $End[350]
	SW        RA, 10 (SP)
	JAL       ~Func:get_variable
	CLEAR     A0
	COPY      V1, V0
	ADDIU     V0, R0, 1
	BNE       V1, V0, .o3C
	ADDIU     V0, R0, 2
	MTC1      R0, F0
	NOP
	MFC1      A1, F0
	BEQ       R0, R0, .o54
	CLEAR     A0
	.o3C
	BNE       V1, V0, .o60
	ADDIU     A0, R0, 1
	MTC1      R0, F0
	NOP
	MFC1      A1, F0
	NOP
	.o54
	COPY      A2, A1
	JAL       80071690
	COPY      A3, A1
	.o60
	LW        RA, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241764
{
	ADDIU     SP, SP, FFE8
	LIA       A1, $Function_802416F8
	SW        RA, 10 (SP)
	JAL       8012323C
	CLEAR     A0
	LW        RA, 10 (SP)
	SAW       V0, $End[338]
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241794
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	SW        V0, 8C (S1)
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A0, S1
	SW        V0, 90 (S1)
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A0, S1
	SW        V0, 94 (S1)
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A0, S1
	SW        V0, 98 (S1)
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A0, S1
	SW        V0, 9C (S1)
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A0, S1
	SW        V0, A0 (S1)
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A0, S1
	SW        V0, A4 (S1)
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A0, S1
	SW        V0, A8 (S1)
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A0, S1
	SW        V0, AC (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	COPY      A0, S1
	SW        V0, B0 (S1)
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80241884
{
	ADDIU     SP, SP, FFB8
	SW        S1, 1C (SP)
	COPY      S1, A0
	SW        RA, 34 (SP)
	SW        S6, 30 (SP)
	SW        S5, 2C (SP)
	SW        S4, 28 (SP)
	SW        S3, 24 (SP)
	SW        S2, 20 (SP)
	SW        S0, 18 (SP)
	SDC1      F22, 40 (SP)
	SDC1      F20, 38 (SP)
	LW        S0, C (S1)
	LW        S6, 0 (S0)
	ADDIU     S0, S0, 4
	JAL       ~Func:get_variable
	COPY      A1, S6
	MTC1      V0, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 10 (SP)
	LW        S4, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      A1, S4
	COPY      A0, S1
	LW        S5, 0 (S0)
	MTC1      V0, F22
	NOP
	CVT.S.W   F22, F22
	JAL       ~Func:get_variable
	COPY      A1, S5
	ADDIU     A0, R0, FFFC
	MTC1      V0, F0
	NOP
	CVT.S.W   F0, F0
	JAL       ~Func:get_npc_unsafe
	SWC1      F0, 14 (SP)
	LAW       A0, 80077410
	LIF       F12, 180.0
	SLL       V1, A0, 2
	ADDU      V1, V1, A0
	SLL       V1, V1, 2
	SUBU      V1, V1, A0
	SLL       A0, V1, 3
	ADDU      V1, V1, A0
	SLL       V1, V1, 3
	LTF       F0, V1 (800B1DEC)
	ADD.S     F12, F0, F12
	JAL       ~Func:clamp_angle
	COPY      S3, V0
	ADDIU     S0, SP, 10
	COPY      A0, S0
	ADDIU     S2, SP, 14
	COPY      A1, S2
	LUI       A2, 4170
	LW        A3, C (S3)
	JAL       ~Func:add_vec2D_polar
	MOV.S     F20, F0
	COPY      A0, S0
	LUI       A2, 4120
	MFC1      A3, F20
	JAL       ~Func:add_vec2D_polar
	COPY      A1, S2
	COPY      A0, S1
	LWC1      F0, 10 (SP)
	TRUNC.W.S F2, F0
	MFC1      A2, F2
	JAL       ~Func:set_variable
	COPY      A1, S6
	COPY      A0, S1
	TRUNC.W.S F2, F22
	MFC1      A2, F2
	JAL       ~Func:set_variable
	COPY      A1, S4
	COPY      A0, S1
	LWC1      F0, 14 (SP)
	TRUNC.W.S F2, F0
	MFC1      A2, F2
	JAL       ~Func:set_variable
	COPY      A1, S5
	LW        RA, 34 (SP)
	LW        S6, 30 (SP)
	LW        S5, 2C (SP)
	LW        S4, 28 (SP)
	LW        S3, 24 (SP)
	LW        S2, 20 (SP)
	LW        S1, 1C (SP)
	LW        S0, 18 (SP)
	LDC1      F22, 40 (SP)
	LDC1      F20, 38 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 48
}

#new:Function $Function_80241A10
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 14 (SP)
	JAL       ~Func:get_npc_unsafe
	LW        A0, 8C (S0)
	COPY      A1, V0
	LW        A0, 94 (S0)
	LW        V1, 28 (A1)
	SW        A0, 28 (A1)
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	SAW       V1, $End[364]
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241A54
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:get_npc_unsafe
	LW        A0, 8C (A0)
	LAW       V1, $End[364]
	SW        V1, 28 (V0)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80241A80
{
	ADDIU     SP, SP, FFE0
	SW        S2, 18 (SP)
	COPY      S2, A0
	SW        RA, 1C (SP)
	SW        S1, 14 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S2)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	JAL       ~Func:get_item_entity
	COPY      A0, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      S1, V0
	LWC1      F0, 8 (S1)
	TRUNC.W.S F2, F0
	MFC1      A2, F2
	JAL       ~Func:set_variable
	COPY      A0, S2
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	LWC1      F0, C (S1)
	TRUNC.W.S F2, F0
	MFC1      A2, F2
	JAL       ~Func:set_variable
	COPY      A0, S2
	LWC1      F0, 10 (S1)
	LW        A1, 0 (S0)
	TRUNC.W.S F2, F0
	MFC1      A2, F2
	JAL       ~Func:set_variable
	COPY      A0, S2
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80241B20
{
	ADDIU     SP, SP, FFB0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 20 (SP)
	SW        S3, 1C (SP)
	SW        S2, 18 (SP)
	SW        S0, 10 (SP)
	SDC1      F28, 48 (SP)
	SDC1      F26, 40 (SP)
	SDC1      F24, 38 (SP)
	SDC1      F22, 30 (SP)
	SDC1      F20, 28 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S2, V0
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	COPY      S3, V0
	LIA       S0, 800B1D80
	LWC1      F12, 6C (S0)
	LIF       F22, 270.0
	NOP
	ADD.S     F12, F12, F22
	MTC1      V0, F24
	NOP
	CVT.S.W   F24, F24
	LIF       F26, 100.0
	JAL       ~Func:sin_deg
	ADD.S     F12, F12, F24
	MUL.S     F0, F0, F26
	NOP
	MTC1      S2, F20
	NOP
	CVT.S.W   F20, F20
	ADD.S     F0, F20, F0
	TRUNC.W.S F2, F0
	SWC1      F2, 84 (S1)
	LWC1      F12, 6C (S0)
	ADD.S     F12, F12, F22
	JAL       ~Func:cos_deg
	ADD.S     F12, F12, F24
	MUL.S     F0, F0, F26
	NOP
	MTC1      S3, F22
	NOP
	CVT.S.W   F22, F22
	SUB.S     F0, F22, F0
	LIF       F28, 90.0
	TRUNC.W.S F2, F0
	SWC1      F2, 88 (S1)
	LWC1      F12, 6C (S0)
	ADD.S     F12, F12, F28
	JAL       ~Func:sin_deg
	ADD.S     F12, F12, F24
	MUL.S     F0, F0, F26
	NOP
	ADD.S     F20, F20, F0
	TRUNC.W.S F2, F20
	SWC1      F2, 8C (S1)
	LWC1      F12, 6C (S0)
	ADD.S     F12, F12, F28
	JAL       ~Func:cos_deg
	ADD.S     F12, F12, F24
	MUL.S     F0, F0, F26
	NOP
	SUB.S     F22, F22, F0
	TRUNC.W.S F2, F22
	SWC1      F2, 90 (S1)
	LW        RA, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F28, 48 (SP)
	LDC1      F26, 40 (SP)
	LDC1      F24, 38 (SP)
	LDC1      F22, 30 (SP)
	LDC1      F20, 28 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 50
}

% Origin: HEURISTIC
#new:Function $Function_80241C90
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	LIA       S0, $???_8024D8F0
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LW        V0, 0 (S0)
	BNE       V0, R0, .o60
	COPY      S1, A0
	JAL       ~Func:heap_malloc
	ADDIU     A0, R0, 40
	SW        V0, 0 (S0)
	CLEAR     V1
	COPY      A1, V0
	COPY      A0, S1
	.o3C
	LW        V0, 84 (A0)
	ADDIU     A0, A0, 4
	ADDIU     V1, V1, 1
	SW        V0, 0 (A1)
	SLTI      V0, V1, 10
	BNE       V0, R0, .o3C
	ADDIU     A1, A1, 4
	BEQ       R0, R0, .o9C
	NOP
	.o60
	CLEAR     V1
	COPY      A1, V0
	COPY      A0, S1
	.o6C
	LW        V0, 0 (A1)
	ADDIU     A1, A1, 4
	ADDIU     V1, V1, 1
	SW        V0, 84 (A0)
	SLTI      V0, V1, 10
	BNE       V0, R0, .o6C
	ADDIU     A0, A0, 4
	LIA       S0, $???_8024D8F0
	JAL       ~Func:heap_free
	LW        A0, 0 (S0)
	SW        R0, 0 (S0)
	.o9C
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_80241D44
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LW        V0, C (S0)
	LW        S1, 0 (V0)
	JAL       ~Func:get_variable
	COPY      A1, S1
	LIO       V1, FFF0FFFF
	COPY      A0, S0
	AND       V0, V0, V1
	SLL       V0, V0, 5
	LTW       A2, V0 (800878E0)
	JAL       ~Func:set_variable
	COPY      A1, S1
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_80241DA8
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 1C (SP)
	SW        S2, 18 (SP)
	SW        S0, 10 (SP)
	LW        A0, 84 (S1)
	JAL       ~Func:get_item_entity
	COPY      S0, A1
	BEQ       S0, R0, .o3C
	COPY      S2, V0
	LWC1      F0, C (S2)
	SW        R0, 74 (S1)
	SW        R0, 7C (S1)
	SWC1      F0, 78 (S1)
	.o3C
	LW        V1, 74 (S1)
	BEQ       V1, R0, .o58
	ADDIU     V0, R0, 1
	BEQ       V1, V0, .oDC
	NOP
	BEQ       R0, R0, .o134
	NOP
	.o58
	LIO       AT, 3FC90FD8
	MTC1      AT, F0
	LWC1      F12, 7C (S1)
	CVT.S.W   F12, F12
	MUL.S     F12, F12, F0
	NOP
	LIF       F0, 30.0
	JAL       ~Func:cos_rad
	DIV.S     F12, F12, F0
	LIF       F2, 1.0
	NOP
	SUB.S     F2, F2, F0
	LIF       F0, 20.0
	NOP
	MUL.S     F2, F2, F0
	NOP
	LWC1      F0, 78 (S1)
	ADD.S     F0, F0, F2
	SWC1      F0, C (S2)
	LW        V1, 7C (S1)
	ADDIU     V0, R0, 1E
	BNE       V1, V0, .oD4
	ADDIU     V0, V1, 1
	ADDIU     V0, R0, 1
	SW        V0, 74 (S1)
	BEQ       R0, R0, .o134
	SW        R0, 7C (S1)
	.oD4
	BEQ       R0, R0, .o134
	SW        V0, 7C (S1)
	.oDC
	LWC1      F12, 7C (S1)
	JAL       ~Func:cos_deg
	CVT.S.W   F12, F12
	LIF       F2, 3.0
	NOP
	MUL.S     F0, F0, F2
	NOP
	LIF       F4, 17.0
	LWC1      F2, 78 (S1)
	ADD.S     F2, F2, F4
	ADD.S     F2, F2, F0
	SWC1      F2, C (S2)
	LW        V0, 7C (S1)
	ADDIU     V0, V0, 9
	MTC1      V0, F12
	NOP
	JAL       ~Func:clamp_angle
	CVT.S.W   F12, F12
	TRUNC.W.S F6, F0
	SWC1      F6, 7C (S1)
	.o134
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	CLEAR     V0
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_80241EF8
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 14 (SP)
	LW        V0, C (S0)
	JAL       ~Func:get_variable
	LW        A1, 0 (V0)
	SLL       V0, V0, 5
	SW        R0, 84 (S0)
	LTHU      V0, V0 (800878F8)
	ANDI      V0, V0, 40
	BEQ       V0, R0, .o40
	ADDIU     V0, R0, 1
	SW        V0, 84 (S0)
	.o40
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 80241F4C to 80241F50 (00001F4C to 00001F50)
00000000

#new:EntryList $EntryList
{
    ~Vec4f:Entry0 %  480.0    0.0    0.0  270.0
    ~Vec4f:Entry1 % -305.0    0.0 -180.0    0.0
}

#new:Header $Header
{
    [MainScript]  $Script_Main_EnterWalk
    [EntryList]   $EntryList
    [EntryCount]  00000002
    [Background]  80200000
    [MapTattle]   00190129
}

#new:Script $Script_80241FB0
{
    Switch  *StoryProgress
        Case  <  0000003F
            Call  SetMusicTrack ( 00000000 .Song:ShiverCity 00000000 00000008 )
        Case  <  00000043
            Call  SetMusicTrack ( 00000000 .Song:PenguinMystery 00000000 00000008 )
        Case  >=  00000043
            Call  SetMusicTrack ( 00000000 .Song:ShiverCity 00000000 00000008 )
    EndSwitch
    Return
    End
}

PADDING: 8024204C to 80242050 (0000204C to 00002050)
00000000

% Origin: HEURISTIC
#new:Script $Script_80242050
{
    SetGroup  00000000
    If  *Var[5]  ==  00000001
        If  *Var[6]  ==  00000001
            If  *Var[7]  ==  00000001
                If  *Var[8]  ==  00000001
                    Call  $Function_80240000 ( )
                    Return
                EndIf
            EndIf
        EndIf
    EndIf
    Call  $Function_80240124 ( )
    Return
    End
}

#new:Script $Script_ExitWalk_802420EC
{
    SetGroup  0000001B
    Call  UseExitHeading    ( 0000003C ~Entry:Entry0 )
    Exec  ExitWalk
    Call  GotoMap   ( $ASCII_8024DBB0 00000000 ) % sam_02
    Wait  100`
    Return
    End
}

#new:Script $Script_80242148
{
    Bind  $Script_ExitWalk_802420EC .Trigger:FloorAbove ~Collider:deilie 00000001 00000000
    Return
    End
}

#new:Script $Script_80242174
{
    Set   *AreaFlag[001]  .True
    Set   *AreaFlag[002]  .False
    Label  A
    If  *AreaFlag[001]  !=  *AreaFlag[002]
        If  *AreaFlag[001]  ==  .False
            Call  RemoveEffect  ( *Var[F] )
        Else
            Call  PlayEffect    ( ~FX:Snowfall 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        EndIf
        Set   *AreaFlag[002]  *AreaFlag[001]
    EndIf
    Wait  1`
    Goto  A
    Return
    End
}

#new:Script $Script_80242264
{
    Call  EnableGroup   ( ~Model:s_naisou .True )
    Call  PlaySoundAtCollider   ( ~Collider:tts .Sound:BasicDoorOpen 00000000 )
    Call  MakeLerp  ( 00000000 FFFFFFB0 0000000F .Easing:QuadraticIn )
    Loop
        Call  UpdateLerp ( )
        Call  RotateGroup   ( ~Model:s_doa *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Wait  20`
    Call  MakeLerp  ( FFFFFFB0 00000000 0000000F .Easing:QuadraticIn )
    Loop
        Call  UpdateLerp ( )
        Call  RotateGroup   ( ~Model:s_doa *Var[0] 00000000 00000001 00000000 )
        Wait  1`
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  PlaySoundAtCollider   ( ~Collider:tts .Sound:BasicDoorClose 00000000 )
    Call  EnableGroup   ( ~Model:s_naisou .False )
    Return
    End
}

#new:Script $Script_802423E8
{
    If  *StoryProgress  ==  00000041
        Call  SetNpcPos ( 00000004 FFFFFF36 00000000 00000114 )
        Loop
            Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
            Wait  1`
            If  *Var[0]  <  FFFFFFD8
                BreakLoop
            EndIf
        EndLoop
        Call  SetNpcFlagBits    ( 00000004 00000100 .True )
        Call  SetNpcAnimation   ( 00000004 00D10002 )
        Call  NpcMoveTo ( 00000004 FFFFFEF7 00000113 00000014 )
        Exec  $Script_80242264
        Wait  20`
        Call  NpcMoveTo ( 00000004 FFFFFEDE 0000009D 00000014 )
        Wait  20`
        Thread
            Call  NpcMoveTo ( 00000004 FFFFFF1C 0000005B 00000014 )
            Call  SetNpcAnimation   ( 00000004 00D10001 )
            Call  InterpNpcYaw      ( 00000004 0000010E 00000000 )
            Call  SetNpcFlagBits    ( 00000004 00000100 .False )
        EndThread
        Set   *StoryProgress  00000042
        Call  BindNpcInteract   ( 00000004 $Script_Interact_80247030 )
        ExecWait  $Script_802430E4
    EndIf
    Return
    End
}

#new:Script_Main $Script_Main_EnterWalk
{
    Set   *WorldMapLocation  .Location:ShiverCity
    Call  SetSpriteShading  ( FFFFFFFF )
    Call  SetCamPerspective ( .Cam:Default 00000003 00000019 00000010 00001000 )
    Call  SetCamBGColor     ( .Cam:Default 00000000 00000000 00000000 )
    Call  SetCamEnabled     ( .Cam:Default .True )
    Call  SetCamLeadPlayer  ( .Cam:Default .False )
    Switch  *StoryProgress
        Case  <  0000003F
            Call  MakeNpcs  ( 00000000 $NpcGroupList_8024A178 )
        Case  <  00000043
            Call  MakeNpcs  ( 00000000 $NpcGroupList_8024A1B4 )
        Case  >=  00000043
            Call  MakeNpcs  ( 00000000 $NpcGroupList_8024A1F0 )
    EndSwitch
    ExecWait  $Script_MakeEntities
    ExecWait  $Script_80241FB0
    Exec  $Script_80242174
    ExecWait  $Script_802431BC
    Call  ModifyColliderFlags   ( 00000003 ~Collider:o341 00000008 )
    Call  ModifyColliderFlags   ( 00000003 ~Collider:f_noki 00000008 )
    Call  ModifyColliderFlags   ( 00000003 ~Collider:m_noki 00000008 )
    Call  ModifyColliderFlags   ( 00000003 ~Collider:o398 00000008 )
    Call  ModifyColliderFlags   ( 00000003 ~Collider:o399 00000008 )
    Call  ModifyColliderFlags   ( 00000003 ~Collider:o402 00000008 )
    Call  ModifyColliderFlags   ( 00000003 ~Collider:o408 00000008 )
    Call  ModifyColliderFlags   ( 00000003 ~Collider:o409 00000008 )
    Call  ModifyColliderFlags   ( 00000003 ~Collider:deilie 00000008 )
    Set   *Var[0]  $Script_80242148
    Exec  EnterWalk
    Wait  1`
    Exec  $Script_802423E8
    Return
    End
}

#new:Script $Script_OpenDoor_802427F0
{
    Call  RotateModel   ( ~Model:o235 *Var[0] 00000000 FFFFFFFF 00000000 )
    Return
    End
}

#new:Script $Script_MoveWalls_80242820
{
    Call  RotateGroup   ( ~Model:s_mae *Var[0] 00000001 00000000 00000000 )
    If  *Var[0]  >  00000059
        Call  SetGroupEnabled   ( ~Model:s_mae 00000000 )
    EndIf
    If  *Var[0]  <  00000059
        Call  SetGroupEnabled   ( ~Model:s_mae 00000001 )
    EndIf
    Return
    End
}

#new:Script $Script_DropDoor_802428A8
{
    Call  RotateModel   ( ~Model:o235 *Var[0] 00000001 00000000 00000000 )
    Return
    End
}

#new:Script $Script_ToggleVis_802428D8
{
    Call  802D6340  ( 00000000 )
    Switch  *Var[0]
        Case  ==  00000000
            Set   *AreaFlag[004]  .True
            Set   *AreaFlag[001]  .False
            Call  SetGroupEnabled   ( ~Model:s_naisou 00000001 )
            If  *StoryProgress  >=  00000043
                Call  SetNpcPos     ( 00000000 FFFFFEED 00000000 FFFFFF38 )
                Call  InterpNpcYaw  ( 00000000 000000B4 00000000 )
                Call  SetNpcPos     ( 00000002 FFFFFED4 00000000 FFFFFFCE )
                Call  InterpNpcYaw  ( 00000002 00000000 00000000 )
            EndIf
        Case  ==  00000003
            Set   *AreaFlag[004]  .False
            Set   *AreaFlag[001]  .True
            Call  SetGroupEnabled   ( ~Model:s_naisou 00000000 )
    EndSwitch
    Return
    End
}

#new:Script $Script_OpenDoor_80242A0C
{
    Call  RotateModel   ( ~Model:o236 *Var[0] 00000000 FFFFFFFF 00000000 )
    Return
    End
}

#new:Script $Script_MoveWalls_80242A3C
{
    Call  RotateGroup   ( ~Model:s_yane *Var[0] 00000000 00000000 00000001 )
    Call  RotateGroup   ( ~Model:s_yoko *Var[0] 00000000 00000000 FFFFFFFF )
    If  *Var[0]  >  00000059
        Call  EnableGroup   ( ~Model:s_yoko .False )
    EndIf
    If  *Var[0]  <  00000059
        Call  EnableGroup   ( ~Model:s_yoko .True )
    EndIf
    Return
    End
}

#new:Script $Script_ToggleVis_80242AE4
{
    Call  802D6340  ( 00000000 )
    If  *StoryProgress  ==  00000042
        If  *AreaFlag[003]  ==  .True
            Set   *Var[0]  FFFFFFFF
            Return
        EndIf
    EndIf
    Switch  *Var[0]
        Case  ==  00000000
            If  *StoryProgress  ==  00000042
                Thread
                    Call  BindNpcInteract   ( 00000004 00000000 )
                    Call  SetNpcFlagBits    ( 00000004 00000100 .True )
                    Call  SetNpcFlagBits    ( 00000004 00000040 .True )
                    Call  SetNpcAnimation   ( 00000004 009A0002 )
                    Call  SetNpcSpeed       ( 00000004 *Fixed[1.5] )
                    Call  NpcMoveTo ( 00000004 FFFFFF04 FFFFFFC9 00000000 )
                    Call  SetNpcAnimation   ( 00000004 009A0001 )
                    Call  SetNpcFlagBits    ( 00000004 00000100 .False )
                    Call  BindNpcInteract   ( 00000004 $Script_Interact_80247030 )
                EndThread
            EndIf
        Case  ==  00000001
            If  *StoryProgress  ==  00000042
                Call  SetMusicTrack ( 00000000 .Song:PenguinWhodunit 00000001 00000008 )
            EndIf
            Set   *AreaFlag[003]  .True
        Case  ==  00000003
            If  *StoryProgress  ==  0000003F
                Exec  $Script_80241FB0
            EndIf
            Set   *AreaFlag[003]  .False
    EndSwitch
    Return
    End
}

#new:Script $Script_OpenDoor_80242CEC
{
    Call  RotateModel   ( ~Model:o253 *Var[0] FFFFFFFF 00000000 00000000 )
    Return
    End
}

#new:Script $Script_MoveWalls_80242D1C
{
    Call  RotateGroup   ( ~Model:f_ue *Var[0] 00000000 00000000 FFFFFFFF )
    Call  RotateGroup   ( ~Model:f_sita *Var[0] 00000000 00000000 00000001 )
    If  *Var[0]  >  00000059
        Call  SetGroupEnabled   ( ~Model:f_sita 00000000 )
    EndIf
    If  *Var[0]  <  00000059
        Call  SetGroupEnabled   ( ~Model:f_sita 00000001 )
    EndIf
    Return
    End
}

#new:Script $Script_ToggleVis_80242DC4
{
    Call  802D6340  ( 00000005 )
    Switch  *Var[0]
        Case  ==  00000000
            Set   *AreaFlag[001]  .False
            Call  SetGroupEnabled   ( ~Model:f_naiso 00000001 )
        Case  ==  00000001
        Case  ==  00000002
        Case  ==  00000003
            Set   *AreaFlag[001]  .True
            Call  SetGroupEnabled   ( ~Model:f_naiso 00000000 )
    EndSwitch
    Return
    End
}

#new:Script $Script_OpenDoor_80242E70
{
    Call  RotateModel   ( ~Model:o336 *Var[0] 00000000 FFFFFFFF 00000000 )
    Return
    End
}

#new:Script $Script_OpenDoor_80242EA0
{
    Call  RotateModel   ( ~Model:o402 *Var[0] FFFFFFFF 00000000 00000000 )
    Return
    End
}

#new:Script $Script_MoveWalls_80242ED0
{
    Call  RotateGroup   ( ~Model:m_ue *Var[0] 00000000 00000000 00000001 )
    Call  RotateGroup   ( ~Model:m_mae *Var[0] 00000000 00000000 FFFFFFFF )
    If  *Var[0]  >  00000059
        Call  SetGroupEnabled   ( ~Model:m_mae 00000000 )
    EndIf
    If  *Var[0]  <  00000059
        Call  SetGroupEnabled   ( ~Model:m_mae 00000001 )
    EndIf
    Return
    End
}

#new:Script $Script_ToggleVis_80242F78
{
    Call  802D6340  ( 00000000 )
    Switch  *Var[0]
        Case  ==  00000000
            Set   *AreaFlag[001]  .False
            Call  SetGroupEnabled   ( ~Model:m_naiso 00000001 )
        Case  ==  00000003
            Set   *AreaFlag[001]  .True
            Call  SetGroupEnabled   ( ~Model:m_naiso 00000000 )
    EndSwitch
    Return
    End
}

#new:Script $Script_ToggleVis_8024300C
{
    Call  802D6340  ( 00000005 )
    Switch  *Var[0]
        Case  ==  00000000
            Set   *AreaFlag[001]  .False
            Call  SetGroupEnabled   ( ~Model:m_naiso 00000001 )
        Case  ==  00000003
            Set   *AreaFlag[001]  .True
            Call  SetGroupEnabled   ( ~Model:m_naiso 00000000 )
    EndSwitch
    Return
    End
}

#new:Unknown $???_802430A0
{
    00000000 00000001 00000002 00000003 00000004 0000000D FFFFFFFF
}

#new:Unknown $???_802430BC
{
    00000000 00000002 00000003 00000004 FFFFFFFF
}

#new:NpcList $NpcList_802430D0
{
    00000004 FFFFFFFF
}

#new:NpcList $NpcList_802430D8
{
    00000004 00000008 FFFFFFFF
}

#new:Script $Script_802430E4
{
    Switch  *StoryProgress
        Case  <  0000003F
            Set   *Var[0]  $???_802430A0
        Case  <  00000043
            Set   *Var[0]  $???_802430A0
        Case  >=  00000043
            Set   *Var[0]  $???_802430BC
    EndSwitch
    Call  MakeDoorAdvanced  ( 00000002 $Script_OpenDoor_802427F0 $Script_MoveWalls_80242820 $Script_DropDoor_802428A8 $Script_ToggleVis_802428D8 ~Collider:tts ~Collider:o352 ~Model:son *Var[0] )
    Call  MakeDoorAdvanced  ( 00000002 $Script_OpenDoor_80242A0C $Script_MoveWalls_80242A3C 00000000 $Script_ToggleVis_80242AE4 ~Collider:ttsn ~Collider:o353 ~Model:o430 00000000 )
    Return
    End
}

#new:Script $Script_802431BC
{
    Call  SetGroupEnabled   ( ~Model:s_naisou 00000000 )
    If  *StoryProgress  !=  00000041
        ExecWait  $Script_802430E4
    EndIf
    Call  SetGroupEnabled   ( ~Model:f_naiso 00000000 )
    Call  MakeDoorAdvanced  ( 00000000 $Script_OpenDoor_80242CEC $Script_MoveWalls_80242D1C 00000000 $Script_ToggleVis_80242DC4 ~Collider:ttf2 ~Collider:o354 ~Model:f2 $NpcList_802430D0 )
    Call  SetGroupEnabled   ( ~Model:m_naiso 00000000 )
    Call  MakeDoorAdvanced  ( 00001002 $Script_OpenDoor_80242E70 $Script_MoveWalls_80242ED0 00000000 $Script_ToggleVis_80242F78 ~Collider:ttm ~Collider:o355 ~Model:min $NpcList_802430D8 )
    Call  SetGroupEnabled   ( ~Model:m_naiso 00000000 )
    Call  MakeDoorAdvanced  ( 00000000 $Script_OpenDoor_80242EA0 $Script_MoveWalls_80242ED0 00000000 $Script_ToggleVis_8024300C ~Collider:o376 ~Collider:o390 ~Model:min $NpcList_802430D8 )
    Return
    End
}

#new:Unknown $???_802432D0
{
    00000000
}

#new:Unknown $???_802432D4
{
    00000000
}

% Origin: HEURISTIC
#new:Script $Script_802432D8
{
    Set   *Var[9]  *Var[1]
    Call  802D6420 ( )
    Set   *Var[A]  *Var[0]
    Switch  *Var[0]
        Case  ==  00000000
        Case  ==  FFFFFFFF
        Default
            Call  RemoveKeyItemAt       ( *Var[1] )
            Call  GetPlayerPos  ( *Var[3] *Var[4] *Var[5] )
            Call  $Function_8024036C    ( *Var[3] *Var[4] *Var[5] )
            ConstOR  *Var[0] 00050000
            Call  MakeItemEntity        ( *Var[0] *Var[3] *Var[4] *Var[5] .ItemSpawnMode:Decoration 00000000 )
            Call  SetPlayerAnimation    ( 00060005 )
            Wait  30`
            Call  SetPlayerAnimation    ( 00010002 )
            Call  RemoveItemEntity      ( *Var[0] )
    EndSwitch
    Call  $Function_80240590    ( *Var[A] )
    Call  802D6954 ( )
    Unbind
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_8024341C
{
    Call  $Function_802405C8    ( *Var[0] )
    BindLock  $Script_802432D8 00000010 00000000 $End[0] 00000000 00000001
    Call  $Function_8024053C    ( *Var[0] )
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_8024346C
{
    Set   *Var[9]  *Var[1]
    Call  802D663C ( )
    Set   *Var[A]  *Var[0]
    Switch  *Var[0]
        Case  ==  00000000
        Case  ==  FFFFFFFF
        Default
            Call  RemoveItemAt  ( *Var[1] )
            Call  GetPlayerPos  ( *Var[3] *Var[4] *Var[5] )
            Call  $Function_8024036C    ( *Var[3] *Var[4] *Var[5] )
            Call  MakeItemEntity        ( *Var[0] *Var[3] *Var[4] *Var[5] .ItemSpawnMode:Decoration 00000000 )
            Call  SetPlayerAnimation    ( 00060005 )
            Wait  30`
            Call  SetPlayerAnimation    ( 00010002 )
            Call  RemoveItemEntity      ( *Var[0] )
    EndSwitch
    Call  $Function_80240590    ( *Var[A] )
    Call  802D6954 ( )
    Unbind
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_802435A0
{
    Call  $Function_80240664    ( *Var[0] )
    BindLock  $Script_8024346C 00000010 00000000 $End[1C8] 00000000 00000001
    Call  $Function_8024053C    ( *Var[0] )
    Return
    End
}

% Origin: HEURISTIC
#new:Unknown $???_802435F0
{
    00000000
}

#new:Script $Script_802435F4
{
    Call  ShowGotItem   ( *Var[0] .True 00000000 )
    Return
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_80243624
{
    Call  ShowGotItem   ( *Var[0] .True 00000010 )
    Return
    Return
    End
}

#new:AISettings $AISettings_80243654
{
    1.5 % move speed
    60` % move time
    30` % wait time
    0.0 % alert radius
    0.0
    -1`
    0.0 % chase speed
    0`
    0`
    0.0 % chase radius
    0.0
    1`
}

#new:Script $Script_NpcAI_80243684
{
    Call  DoBasicAI ( $AISettings_80243654 )
    Return
    End
}

#new:NpcSettings $NpcSettings_802436A4
{
    00000000 00180018 00000000 00000000 $Script_NpcAI_80243684 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_802436D0
{
    00000000 00180018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

% Origin: HINT
#new:ByteTable $QuizAnswers
{
    02010102 02000200 02010002 01010002 00020100 00020100 02010102 02010101
    00020202 02000101 02010201 02000001 01000102 01000202 01020002 02010101
}

% Origin: HINT
#new:IntTable $QuizRequirements
{
    FFFFFF94 00000000
    FFFFFFB4 0000000A
    FFFFFFCA 00000014
    FFFFFFF2 0000001E
    00000006 00000025
    00000027 0000002C
    0000003A 00000034
    00000058 0000003C
    00000060 00000040
    00000000 00000040
}

#new:Script $Script_8024378C
{
    Call  $Function_8024123C ( )
    If  *Var[0]  <=  00000001
        Call  GetNpcPos ( .Npc:Self *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  0000012C
        Call  SetNpcJumpscale   ( .Npc:Self 00000001 )
        Call  SetNpcAnimation   ( .Npc:Self 00AF000C )
        Wait  40`
        Call  SetNpcPos ( .Npc:Self 00000000 FFFFFC18 00000000 )
    EndIf
    Return
    End
}

#new:Script $Script_8024383C
{
    Call  $Function_802412E0    ( 00000000 *Array[0] )
    Call  $Function_8024126C    ( 00000000 00000019 )
    Call  GetPlayerPos      ( *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget      ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  GetCamType        ( .Cam:Default *Var[1] *Var[2] )
    Call  SetCamType        ( .Cam:Default *Var[1] .False )
    Call  GetCamDistance    ( .Cam:Default *Var[0] )
    If  *Var[0]  >  00000000
        SetF  *Var[0]  00000172
    Else
        SetF  *Var[0]  FFFFFE8E
    EndIf
    Call  SetCamDistance    ( .Cam:Default *Var[0] )
    Call  GetCamPitch       ( .Cam:Default *Var[0] *Var[1] )
    SetF  *Var[0]  *Fixed[13.0]
    SetF  *Var[1]  *Fixed[-10.0]
    Call  SetCamPitch       ( .Cam:Default *Var[0] *Var[1] )
    Call  PanToTarget       ( .Cam:Default 00000000 00000001 )
    Call  SetCamLeadPlayer  ( .Cam:Default .False )
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_802439D8
{
    Call  GetNpcPos ( 0000000E *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000001E
    Call  SetPanTarget      ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  GetCamDistance    ( .Cam:Default *Var[0] )
    If  *Var[0]  >  00000000
        SetF  *Var[0]  00000011
    Else
        SetF  *Var[0]  FFFFFFEF
    EndIf
    Call  SetCamDistance    ( .Cam:Default *Var[0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SetCamSpeed   ( .Cam:Default 00000001 )
    Return
    End
}

#new:Script $Script_80243AD4
{
    Call  $Function_8024126C    ( 00000000 *Array[0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Return
    End
}

#new:Script $Script_80243B10
{
    Wait  20`
    Call  $Function_80241380    ( *Array[1] *Array[3] 00000053 *Var[0] *Var[1] )
    Thread
        SetF  *Var[2]  00000000
        Loop  0000003C
            SetF  *Var[3]  *Var[0]
            SetF  *Var[4]  *Var[1]
            MulF  *Var[3]  *Var[2]
            MulF  *Var[4]  *Var[2]
            DivF  *Var[3]  0000003C
            DivF  *Var[4]  0000003C
            AddF  *Var[3]  *Array[1]
            AddF  *Var[4]  *Array[3]
            Call  SetPlayerPos  ( *Var[3] *Array[2] *Var[4] )
            AddF  *Var[2]  00000001
            Wait  1`
        EndLoop
        SetF  *Var[3]  *Var[0]
        SetF  *Var[4]  *Var[1]
        AddF  *Var[3]  *Array[1]
        AddF  *Var[4]  *Array[3]
        Call  SetPlayerPos  ( *Var[3] *Array[2] *Var[4] )
    EndThread
    Call  $Function_8024151C ( )
    Call  802D2884  ( *Array[1] *Array[3] 00000000 )
    Call  SetPlayerAnimation    ( 00010002 )
    Return
    End
}

#new:Script $Script_80243CC0
{
    Call  GetNpcPos ( .Npc:Partner *Var[A] *Var[B] *Var[C] )
    Call  $Function_80241380    ( *Var[A] *Var[C] 0000006C *Var[0] *Var[1] )
    SetF  *Var[5]  *Array[2]
    SubF  *Var[5]  *Var[B]
    Thread
        Call  $Function_80241610 ( )
        SetF  *Var[3]  *Var[0]
        SetF  *Var[4]  *Var[1]
        SetF  *Var[6]  *Var[5]
        AddF  *Var[3]  *Var[A]
        AddF  *Var[4]  *Var[C]
        AddF  *Var[6]  *Var[B]
        Call  SetNpcPos ( .Npc:Partner *Var[3] *Var[6] *Var[4] )
    EndThread
    Call  $Function_80241580 ( )
    Call  NpcFacePlayer     ( .Npc:Partner 00000000 )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Return
    End
}

#new:Script $Script_80243DF8
{
    Call  GetNpcPos ( 0000000E *Var[A] *Var[B] *Var[C] )
    Call  $Function_80241380    ( *Var[A] *Var[C] FFFFFFBA *Var[0] *Var[1] )
    Thread
        SetF  *Var[2]  00000000
        Loop  0000003C
            SetF  *Var[3]  *Var[0]
            SetF  *Var[4]  *Var[1]
            MulF  *Var[3]  *Var[2]
            MulF  *Var[4]  *Var[2]
            DivF  *Var[3]  0000003C
            DivF  *Var[4]  0000003C
            AddF  *Var[3]  *Var[A]
            AddF  *Var[4]  *Var[C]
            Call  SetNpcPos ( 0000000E *Var[3] *Array[2] *Var[4] )
            AddF  *Var[2]  00000001
            Wait  1`
        EndLoop
    EndThread
    Wait  60`
    Call  NpcFacePlayer     ( 0000000E 00000000 )
    Call  SetNpcAnimation   ( 0000000E 00AF0001 )
    Return
    End
}

#new:Script $Script_80243F64
{
    Exec  $Script_80243B10
    Exec  $Script_80243CC0
    ExecWait  $Script_80243DF8
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_80243F98
{
    Loop
        Call  SetPlayerAnimation    ( .PlayerAnim:Question )
        Wait  20`
    EndLoop
    Return
    End
}

#new:Script $Script_80243FD8
{
    Call  SetPlayerAnimation    ( .PlayerAnim:Throw )
    Wait  15`
    Call  SetPlayerAnimation    ( 00010002 )
    Return
    End
}

#new:Script $Script_80244014
{
    Loop
        Call  SetPlayerAnimation    ( 00010002 )
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:BeforeJump )
        Wait  2`
        Call  SetPlayerAnimation    ( .PlayerAnim:MidairStill )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000003
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000002
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:Midair )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFE
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFD
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( 00010009 )
        Wait  2`
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:BeforeJump )
        Wait  2`
        Call  SetPlayerAnimation    ( .PlayerAnim:MidairStill )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000003
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000002
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:Midair )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFE
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFD
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( 00010009 )
        Wait  2`
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:BeforeJump )
        Wait  2`
        Call  SetPlayerAnimation    ( .PlayerAnim:MidairStill )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000003
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000002
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( .PlayerAnim:Midair )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  00000000
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFE
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Add   *Var[1]  FFFFFFFD
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  1`
        Call  SetPlayerAnimation    ( 00010009 )
        Wait  2`
    EndLoop
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SetPlayerPos  ( *Var[0] *Array[2] *Var[2] )
    Wait  1`
    Return
    End
}

#new:Script $Script_80244B5C
{
    Call  SetPlayerAnimation    ( .PlayerAnim:ShockStill )
    Loop
        Wait  1`
    EndLoop
    Return
    End
}

#new:Script $Script_80244B9C
{
    Thread
        Call  $Function_80241380    ( *Array[1] *Array[3] 00000019 *Var[0] *Var[1] )
        SetF  *Var[2]  *Array[1]
        AddF  *Var[2]  *Var[0]
        SetF  *Var[3]  *Array[3]
        AddF  *Var[3]  *Var[1]
        Call  SetNpcAnimation   ( .Npc:Partner 00000102 )
        Call  NpcMoveTo ( .Npc:Partner *Var[2] *Var[3] 00000028 )
        Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    EndThread
    Call  PlayerMoveTo  ( *Array[1] *Array[3] 00000028 )
    Return
    End
}

#new:Script $Script_80244C78
{
    Exec  $Script_80244014 *Var[1]
    Wait  60`
    Kill  *Var[1]
    Loop  00000005
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  2`
    EndLoop
    Wait  20`
    ExecWait  $Script_80244B9C
    Return
    End
}

#new:Script $Script_80244D28
{
    Exec  $Script_80244B5C *Var[1]
    Wait  60`
    Loop  00000005
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  FFFFFFFF
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  2`
    EndLoop
    Wait  20`
    Kill  *Var[1]
    ExecWait  $Script_80244B9C
    Return
    End
}

#new:Script $Script_80244DD8
{
    If  *CompletedQuizzes  >  0000003F
        Set   *Var[0]  00000000
        Return
    EndIf
    Call  GetPlayerPos  ( *Array[1] *Array[2] *Array[3] )
    Call  NpcFacePlayer ( .Npc:Self 00000010 )
    If  *CompletedQuizzes  ==  0000003F
        Call  SpeakToPlayer ( .Npc:Self 00AF0004 00AF0001 00000000 0008000A ) % Kaaaa-wiiiizzz! It's everyone's favorite quizmaste ...
    Else
        If  *Flag_Met_ChuckQuizmo  ==  .True
            Call  SpeakToPlayer ( .Npc:Self 00AF0004 00AF0001 00000000 00080009 ) % Kaaaa-wiiiizzz! It's everyone's favorite quizmaste ...
        Else
            Call  SpeakToPlayer ( .Npc:Self 00AF0004 00AF0001 00000000 00080008 ) % Kaaaa-wiiiizzz! Chuck Quizmo's the name, and quizz ...
            Set   *Flag_Met_ChuckQuizmo  .True
        EndIf
    EndIf
    Call  ShowChoice    ( 001E000D ) % Yes No
    If  *Var[0]  ==  00000001
        Call  ContinueSpeech    ( .Npc:Self 00AF0004 00AF0001 00000000 0008000C ) % Uh, oh. Not up to it, huh? Maybe another time! Wel ...
        ExecWait  $Script_8024378C
        Set   *Var[0]  00000000
        Return
    EndIf
    Set   *Flag_Taking_Quiz  .True
    Call  $Function_80240818 ( )
    Call  $Function_80240B2C ( )
    Exec  $Script_8024383C
    Call  DisablePartnerAI  ( 00000000 )
    Call  SetNpcFlagBits    ( .Npc:Partner 00000200 .False )
    Call  SetNpcFlagBits    ( 0000000E 00000200 .False )
    Call  SetNpcFlagBits    ( .Npc:Partner 00000148 .True )
    Call  SetNpcFlagBits    ( 0000000E 00000100 .True )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Exec  $Script_80243F64 *Var[1]
    Call  ContinueSpeech    ( .Npc:Self 00AF0004 00AF0001 00000000 0008000B ) % Then let's go to the question!
    Call  PlaySound ( 00000089 )
    Loop
        DoesScriptExist  *Var[1] *Var[0]
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
        Wait  1`
    EndLoop
    Call  $Function_80240E70 ( )
    Loop  00000005
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000001
        Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Wait  2`
    EndLoop
    Set   *Var[0]  002C0000
    Add   *Var[0]  *CompletedQuizzes
    Call  SpeakToPlayer ( .Npc:Self 00AF0005 00AF0006 00000000 *Var[0] ) % variable string ID
    Call  SetPlayerAnimation    ( .PlayerAnim:Question )
    Set   *Var[0]  002D0000
    Add   *Var[0]  *CompletedQuizzes
    Call  PlaySound     ( 0000008E )
    Call  ShowChoice    ( *Var[0] ) % variable string ID
    Kill  *Var[1]
    Call  StopSound     ( 0000008E )
    Exec  $Script_80243FD8
    Wait  15`
    Call  PlaySound     ( 0000008D )
    Call  $Function_80241170    ( *Var[0] )
    Set   *Array[4]  00000000
    Call  $Function_80241764 ( )
    Wait  40`
    Call  $Function_80240DEC ( )
    Thread
        Wait  110`
        Call  CloseChoice ( )
        Set   *Array[4]  00000000
    EndThread
    If  *Var[0]  ==  00000001
        Call  SetNpcAnimation   ( 0000000E 00AF0007 )
        Set   *Array[4]  00000001
        Thread
            Call  $Function_8024113C    ( 00000001 )
            Wait  6`
            Wait  6`
            Wait  6`
            Call  $Function_8024113C    ( 00000002 )
        EndThread
        Thread
            Call  PlaySound ( 0000021C )
            Wait  6`
            Call  PlaySound ( 0000021C )
            Wait  6`
            Call  PlaySound ( 0000021C )
            Wait  6`
            Call  PlaySound ( 0000021C )
        EndThread
        Call  PlaySound ( 0000008A )
        Call  $Function_80241208 ( )
        Thread
            Wait  15`
            Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
            Add   *Var[1]  00000032
            Call  $Function_80241380    ( 00000000 00000000 00000053 *Var[0] *Var[2] )
            Call  PlayEffect    ( ~FX:Steam:Ring *Var[0] *Var[1] *Var[2] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Call  PlayEffect    ( ~FX:Confetti:Burst2 *Var[0] *Var[1] *Var[2] 00000001 0000003C 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  15`
            Add   *Var[1]  FFFFFFFD
            Call  $Function_80241380    ( 00000000 00000000 0000003A *Var[0] *Var[2] )
            Call  PlayEffect    ( ~FX:Steam:Ring *Var[0] *Var[1] *Var[2] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Call  PlayEffect    ( ~FX:Confetti:Burst2 *Var[0] *Var[1] *Var[2] 00000001 0000003C 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  15`
            Add   *Var[1]  0000001E
            Call  $Function_80241380    ( 00000000 00000000 0000005D *Var[0] *Var[2] )
            Call  PlayEffect    ( ~FX:Steam:Ring *Var[0] *Var[1] *Var[2] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Call  PlayEffect    ( ~FX:Confetti:Burst2 *Var[0] *Var[1] *Var[2] 00000001 0000003C 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  15`
        EndThread
        Wait  20`
        Exec  $Script_80244C78 *Var[1]
        Add   *CompletedQuizzes  00000001
        If  *CompletedQuizzes  >  0000003F
            Call  ContinueSpeech    ( .Npc:Self FFFFFFFF FFFFFFFF 00000000 00080010 ) % Correct!! Congratulations! This is my last prize!  ...
            Call  SetNpcAnimation   ( 0000000E 00AF0006 )
            Loop
                DoesScriptExist  *Var[1] *Var[0]
                If  *Var[0]  ==  00000000
                    BreakLoop
                EndIf
                Wait  1`
            EndLoop
            Call  SetNpcAnimation   ( 0000000E 00AF0005 )
            Set   *Var[0]  0000015C
            Set   *Var[1]  00000003
            ExecWait  $Script_802435F4
            Call  AddStarPieces     ( 00000001 )
            Call  $Function_8024113C    ( 0000000F )
            Call  $Function_802411F0 ( )
            Call  SetMessageValue   ( *CompletedQuizzes 00000000 )
            Call  SpeakToPlayer     ( .Npc:Self 00AF0004 00AF0001 00000000 00080011 ) % You've managed to correctly answer all  questions. ...
        Else
            Call  ContinueSpeech    ( .Npc:Self FFFFFFFF FFFFFFFF 00000000 0008000E ) % Correct! Congratulations! Here's your Star Piece!
            Call  SetNpcAnimation   ( 0000000E 00AF0006 )
            Loop
                DoesScriptExist  *Var[1] *Var[0]
                If  *Var[0]  ==  00000000
                    BreakLoop
                EndIf
                Wait  1`
            EndLoop
            Call  SetNpcAnimation   ( 0000000E 00AF0005 )
            Set   *Var[0]  0000015C
            Set   *Var[1]  00000001
            ExecWait  $Script_802435F4
            Call  AddStarPieces     ( 00000001 )
            Call  $Function_8024113C    ( 0000000F )
            Call  $Function_802411F0 ( )
            Call  SetMessageValue   ( *CompletedQuizzes 00000000 )
            If  *CompletedQuizzes  ==  00000001
                Call  SetMessageString  ( 8014C294 00000001 )
            Else
                Call  SetMessageString  ( 8014C290 00000001 )
            EndIf
            Call  SpeakToPlayer ( .Npc:Self 00AF0004 00AF0001 00000000 0008000F ) % You've correctly answered  question so far. Good l ...
        EndIf
        Set   *Var[0]  00000001
    Else
        Call  SetNpcAnimation   ( 0000000E 00AF0009 )
        Set   *Array[4]  00000002
        Call  PlaySound ( 0000021D )
        Call  PlaySound ( 0000008B )
        Exec  $Script_80244D28 *Var[1]
        Call  GetPlayerPos      ( *Var[2] *Var[3] *Var[4] )
        Call  PlayEffect        ( ~FX:DeadLeaves:Gust1 *Var[2] *Var[3] *Var[4] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Call  ContinueSpeech    ( .Npc:Self FFFFFFFF FFFFFFFF 00000000 0008000D ) % Oops! Tough luck, pal! Wrong answer! Better luck n ...
        Call  SetNpcAnimation   ( 0000000E 00AF000A )
        Loop
            DoesScriptExist  *Var[1] *Var[0]
            If  *Var[0]  ==  00000000
                BreakLoop
            EndIf
            Wait  1`
        EndLoop
        Set   *Var[0]  00000000
    EndIf
    Call  $Function_80241170    ( FFFFFFFF )
    Call  EnablePartnerAI ( )
    Thread
        Wait  30`
        Call  PlaySound ( 0000008F )
    EndThread
    Thread
        Wait  45`
        Call  StopSound ( 00000089 )
    EndThread
    Call  $Function_80241224 ( )
    Call  $Function_80241088 ( )
    ExecWait  $Script_8024378C
    Exec  $Script_80243AD4
    Call  $Function_80240C78 ( )
    Call  $Function_8024082C ( )
    Set   *Flag_Taking_Quiz  .False
    Return
    End
}

#new:Script $Script_80245B08
{
    Call  $Function_8024083C ( )
    If  *Var[0]  ==  00000000
        Return
    EndIf
    Call  SetNpcFlagBits    ( .Npc:Self 01000000 .False )
    Call  802CF208  ( FFFFFFFF 00AF0001 )
    Call  $Function_80240A60 ( )
    Return
    End
}

#new:Script $Script_80245B7C
{
    UseArray  $End[340]
    Set   *Flag_NPC_41  .True
    Call  DisablePlayerPhysics  ( .True )
    Call  SetPlayerFlagBits     ( 00400000 .True )
    ExecWait  $Script_80244DD8
    Call  DisablePlayerPhysics  ( .False )
    Call  SetPlayerFlagBits     ( 00400000 .False )
    Return
    End
}

#new:Script $Script_80245BFC
{
    Call  $Function_80240AAC ( )
    Return
    End
}

% Origin: HEURISTIC
#new:AISettings $AISettings_80245C18
{
    0.7 % move speed
    30` % move time
    20` % wait time
    0.0 % alert radius
    0.0
    -1`
    0.0 % chase speed
    0`
    0`
    0.0 % chase radius
    0.0
    1`
}

% Origin: HEURISTIC
#new:Script $Script_80245C48
{
    Call  DoBasicAI ( $AISettings_80245C18 )
    Return
    End
}

#new:NpcSettings $NpcSettings_80245C68
{
    00AF0001 0023001C $Script_80245B08 $Script_80245B7C 00000000 00000000 $Script_80245BFC 00000000
    00000D01 00000000 00630000
}

MISSING: 80245C94 to 80245CC0 (00005C94 to 00005CC0)
00AF0001 0023001C 80245B08 80245B7C 80245C48 00000000 80245BFC 00000000
00000C01 00000000 00630010

#new:Script $Script_80245CC0
{
    Loop
        Call  GetNpcPos ( .Npc:Partner *Var[3] *Var[4] *Var[5] )
        Call  $Function_80241884    ( *Var[3] *Var[4] *Var[5] )
        Call  SetItemPos    ( *Var[0] *Var[3] *Var[4] *Var[5] )
        Wait  1`
    EndLoop
    Return
    End
}

#new:Script $Script_80245D40
{
    Set   *Var[9]  *Var[1]
    Call  802D6420 ( )
    Set   *Var[A]  *Var[0]
    Switch  *Var[0]
        Case  ==  00000000
        Case  ==  FFFFFFFF
        Default
            Call  RemoveKeyItemAt   ( *Var[1] )
            Call  DisablePartnerAI  ( 00000000 )
            Call  GetNpcPos ( .Npc:Partner *Var[3] *Var[4] *Var[5] )
            Call  $Function_80241884    ( *Var[3] *Var[4] *Var[5] )
            ConstOR  *Var[0] 00050000
            Call  MakeItemEntity    ( *Var[0] *Var[3] *Var[4] *Var[5] .ItemSpawnMode:Decoration 00000000 )
            Exec  $Script_80245CC0 *Var[A]
            Call  SetNpcAnimation   ( .Npc:Partner 00040002 )
            Call  GetAngleBetweenNPCs   ( *Var[9] .Npc:Partner *Var[B] )
            Call  GetNpcPos ( .Npc:Partner *Var[3] *Var[4] *Var[5] )
            Call  GetNpcPos ( *Var[9] *Var[6] *Var[7] *Var[8] )
            Call  SetNpcFlagBits    ( .Npc:Partner 00000100 .True )
            If  *Var[B]  <=  000000B4
                Add   *Var[6]  00000014
            Else
                Add   *Var[6]  FFFFFFEC
            EndIf
            Add   *Var[7]  0000000A
            Call  SetNpcJumpscale   ( .Npc:Partner *Fixed[0.0] )
            Call  NpcJump1  ( .Npc:Partner *Var[6] *Var[7] *Var[8] 00000014 )
            Kill  *Var[A]
            Call  RemoveItemEntity  ( *Var[0] )
            Wait  20`
            Call  GetNpcYaw ( .Npc:Partner *Var[A] )
            Add   *Var[A]  000000B4
            Call  InterpNpcYaw      ( .Npc:Partner *Var[A] 00000000 )
            Wait  5`
            Call  NpcJump1  ( .Npc:Partner *Var[3] *Var[4] *Var[5] 00000014 )
            Call  SetNpcAnimation   ( .Npc:Partner 00040001 )
            Call  NpcFaceNpc        ( .Npc:Partner *Var[9] 00000000 )
            Wait  5`
            Call  SetNpcFlagBits    ( .Npc:Partner 00000100 .False )
            Call  EnablePartnerAI ( )
            Wait  5`
    EndSwitch
    Call  $Function_80240590    ( *Var[A] )
    Call  802D6954 ( )
    Unbind
    Return
    End
}

#new:Script $Script_80246064
{
    Set   *Var[0]  *Var[B]
    Set   *Var[1]  *Var[2]
    Call  $Function_802405C8    ( *Var[0] )
    BindLock  $Script_80245D40 00000010 00000000 $End[0] 00000000 00000001
    Call  $Function_8024053C    ( *Var[0] )
    Return
    End
}

#new:Script $Script_802460D4
{
    Set   *Var[C]  00000000
    If  *StoryProgress  <  FFFFFFBA
        Return
    EndIf
    Call  $Function_80241A10 ( )
    Call  GetCurrentPartnerID   ( *Var[0] )
    Call  FindKeyItem   ( *Var[5] *Var[1] )
    If  *Var[0]  ==  .Partner:Parakarry % 4
        If  *Var[1]  !=  FFFFFFFF
            Call  DisablePartnerAI  ( 00000000 )
            Call  PlayerFaceNpc ( *Var[2] 00000000 )
            Wait  1`
            Call  GetNpcPos     ( *Var[2] *Var[D] *Var[0] *Var[E] )
            Call  GetNpcPos     ( .Npc:Partner *Var[D] *Var[E] *Var[F] )
            Call  SetNpcJumpscale   ( .Npc:Partner *Fixed[0.0] )
            Add   *Var[0]  0000000A
            Call  NpcJump1      ( .Npc:Partner *Var[D] *Var[0] *Var[F] 0000000A )
            Call  SpeakToNpc    ( .Npc:Partner 00040006 00040001 00000000 *Var[2] *Var[7] ) % variable string ID
            Call  EnablePartnerAI ( )
            ExecWait  $Script_80246064
            Switch  *Var[0]
                Case  ==  FFFFFFFF
                    Call  DisablePartnerAI  ( 00000000 )
                    Wait  1`
                    Call  SpeakToPlayer     ( .Npc:Partner 00040006 00040001 00000005 *Var[8] ) % variable string ID
                    Call  EnablePartnerAI ( )
                    Set   *Var[C]  00000001
                Default
                    Call  DisablePartnerAI  ( 00000000 )
                    Wait  1`
                    Call  SpeakToPlayer     ( .Npc:Partner 00040006 00040001 00000005 *Var[9] ) % variable string ID
                    If  *Var[A]  !=  00000000
                        Call  SpeakToPlayer ( *Var[2] *Var[3] *Var[4] 00000000 *Var[A] ) % variable string ID
                    EndIf
                    Call  EnablePartnerAI ( )
                    If  *Var[6]  !=  00000000
                        Set   *Var[0]  *Var[6]
                        Set   *Var[1]  00000001
                        ExecWait  $Script_802435F4
                        Call  AddKeyItem    ( *Var[6] )
                    EndIf
                    Set   *Var[C]  00000002
            EndSwitch
        EndIf
    EndIf
    Call  $Function_80241A54 ( )
    Return
    End
}

#new:Unknown $???_802463CC
{
    0000003A 00000000
}

#new:Script $Script_802463D4
{
    Call  $Function_80241794    ( 00000000 00CE0004 00CE0001 0000003A 00000000 00120041 00120042 00120043 00120044 $???_802463CC )
    ExecWait  $Script_802460D4
    Return
    End
}

#new:Script $Script_80246424
{
    If  *Var[C]  ==  00000002
        Set   *Var[0]  0000015C
        Set   *Var[1]  00000003
        ExecWait  $Script_802435F4
        Call  AddStarPieces ( 00000001 )
    EndIf
    Return
    End
}

#new:Script $Script_80246488
{
    Label  0
    Call  GetNpcPos ( 00000000 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  FFFFFFFB
    Add   *Var[1]  0000000F
    Call  GetNpcYaw ( 00000000 *Var[3] )
    If  *Var[3]  >=  0000005A
        If  *Var[3]  <=  0000010E
            Add   *Var[2]  0000000A
        Else
            Add   *Var[2]  FFFFFFF6
        EndIf
    Else
        Add   *Var[2]  FFFFFFF6
    EndIf
    Call  SetItemPos    ( *MapVar[5] *Var[0] *Var[1] *Var[2] )
    Wait  1`
    Goto  0
    Return
    End
}

#new:Script $Script_80246598
{
    Call  GetNpcYaw ( 00000000 *Var[3] )
    If  *Var[3]  >=  0000005A
        If  *Var[3]  <=  0000010E
            Add   *Var[2]  0000000A
            Set   *Var[4]  0000000A
        Else
            Add   *Var[2]  FFFFFFF6
            Set   *Var[4]  FFFFFFF6
        EndIf
    Else
        Sub   *Var[2]  0000000A
        Set   *Var[4]  0000000A
    EndIf
    Thread
        Loop  0000000A
            Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
            Add   *Var[0]  FFFFFFFB
            Add   *Var[1]  0000000F
            Add   *Var[2]  *Var[4]
            Call  SetItemPos    ( *MapVar[5] *Var[0] *Var[1] *Var[2] )
            Wait  1`
        EndLoop
        Call  SetItemPos    ( *MapVar[5] 00000000 FFFFFC18 00000000 )
    EndThread
    Call  NpcMoveTo ( 00000000 *Var[0] *Var[2] 0000000A )
    Return
    End
}

#new:Script $Script_Interact_8024672C
{
    Switch  *StoryProgress
        Case  <  0000003F
            Call  FadeOutMusic  ( 00000000 000001F4 )
            Call  ShowMessageAtScreenPos    ( 00120002 000000A0 00000028 ) % No reply... Mayor Penguin's body doesn't budge an  ...
            ExecWait  $Script_8024A5C0
        Case  <  00000043
            Call  ShowMessageAtScreenPos    ( 00120002 000000A0 00000028 ) % No reply... Mayor Penguin's body doesn't budge an  ...
        Case  <  00000048
            Call  SpeakToPlayer ( .Npc:Self 00CE0004 00CE0001 00000000 00120039 ) % Please come back anytime. These northern lands are ...
        Case  <  00000049
            Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
            Call  GetNpcPos     ( .Npc:Self *Var[3] *Var[4] *Var[5] )
            If  *Var[2]  >=  *Var[5]
                Set   *MapVar[6]  00000000
            Else
                Set   *MapVar[6]  00000001
            EndIf
            Call  SpeakToPlayer ( .Npc:Self 00CE0004 00CE0001 00000000 0012003A ) % Oh, Mario! Did you reach Starborn Valley? Did you  ...
            Call  SetNpcFlagBits        ( .Npc:Self 00000100 .True )
            Call  SetNpcAnimation       ( .Npc:Self 00CE0002 )
            Call  NpcMoveTo     ( .Npc:Self FFFFFEAE FFFFFF09 00000014 )
            Call  PlaySoundAtCollider   ( ~Collider:yana 000001CF 00000000 )
            Call  MakeLerp      ( 00000000 00000046 0000001E .Easing:Linear )
            Label  A
            Call  UpdateLerp ( )
            Call  RotateModel   ( ~Model:o411 *Var[0] 00000000 FFFFFFFF 00000000 )
            Call  RotateModel   ( ~Model:o412 *Var[0] 00000000 00000001 00000000 )
            Wait  1`
            If  *Var[1]  ==  00000001
                Goto  A
            EndIf
            Wait  20`
            Call  MakeLerp      ( 00000046 00000000 0000001E .Easing:Linear )
            Label  14
            Call  UpdateLerp ( )
            Call  RotateModel   ( ~Model:o411 *Var[0] 00000000 FFFFFFFF 00000000 )
            Call  RotateModel   ( ~Model:o412 *Var[0] 00000000 00000001 00000000 )
            Wait  1`
            If  *Var[1]  ==  00000001
                Goto  14
            EndIf
            Call  PlaySoundAtCollider   ( ~Collider:yana 000001D0 00000000 )
            Call  SetNpcAnimation   ( .Npc:Self 00CE0008 )
            Call  InterpNpcYaw      ( .Npc:Self 000000B4 00000000 )
            Exec  $Script_80246488 *Var[A]
            Wait  10`
            Call  GetPlayerPos      ( *Var[0] *Var[1] *Var[2] )
            If  *MapVar[6]  ==  00000000
                Add   *Var[2]  FFFFFFD8
            Else
                Add   *Var[2]  00000028
            EndIf
            Call  NpcMoveTo     ( .Npc:Self *Var[0] *Var[2] 00000014 )
            Call  SpeakToPlayer ( .Npc:Self 00CE0004 00CE0001 00000000 0012003B ) % Yes, I found it. Here it is.
            Kill  *Var[A]
            ExecWait  $Script_80246598
            Call  SetNpcAnimation   ( .Npc:Self 00CE0001 )
            Set   *Var[0]  00000031
            Set   *Var[1]  00000001
            ExecWait  $Script_802435F4
            Call  AddKeyItem    ( .Item:Bucket )
            Call  SpeakToPlayer ( .Npc:Self 00CE0004 00CE0001 00000000 0012003C ) % This Bucket has been passed down through the years ...
            Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
            Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
            Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
            Call  SetCamDistance    ( .Cam:Default *Fixed[250.0] )
            Call  SetCamPitch   ( .Cam:Default *Fixed[15.0] *Fixed[-8.5] )
            Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
            Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
            Call  SpeakToPlayer ( .Npc:Self 00CE0004 00CE0001 00000000 0012003D ) % Sounds like those Star Kids in Starborn Valley are ...
            Call  ResetCam      ( .Cam:Default *Fixed[3.0] )
            Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
            Call  SetNpcFlagBits    ( .Npc:Self 00000100 .False )
            Set   *StoryProgress  00000049
        Case  <  0000004A
            Call  SpeakToPlayer ( .Npc:Self 00CE0004 00CE0001 00000000 0012003E ) % Have you found the way to the Crystal Palace yet?  ...
        Case  <  00000057
            Call  SpeakToPlayer ( .Npc:Self 00CE0004 00CE0001 00000000 0012003F ) % You found the path to the Crystal Palace!? That's  ...
        Case  >=  00000057
            Call  SpeakToPlayer ( .Npc:Self 00CE0004 00CE0001 00000000 00120040 ) % Mario, I do believe you've saved all seven Star Sp ...
    EndSwitch
    ExecWait  $Script_802463D4
    ExecWait  $Script_80246424
    If  *Var[C]  !=  00000000
        Return
    EndIf
    Return
    End
}

#new:Script $Script_Interact_80246D90
{
    Switch  *StoryProgress
        Case  <  0000003F
            If  *Flag_SAM_03  ==  .False
                Call  SpeakToPlayer ( .Npc:Self 00CF0004 00CF0001 00000000 00120000 ) % Oh, we have a guest! Welcome! You poor man, you mu ...
                Set   *Flag_SAM_03  .True
            Else
                Call  SpeakToPlayer ( .Npc:Self 00CF0004 00CF0001 00000000 00120001 ) % If you'd like to see my husband, he's in the other ...
            EndIf
        Case  <  00000043
            Call  SpeakToPlayer ( .Npc:Self 00CF0008 00CF0001 00000000 0012001C ) % You killed him, didn't you? I knew my instincts we ...
        Case  <  00000048
            Call  SpeakToPlayer ( .Npc:Self 00CF0005 00CF0001 00000000 00120035 ) % Uh...I knew you were innocent the whole time! A ba ...
        Case  <  00000049
            Call  SpeakToPlayer ( .Npc:Self 00CF0005 00CF0001 00000000 00120036 ) % Hi there! How are you? Herringway's mystery novels ...
        Case  <  00000057
            Call  SpeakToPlayer ( .Npc:Self 00CF0005 00CF0001 00000000 00120037 ) % Oh, hello there, Mario! My husband tells me you're ...
        Case  >=  00000057
            Call  SpeakToPlayer ( .Npc:Self 00CF0005 00CF0001 00000000 00120038 ) % My husband says that you're preparing to fight Bow ...
    EndSwitch
    Return
    End
}

#new:Script $Script_Interact_80246F0C
{
    Switch  *StoryProgress
        Case  <  00000041
            Call  SpeakToPlayer ( .Npc:Self 00D00004 00D00001 00000000 0012001B ) % Hmm? Got any leads yet? You're still our main susp ...
        Case  >=  00000041
            Call  SpeakToPlayer ( .Npc:Self 00D00004 00D00001 00000000 0012001D ) % Oh, you again. Have you come up with anything? Hmm ...
    EndSwitch
    Return
    End
}

#new:Script $Script_Idle_80246F88
{
    Label  0
    Switch  *StoryProgress
        Case  ==  00000042
            If  *AreaFlag[003]  ==  .True
                Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
                If  *Var[2]  <  FFFFFF7E
                    ExecWait  $Script_8024BA48
                EndIf
            EndIf
    EndSwitch
    Wait  1`
    Goto  0
    Return
    End
}

#new:Script $Script_Interact_80247030
{
    If  *AreaFlag[004]  ==  .False
        Call  SpeakToPlayer ( .Npc:Self 00D10004 00D10001 00000000 001200D3 ) % There's no time to lose. To the Mayor's house!
    Else
        Call  SpeakToPlayer ( .Npc:Self 00D10004 00D10001 00000000 001200D4 ) % Let's get to the bottom of this case right now!
    EndIf
    Return
    End
}

#new:Script $Script_Interact_802470A0
{
    Switch  *StoryProgress
        Case  <  0000003F
            Switch  *MapVar[0]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120045 ) % A really shady individual came to the city recentl ...
                    Set   *MapVar[0]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120046 ) % A really shady individual came to the city recentl ...
                    Set   *MapVar[0]  00000000
            EndSwitch
        Case  <  00000043
            Switch  *MapVar[0]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120047 ) % Ha! I'm not going to help you. I don't socialize w ...
                    Set   *MapVar[0]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120048 ) % Ha! I'm not going to help you. I don't socialize w ...
                    Set   *MapVar[0]  00000000
            EndSwitch
        Case  <  00000057
            Switch  *MapVar[0]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120049 ) % So...you weren't the criminal after all, huh? Ha h ...
                    Set   *MapVar[0]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012004A ) % So...you weren't the criminal after all, huh? Ha h ...
                    Set   *MapVar[0]  00000000
            EndSwitch
        Case  >=  00000057
            Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012004B ) % I've heard that all the Star  Spirits made it back ...
    EndSwitch
    Return
    End
}

#new:Script $Script_Interact_802472B8
{
    Switch  *StoryProgress
        Case  <  0000003F
            Switch  *MapVar[1]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012004C ) % People who travel to here from other towns must th ...
                    Set   *MapVar[1]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012004D ) % People who travel to here from other towns must th ...
                    Set   *MapVar[1]  00000000
            EndSwitch
        Case  <  00000043
            Switch  *MapVar[1]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012004E ) % Herringway? Why, he's a mystery novelist who lives ...
                    Set   *MapVar[1]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012004F ) % Herringway? Why, he's a mystery novelist who lives ...
                    Set   *MapVar[1]  00000000
            EndSwitch
        Case  <  00000057
            Switch  *MapVar[1]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120050 ) % Boy, thank goodness the Mayor is doing OK. He real ...
                    Set   *MapVar[1]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120051 ) % Boy, thank goodness the Mayor is doing OK. He real ...
                    Set   *MapVar[1]  00000000
            EndSwitch
        Case  >=  00000057
            Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120052 ) % So, Mario, you're finally going to fight against B ...
    EndSwitch
    Return
    End
}

#new:Script $Script_Interact_802474D0
{
    Switch  *StoryProgress
        Case  <  0000003F
            Switch  *MapVar[2]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120053 ) % Pengy pengy penguin pop Feel the rhythm, stop 'n'  ...
                    Set   *MapVar[2]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120054 ) % Pengy pengy penguin pop Feel the rhythm, stop 'n'  ...
                    Set   *MapVar[2]  00000000
            EndSwitch
        Case  <  00000043
            Switch  *MapVar[2]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120055 ) % You! Penguin killer!!!! You just keep your distanc ...
                    Set   *MapVar[2]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120056 ) % You! Penguin killer!!!! You just keep your distanc ...
                    Set   *MapVar[2]  00000000
            EndSwitch
        Case  <  00000057
            Switch  *MapVar[2]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120057 ) % Whoa ho ho ho... It's a good thing that murder cas ...
                    Set   *MapVar[2]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120058 ) % Whoa ho ho ho... It's a good thing that murder cas ...
                    Set   *MapVar[2]  00000000
            EndSwitch
        Case  >=  00000057
            Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120059 ) % The last Star Spirit was held near this city, wasn ...
    EndSwitch
    Return
    End
}

#new:Script $Script_Interact_802476E8
{
    Switch  *StoryProgress
        Case  <  0000003F
            Switch  *MapVar[3]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012005A ) % Anyone for a shaved ice treat? Strawberry flavor?  ...
                    Set   *MapVar[3]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012005B ) % Anyone for a shaved ice treat? Strawberry flavor?  ...
                    Set   *MapVar[3]  00000000
            EndSwitch
        Case  <  00000043
            Switch  *MapVar[3]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012005C ) % Herringway? Yes, of course I know him. Everyone in ...
                    Set   *MapVar[3]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012005D ) % Herringway? Yes, of course I know him. Everyone in ...
                    Set   *MapVar[3]  00000000
            EndSwitch
        Case  <  00000057
            Switch  *MapVar[3]
                Case  ==  00000000
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012005E ) % The case has been closed, huh? I'm really happy th ...
                    Set   *MapVar[3]  00000001
                Case  ==  00000001
                    Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 0012005F ) % The case has been closed, huh? I'm really happy th ...
                    Set   *MapVar[3]  00000000
            EndSwitch
        Case  >=  00000057
            Call  SpeakToPlayer ( .Npc:Self 009A0004 009A0001 00000000 00120060 ) % Herringway was writing a new novel in his secret r ...
    EndSwitch
    Return
    End
}

#new:Script $Script_80247900
{
    Call  SetNpcFlagBits    ( 00000009 00000100 .True )
    Call  SetNpcFlagBits    ( 0000000A 00000100 .True )
    Call  SetNpcFlagBits    ( 0000000B 00000100 .True )
    Call  SetNpcFlagBits    ( 0000000C 00000100 .True )
    Call  BindNpcInteract   ( 00000009 00000000 )
    Call  BindNpcInteract   ( 0000000A 00000000 )
    Call  BindNpcInteract   ( 0000000B 00000000 )
    Call  BindNpcInteract   ( 0000000C 00000000 )
    Thread
        Call  SetNpcSpeed       ( 00000009 *Fixed[3.0] )
        Call  SetNpcAnimation   ( 00000009 009A0002 )
        Call  NpcMoveTo ( 00000009 00000258 00000000 00000000 )
        Call  SetNpcAnimation   ( 00000009 009A0001 )
        Call  SetNpcPos ( 00000009 00000000 FFFFFC18 00000000 )
    EndThread
    Wait  10`
    Thread
        Call  SetNpcSpeed       ( 0000000A *Fixed[3.0] )
        Call  SetNpcAnimation   ( 0000000A 009A0002 )
        Call  NpcMoveTo ( 0000000A 00000258 00000000 00000000 )
        Call  SetNpcAnimation   ( 0000000A 009A0001 )
        Call  SetNpcPos ( 0000000A 00000000 FFFFFC18 00000000 )
    EndThread
    Wait  10`
    Thread
        Call  SetNpcSpeed       ( 0000000B *Fixed[3.0] )
        Call  SetNpcAnimation   ( 0000000B 009A0002 )
        Call  NpcMoveTo ( 0000000B 00000258 00000000 00000000 )
        Call  SetNpcAnimation   ( 0000000B 009A0001 )
        Call  SetNpcPos ( 0000000B 00000000 FFFFFC18 00000000 )
    EndThread
    Wait  10`
    Thread
        Call  SetNpcSpeed       ( 0000000C *Fixed[3.0] )
        Call  SetNpcAnimation   ( 0000000C 009A0002 )
        Call  NpcMoveTo ( 0000000C 00000258 00000000 00000000 )
        Call  SetNpcAnimation   ( 0000000C 009A0001 )
        Call  SetNpcPos ( 0000000C 00000000 FFFFFC18 00000000 )
    EndThread
    Return
    End
}

#new:Script $Script_Interact_80247BF4
{
    Switch  *StoryProgress
        Case  <  00000043
            Call  SpeakToPlayer ( 00000009 009A0004 009A0001 00000005 00120061 ) % Mayor Penguin was murdered! In his back room! And  ...
            Wait  10`
            Call  SpeakToPlayer ( 0000000A 009A0004 009A0001 00000005 00120062 ) % Oh! It can't be! It's like we're in one of Herring ...
            Wait  10`
            Call  SpeakToPlayer ( 0000000B 009A0004 009A0001 00000005 00120063 ) % The Mayor's wife said the man with the mustache di ...
            Wait  10`
            Call  SpeakToPlayer ( 0000000C 009A0004 009A0001 00000005 00120064 ) % Brrr! How terrifying! It just goes to show you tha ...
        Case  ==  00000043
            Call  SpeakToPlayer ( 00000009 009A0004 009A0001 00000005 00120065 ) % The Mayor wasn't murdered! He just whacked his own ...
            Wait  10`
            Call  SpeakToPlayer ( 0000000A 009A0004 009A0001 00000005 00120066 ) % But that means... ...the man with the mustache was ...
            Wait  10`
            Call  SpeakToPlayer ( 0000000B 009A0004 009A0001 00000005 00120067 ) % Yeah, you're right! Hey, I solved the case! The cr ...
            Wait  10`
            Call  SpeakToPlayer ( 0000000C 009A0004 009A0001 00000005 00120068 ) % Waaaa ha ha ha ha! Who would've believed we'd have ...
            Exec  $Script_80247900
            Wait  1`
    EndSwitch
    Return
    End
}

#new:Script $Script_Interact_80247D90
{
    ExecWait  $Script_Interact_80247BF4
    Return
    End
}

#new:Script $Script_Interact_80247DAC
{
    ExecWait  $Script_Interact_80247BF4
    Return
    End
}

#new:Script $Script_Interact_80247DC8
{
    ExecWait  $Script_Interact_80247BF4
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_80247DE4
{
    Call  ShowMessageAtScreenPos    ( 00120004 000000A0 00000028 ) % Something's inside the box. It's quite heavy. What ...
    Return
    End
}

#new:Script $Script_Init_80247E0C
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_8024672C )
    Switch  *StoryProgress
        Case  <  00000043
            Call  SetNpcPos ( .Npc:Self FFFFFEF2 00000000 FFFFFF33 )
            Call  InterpNpcYaw      ( .Npc:Self 000000B4 00000000 )
            Call  SetNpcAnimation   ( .Npc:Self 00CE0005 )
        Case  >=  00000043
            Call  SetNpcPos ( .Npc:Self FFFFFED4 00000000 FFFFFF60 )
    EndSwitch
    Return
    End
}

#new:Script $Script_Init_80247EC0
{
    Call  SetNpcPos     ( .Npc:Self 00000000 FFFFFC18 00000000 )
    Call  InterpNpcYaw  ( .Npc:Self 000000B7 00000000 )
    Return
    End
}

#new:Script $Script_Init_80247F04
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80246D90 )
    Switch  *StoryProgress
        Case  <  0000003F
            Call  SetNpcPos ( .Npc:Self FFFFFECA 00000000 0000005E )
        Case  <  00000043
            Call  SetNpcPos ( .Npc:Self FFFFFED7 00000000 FFFFFFBB )
        Case  >=  00000043
            Call  SetNpcPos ( .Npc:Self FFFFFED7 00000000 FFFFFFBB )
    EndSwitch
    Return
    End
}

#new:Script $Script_Init_80247FB4
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80246F0C )
    Call  BindNpcIdle       ( .Npc:Self $Script_Idle_80246F88 )
    Switch  *StoryProgress
        Case  <  0000003F
            Call  SetNpcPos ( .Npc:Self 00000000 FFFFFC18 00000000 )
        Case  <  00000043
            Call  SetNpcPos ( .Npc:Self FFFFFF01 00000000 FFFFFF4E )
    EndSwitch
    Return
    End
}

#new:Script $Script_Init_80248050
{
    Switch  *StoryProgress
        Case  <  00000041
            Call  SetNpcFlagBits    ( .Npc:Self 00000004 .True )
            Call  SetNpcPos ( .Npc:Self 00000000 FFFFFC18 00000000 )
        Case  <  00000042
            Call  SetNpcPos     ( .Npc:Self 00000000 FFFFFC18 00000000 )
            Call  InterpNpcYaw  ( .Npc:Self 0000010E 00000000 )
        Case  <  00000043
            Call  BindNpcInteract   ( 00000004 $Script_Interact_80247030 )
            Call  SetNpcPos ( .Npc:Self FFFFFF1C 00000000 0000005B )
            Call  InterpNpcYaw      ( .Npc:Self 0000010E 00000000 )
        Case  >=  00000043
            Call  SetNpcFlagBits    ( .Npc:Self 00000004 .True )
            Call  SetNpcPos ( .Npc:Self 00000000 FFFFFC18 00000000 )
    EndSwitch
    Return
    End
}

#new:Script $Script_Init_80248188
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_802470A0 )
    Return
    End
}

#new:Script $Script_Init_802481AC
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_802472B8 )
    Return
    End
}

#new:Script $Script_Init_802481D0
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_802474D0 )
    Return
    End
}

#new:Script $Script_Init_802481F4
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_802476E8 )
    Return
    End
}

#new:Script $Script_Init_80248218
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80247BF4 )
    Switch  *StoryProgress
        Case  <  0000003F
        Case  <  00000043
            Call  SetNpcPos ( .Npc:Self FFFFFF6A 00000000 00000000 )
        Case  >=  00000043
    EndSwitch
    Return
    End
}

#new:Script $Script_Init_80248290
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80247D90 )
    Switch  *StoryProgress
        Case  <  0000003F
        Case  <  00000043
            Call  SetNpcPos ( .Npc:Self FFFFFFA6 00000000 00000000 )
        Case  >=  00000043
    EndSwitch
    Return
    End
}

#new:Script $Script_Init_80248308
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80247DAC )
    Switch  *StoryProgress
        Case  <  0000003F
        Case  <  00000043
            Call  SetNpcPos ( .Npc:Self FFFFFF88 00000000 FFFFFFE2 )
        Case  >=  00000043
    EndSwitch
    Return
    End
}

#new:Script $Script_Init_80248380
{
    Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80247DC8 )
    Switch  *StoryProgress
        Case  <  0000003F
        Case  <  00000043
            Call  SetNpcPos ( .Npc:Self FFFFFF88 00000000 0000001E )
        Case  >=  00000043
    EndSwitch
    Return
    End
}

#new:Script $Script_Init_802483F8
{
    If  *StoryProgress  <  00000043
        Call  SetNpcFlagBits    ( 0000000D 10000002 .True )
        Call  EnableNpcShadow   ( 0000000D .False )
        Call  SetNpcPos ( 0000000D FFFFFEBB 00000000 FFFFFF10 )
    EndIf
    Return
    End
}

#new:NpcGroup $NpcGroup_80248468
{
    00000000 $NpcSettings_802436D0 ~Vec3f:NPC_80248468 % -272 0 -180
    00400C09 $Script_Init_80247E0C 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80248468
    ~AnimationTable:NPC_80248468 % .Sprite:MayorPenguin
    00000000 00000000 00000000 001A00E6 % This is the mayor of Shiver City, Mayor Penguin. H ...
    %
    % $NpcGroup_80248468[1F0]
    00000001 $NpcSettings_802436D0 ~Vec3f:NPC_80248658 % -272 0 -180
    00404E09 $Script_Init_80247EC0 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80248658
    ~AnimationTable:NPC_80248658 % .Sprite:MayorPenguin
    00000000 00000000 00000000 001A00E6 % This is the mayor of Shiver City, Mayor Penguin. H ...
    %
    % $NpcGroup_80248468[3E0]
    00000002 $NpcSettings_802436D0 ~Vec3f:NPC_80248848 % -316 0 113
    00400C09 $Script_Init_80247F04 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80248848
    ~AnimationTable:NPC_80248848 % .Sprite:MayorPenguinWife
    00000000 00000000 00000000 001A00E5 % She's the wife of Mayor Penguin, who's the mayor o ...
    %
    % $NpcGroup_80248468[5D0]
    00000003 $NpcSettings_802436D0 ~Vec3f:NPC_80248A38 % 0 -1000 0
    00400D09 $Script_Init_80247FB4 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_80248A38
    ~AnimationTable:NPC_80248A38 % .Sprite:PenguinPatrol
    00000000 00000000 00000000 001A00F3 % He's the penguin patrol! Guardian of the city! He  ...
    %
    % $NpcGroup_80248468[7C0]
    00000004 $NpcSettings_802436D0 ~Vec3f:NPC_80248C28 % 0 0 0
    00400D09 $Script_Init_80248050 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_80248C28
    ~AnimationTable:NPC_80248C28 % .Sprite:Herringway
    00000000 00000000 00000000 001A00F5 % This penguin made a secret room in his house to hi ...
    %
    % $NpcGroup_80248468[9B0]
    00000005 $NpcSettings_802436A4 ~Vec3f:NPC_80248E18 % -150 0 400
    00400C09 $Script_Init_80248188 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_80248E18
    ~AnimationTable:NPC_80248E18 % .Sprite:Penguin
    00000000 00000000 00000000 001A00E7 % This penguin who likes gossip. He wanders around t ...
    %
    % $NpcGroup_80248468[BA0]
    00000006 $NpcSettings_802436A4 ~Vec3f:NPC_80249008 % 100 0 250
    00400C09 $Script_Init_802481AC 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_80249008
    ~AnimationTable:NPC_80249008 % .Sprite:Penguin
    00000000 00000000 00000000 001A00E8 % He's a friendly penguin. He seems to be very fair.
    %
    % $NpcGroup_80248468[D90]
    00000007 $NpcSettings_802436A4 ~Vec3f:NPC_802491F8 % 400 0 50
    00400C09 $Script_Init_802481D0 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_802491F8
    ~AnimationTable:NPC_802491F8 % .Sprite:Penguin
    00000000 00000000 00000000 001A00E9 % He's a cheerful penguin. He looks fun but a bit re ...
    %
    % $NpcGroup_80248468[F80]
    00000008 $NpcSettings_802436D0 ~Vec3f:NPC_802493E8 % 350 0 -190
    00400C09 $Script_Init_802481F4 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_802493E8
    ~AnimationTable:NPC_802493E8 % .Sprite:Penguin
    00000000 00000000 00000000 001A00EA % There aren't many non-penguins, so we stand out in ...
}

#new:NpcGroup $NpcGroup_802495D8
{
    00000009 $NpcSettings_802436D0 ~Vec3f:NPC_802495D8 % 0 -1000 0
    00600D09 $Script_Init_80248218 00000000 00000000 0000005A
    ~NoDrops
    ~Movement:NPC_802495D8
    ~AnimationTable:NPC_802495D8 % .Sprite:Penguin
    00000000 00000000 00000000 001A00ED % These penguins love rumors. They gather together j ...
    %
    % $NpcGroup_802495D8[1F0]
    0000000A $NpcSettings_802436D0 ~Vec3f:NPC_802497C8 % 0 -1000 0
    00600D09 $Script_Init_80248290 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_802497C8
    ~AnimationTable:NPC_802497C8 % .Sprite:Penguin
    00000000 00000000 00000000 001A00EE % He likes rumors. He doesn't look like the adventur ...
    %
    % $NpcGroup_802495D8[3E0]
    0000000B $NpcSettings_802436D0 ~Vec3f:NPC_802499B8 % 0 -1000 0
    00600D09 $Script_Init_80248308 00000000 00000000 000000B4
    ~NoDrops
    ~Movement:NPC_802499B8
    ~AnimationTable:NPC_802499B8 % .Sprite:Penguin
    00000000 00000000 00000000 001A00EA % There aren't many non-penguins, so we stand out in ...
    %
    % $NpcGroup_802495D8[5D0]
    0000000C $NpcSettings_802436D0 ~Vec3f:NPC_80249BA8 % 0 -1000 0
    00600D09 $Script_Init_80248380 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_80249BA8
    ~AnimationTable:NPC_80249BA8 % .Sprite:Penguin
    00000000 00000000 00000000 001A00EA % There aren't many non-penguins, so we stand out in ...
}

#new:NpcGroup $NpcGroup_80249D98
{
    0000000D $NpcSettings_802436D0 ~Vec3f:NPC_80249D98 % 0 0 0
    00400D09 $Script_Init_802483F8 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_80249D98
    ~AnimationTable:NPC_80249D98 % .Sprite:Penguin
    00000000 00000000 00000000 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80249F88
{
    0000000E $NpcSettings_80245C68 ~Vec3f:NPC_80249F88 % 230 0 150
    00002D09 00000000 00000001 00050300 0000005A
    ~NoDrops
    ~Movement:NPC_80249F88
    ~AnimationTable:NPC_80249F88 % .Sprite:ChuckQuizmo
    00000000 00000000 00000000 001A0002 % He's Chuck Quizmo. He tries to quiz anybody who sp ...
}

#new:NpcGroupList $NpcGroupList_8024A178
{
    00000009 $NpcGroup_80248468 00000001
    00000004 $NpcGroup_802495D8 00000001
    00000001 $NpcGroup_80249D98 00000001
    00000001 $NpcGroup_80249F88 00000000
    00000000 00000000 00000000
}

#new:NpcGroupList $NpcGroupList_8024A1B4
{
    00000009 $NpcGroup_80248468 00000001
    00000004 $NpcGroup_802495D8 00000001
    00000001 $NpcGroup_80249D98 00000001
    00000001 $NpcGroup_80249F88 00000000
    00000000 00000000 00000000
}

#new:NpcGroupList $NpcGroupList_8024A1F0
{
    00000009 $NpcGroup_80248468 00000001
    00000001 $NpcGroup_80249F88 00000000
    00000000 00000000 00000000
}

PADDING: 8024A214 to 8024A220 (0000A214 to 0000A220)
00000000 00000000 00000000

#new:Script $Script_8024A220
{
    Call  GetNpcPos ( 00000000 *Var[0] *Var[1] *Var[2] )
    Call  GetNpcPos ( 0000000D *Var[3] *Var[4] *Var[5] )
    Sub   *Var[3]  *Var[0]
    Sub   *Var[4]  *Var[1]
    Sub   *Var[5]  *Var[2]
    Add   *Var[3]  00000003
    Add   *Var[5]  00000005
    Label  0
    Call  GetNpcPos ( 00000000 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  *Var[3]
    Add   *Var[1]  *Var[4]
    Add   *Var[2]  *Var[5]
    Call  SetNpcPos ( 0000000D *Var[0] *Var[1] *Var[2] )
    Set   *Var[6]  *Var[0]
    Sub   *Var[6]  0000000A
    Call  SetItemPos    ( *MapVar[4] *Var[6] *Var[1] *Var[2] )
    Wait  1`
    Goto  0
    Return
    End
}

#new:Script $Script_8024A380
{
    Call  $Function_80241A80    ( *MapVar[4] *Var[A] *Var[B] *Var[C] )
    Loop  00000006
        Call  SetItemPos    ( *MapVar[4] *Var[A] *Var[B] *Var[C] )
        Add   *Var[C]  0000000A
        Wait  1`
    EndLoop
    Loop
        Call  GetNpcPos     ( 00000004 *Var[0] *Var[1] *Var[2] )
        Add   *Var[2]  00000014
        Call  SetItemPos    ( *MapVar[4] *Var[0] *Var[B] *Var[2] )
        Wait  1`
    EndLoop
    Return
    End
}

#new:Script $Script_8024A460
{
    Call  PlaySoundAtCollider   ( ~Collider:ttsn .Sound:BasicDoorOpen 00000000 )
    Call  MakeLerp  ( 00000000 00000050 00000014 .Easing:CosInOut )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o236 *Var[0] 00000000 FFFFFFFF 00000000 )
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
        Wait  1`
    EndLoop
    Return
    End
}

#new:Script $Script_8024A510
{
    Call  MakeLerp  ( 00000050 00000000 00000014 .Easing:CosInOut )
    Loop
        Call  UpdateLerp ( )
        Call  RotateModel   ( ~Model:o236 *Var[0] 00000000 FFFFFFFF 00000000 )
        If  *Var[1]  ==  00000000
            BreakLoop
        EndIf
        Wait  1`
    EndLoop
    Call  PlaySoundAtCollider   ( ~Collider:ttsn .Sound:BasicDoorClose 00000000 )
    Return
    End
}

#new:Script $Script_8024A5C0
{
    Call  802D2B6C ( )
    Call  SetNpcFlagBits    ( 00000000 00000100 .True )
    Call  SetNpcFlagBits    ( 00000002 00000100 .True )
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Call  GetPlayerPos      ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget      ( .Cam:Default *Fixed[-236.1] *Fixed[0.0] *Fixed[-45.6] )
    Call  SetCamPosA        ( .Cam:Default *Fixed[-300.0] *Fixed[-53.7] )
    Call  SetCamDistance    ( .Cam:Default *Fixed[300.0] )
    Call  SetCamSpeed       ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget       ( .Cam:Default 00000000 00000001 )
    Wait  20`
    ExecWait  $Script_8024A460
    Thread
        Wait  20`
        ExecWait  $Script_8024A510
    EndThread
    Call  SetNpcFlagBits    ( 00000002 00000040 .True )
    Call  SetNpcPos     ( 00000002 FFFFFF01 00000000 0000001C )
    Call  SetNpcSpeed   ( 00000002 *Fixed[2.0] )
    Call  SetNpcAnimation   ( 00000002 00CF0002 )
    Call  NpcMoveTo     ( 00000002 FFFFFF01 FFFFFFE2 00000000 )
    Call  SetNpcAnimation   ( 00000002 00CF0001 )
    Call  SpeakToPlayer ( 00000002 00CF0004 00CF0001 00000000 00120005 ) % Darling, would you like a cup of tea? ....... Hmm? ...
    Call  SetPanTarget  ( .Cam:Default FFFFFF01 00000000 FFFFFF6A )
    Call  SetCamDistance    ( .Cam:Default *Fixed[400.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[1.4] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  DisablePartnerAI  ( 00000000 )
    Call  SetPlayerPos  ( FFFFFEE4 00000000 FFFFFF5B )
    Call  InterpPlayerYaw   ( 000000B4 00000000 )
    Call  SetNpcPos     ( .Npc:Partner FFFFFEC0 00000000 FFFFFF42 )
    Call  InterpNpcYaw  ( .Npc:Partner 000000B4 00000000 )
    Call  SetNpcAnimation   ( 00000002 00CF0002 )
    Call  NpcMoveTo     ( 00000002 FFFFFF01 FFFFFFD8 00000000 )
    Call  SetPlayerAnimation    ( 00080007 )
    Call  NpcMoveTo     ( 00000002 FFFFFF01 FFFFFF5B 00000000 )
    Call  InterpPlayerYaw   ( 00000000 00000000 )
    Call  InterpNpcYaw  ( .Npc:Partner 00000000 00000000 )
    Call  NpcMoveTo     ( 00000002 FFFFFF01 FFFFFF47 00000000 )
    Call  SetNpcAnimation   ( 00000002 00CF0001 )
    Call  PlaySoundAtNpc    ( 00000002 00000262 00000000 )
    Call  ShowEmote     ( 00000002 .Emote:Exclamation 00000000 0000001E 00000001 00000000 00000000 00000000 00000000 )
    Wait  30`
    Call  SetNpcAnimation   ( 00000002 00CF0002 )
    Call  SetNpcSpeed   ( 00000002 *Fixed[0.5] )
    Call  NpcMoveTo     ( 00000002 FFFFFF01 FFFFFF38 00000000 )
    Call  SetNpcAnimation   ( 00000002 00CF0006 )
    Wait  35`
    Thread
        Call  SetMusicTrack     ( 00000000 .Song:PenguinWhodunit 00000000 00000008 )
        Call  SetNpcAnimation   ( 00000002 00CF0009 )
        Set   *MapFlag[00]  .False
        Call  SpeakToPlayer     ( 00000002 00CF0009 00CF0009 00000000 00120006 ) %  Nooooooooooooooooooooooooooo!!
        Set   *MapFlag[00]  .True
    EndThread
    Call  802D7CF8  ( 00000000 00000000 00000000 00000140 000000F0 00000080 0000000A )
    Loop  00000005
        Call  GetNpcPos     ( 00000002 *Var[0] *Var[1] *Var[2] )
        Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetCamDistance    ( .Cam:Default *Fixed[210.0] )
        Call  SetCamSpeed   ( .Cam:Default *Fixed[10.0] )
        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
        Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
        Call  GetNpcPos     ( 00000002 *Var[0] *Var[1] *Var[2] )
        Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetCamDistance    ( .Cam:Default *Fixed[400.0] )
        Call  SetCamSpeed   ( .Cam:Default *Fixed[10.0] )
        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
        Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    EndLoop
    Call  802D7CF8  ( 00000000 00000000 00000000 00000140 000000F0 00000000 0000000A )
    Label  2
    If  *MapFlag[00]  ==  .False
        Wait  1`
        Goto  2
    EndIf
    Wait  20`
    Call  SetNpcSpeed   ( 00000002 *Fixed[6.0] )
    Call  SetNpcAnimation   ( 00000002 00CF0003 )
    Call  NpcMoveTo     ( 00000002 FFFFFF01 00000000 00000000 )
    Call  SetNpcPos     ( 00000002 FFFFFF01 00000000 0000003C )
    Wait  30`
    Set   *MapFlag[00]  .False
    Thread
        Wait  20`
        Call  SetPlayerAnimation    ( 0001002B )
        Wait  60`
        Set   *MapFlag[00]  .True
    EndThread
    Call  ShowMessageAtScreenPos    ( 00120007 000000A0 00000028 ) % Help! Somebody! Anybody! My husband is dead!! He's ...
    Label  64
    If  *MapFlag[00]  ==  .False
        Wait  1`
        Goto  64
    EndIf
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SetCamDistance    ( .Cam:Default *Fixed[600.0] )
    Call  SetCamPitch       ( .Cam:Default *Fixed[15.0] *Fixed[-8.0] )
    Call  SetCamSpeed       ( .Cam:Default *Fixed[0.6] )
    Call  PanToTarget       ( .Cam:Default 00000000 00000001 )
    Call  InterpPlayerYaw   ( 000000B4 00000005 )
    Wait  20`
    Call  InterpPlayerYaw   ( 00000000 00000005 )
    Wait  90`
    Thread
        Wait  10`
        Call  InterpPlayerYaw   ( 000000B4 00000005 )
    EndThread
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Fixed[-236.1] *Fixed[0.0] *Fixed[-45.6] )
    Call  SetCamPosA    ( .Cam:Default *Fixed[-300.0] *Fixed[-53.7] )
    Call  SetCamDistance    ( .Cam:Default *Fixed[300.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  SetNpcPos     ( .Npc:Partner FFFFFECE 00000000 FFFFFF8C )
    Call  SetNpcYaw     ( .Npc:Partner 00000000 )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  30`
    Call  SpeakToPlayer ( 00000002 00CF0009 00CF0009 00000005 00120008 ) % What's going on here, madam? Just calm down, now.  ...
    Wait  20`
    ExecWait  $Script_8024A460
    Thread
        Wait  30`
        ExecWait  $Script_8024A510
    EndThread
    Thread
        Set   *MapFlag[00]  .False
        Call  SetNpcPos ( 00000003 FFFFFF01 00000000 00000032 )
        Call  SetNpcSpeed       ( 00000003 *Fixed[2.0] )
        Call  SetNpcAnimation   ( 00000003 00D00002 )
        Call  NpcMoveTo ( 00000003 FFFFFF01 FFFFFFB5 00000000 )
        Call  SetNpcAnimation   ( 00000003 00D00001 )
        Set   *MapFlag[00]  .True
    EndThread
    Call  SetNpcPos ( 00000002 FFFFFF01 00000000 00000050 )
    Call  SetNpcSpeed       ( 00000002 *Fixed[2.0] )
    Call  SetNpcAnimation   ( 00000002 00CF0002 )
    Call  NpcMoveTo ( 00000002 FFFFFF01 FFFFFFEC 00000000 )
    Call  SetNpcAnimation   ( 00000002 00CF0001 )
    Label  5
    If  *MapFlag[00]  ==  .False
        Wait  1`
        Goto  5
    EndIf
    Call  SpeakToPlayer ( 00000002 00CF0008 00CF0007 00000000 00120009 ) % My husband is dead! Look at him lying there! Oh, m ...
    Call  InterpNpcYaw  ( 00000003 000000B4 00000000 )
    Wait  30`
    Call  InterpNpcYaw  ( 00000003 00000000 00000000 )
    Call  SetPanTarget  ( .Cam:Default FFFFFF01 00000000 FFFFFF6A )
    Call  SetCamDistance    ( .Cam:Default *Fixed[400.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[1.4] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Thread
        Wait  30`
        Call  PlayerMoveTo      ( FFFFFEC5 FFFFFF6A 00000014 )
        Call  InterpPlayerYaw   ( 00000000 00000000 )
    EndThread
    Call  SetNpcAnimation   ( 00000003 00D00002 )
    Call  NpcMoveTo ( 00000003 FFFFFF01 FFFFFF4C 00000000 )
    Call  SetNpcAnimation   ( 00000003 00D00001 )
    Wait  20`
    Thread
        Set   *MapFlag[00]  .False
        Call  SetNpcAnimation   ( 00000002 00CF0002 )
        Call  NpcMoveTo ( 00000002 FFFFFF01 FFFFFFBA 00000000 )
        Call  SetNpcAnimation   ( 00000002 00CF0001 )
        Set   *MapFlag[00]  .True
    EndThread
    Call  SetNpcAnimation   ( 00000003 00D00006 )
    Wait  30`
    Call  SetNpcAnimation   ( 00000003 00D00001 )
    Call  SpeakToPlayer     ( 00000003 00D00004 00D00001 00000000 0012000A ) % By puffin, you're right! The Mayor's been murdered ...
    Label  6
    If  *MapFlag[00]  ==  .False
        Wait  1`
        Goto  6
    EndIf
    Call  SpeakToPlayer ( 00000002 00CF0008 00CF0007 00000000 0012000B ) % Him! Right there! That man with the suspicious mus ...
    Wait  20`
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom       ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Fixed[-340.5] *Fixed[0.0] *Fixed[-180.7] )
    Call  SetCamPosA    ( .Cam:Default *Fixed[-463.0] *Fixed[180.0] )
    Call  SetCamPosB    ( .Cam:Default *Fixed[-215.0] *Fixed[-175.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.5] *Fixed[-8.0] )
    Call  SetCamDistance        ( .Cam:Default *Fixed[250.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  GetAngleToPlayer      ( 00000003 *Var[0] )
    Call  InterpNpcYaw  ( 00000003 *Var[0] 00000000 )
    Call  PlayerFaceNpc ( 00000003 00000000 )
    Wait  13`
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000000 0012000C ) % Hey, you... Mustache! Are you listening? This good ...
    Call  SetPlayerAnimation    ( 00090000 )
    Wait  35`
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000000 0012000D ) % Don't try to play ignorant with me, buddy. I'm a p ...
    Wait  30`
    Call  SpeakToPlayer ( 00000002 00CF0008 00CF0007 00000000 0012000E ) % Yes! That's right! He did it in cold blood! I, uh. ...
    Call  SetPlayerAnimation    ( 00090000 )
    Wait  20`
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000000 0012000F ) % So you're sticking to your story, claiming you're  ...
    Call  SetPlayerAnimation    ( .PlayerAnim:NodYes )
    Wait  20`
    Call  SetPlayerAnimation    ( 00010002 )
    Call  GetCurrentPartnerID   ( *Var[0] )
    Switch  *Var[0]
        Case  ==  .Partner:Goombario % 1
            Call  SpeakToNpc    ( .Npc:Partner 00010008 00010001 00000000 00000003 00120010 ) % What's your problem? You don't actually think Mari ...
        Case  ==  .Partner:Kooper % 2
            Call  SpeakToNpc    ( .Npc:Partner 0002000D 00020003 00000000 00000003 00120011 ) % Are you crazy? Do you really think Mario would do  ...
        Case  ==  .Partner:Bombette % 3
            Call  SpeakToNpc    ( .Npc:Partner 0003000E 00030003 00000000 00000003 00120012 ) % Don't be ridiculous! Mario didn't do it!
        Case  ==  .Partner:Parakarry % 4
            Call  SpeakToNpc    ( .Npc:Partner 00040006 00040001 00000000 00000003 00120013 ) % Mario didn't do it. He's obviously innocent!
        Case  ==  .Partner:Bow % 9
            Call  SpeakToNpc    ( .Npc:Partner 00050004 00050001 00000000 00000003 00120014 ) % I was with him the whole time. I swear on my own g ...
        Case  ==  .Partner:Watt % 6
            Call  SpeakToNpc    ( .Npc:Partner 00060004 00060001 00000000 00000003 00120015 ) % Mario, um, didn't do it! It's mean that you're tre ...
        Case  ==  .Partner:Sushie % 7
            Call  SpeakToNpc    ( .Npc:Partner 00070004 00070001 00000000 00000003 00120016 ) % Hey, use your head! Do you really think Mario is c ...
        Case  ==  .Partner:Lakilester % 8
            Call  SpeakToNpc    ( .Npc:Partner 00080009 00080001 00000000 00000003 00120017 ) % What! Are you nuts, man? Mario's not a murderer! T ...
    EndSwitch
    Wait  10`
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000000 00120018 ) % Hmm... If you're telling the truth, then we're dea ...
    Call  SetPlayerAnimation    ( .PlayerAnim:NodYes )
    Wait  20`
    Call  SetPlayerAnimation    ( 00010002 )
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom       ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Call  SpeakToPlayer ( 00000003 00D00005 00D00007 00000000 00120019 ) % OK... I think I believe you. But this means we hav ...
    Call  SetPlayerAnimation    ( .PlayerAnim:NodYes )
    Wait  20`
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000000 0012001A ) % All right, off with you. You haven't proved that y ...
    Call  SetNpcPos     ( 00000009 FFFFFF6A 00000000 00000000 )
    Call  InterpNpcYaw  ( 00000009 0000005A 00000000 )
    Call  SetNpcPos     ( 0000000A FFFFFFA6 00000000 00000000 )
    Call  InterpNpcYaw  ( 0000000A 0000010E 00000000 )
    Call  SetNpcPos     ( 0000000B FFFFFF88 00000000 FFFFFFE2 )
    Call  InterpNpcYaw  ( 0000000B 000000B4 00000000 )
    Call  SetNpcPos     ( 0000000C FFFFFF88 00000000 0000001E )
    Call  InterpNpcYaw  ( 0000000C 00000000 00000000 )
    Call  SetNpcFlagBits        ( 00000000 00000100 .False )
    Call  SetNpcFlagBits        ( 00000002 00000100 .False )
    Call  EnablePartnerAI ( )
    Set   *StoryProgress  0000003F
    Set   *Byte_SAM_06  00000000
    Set   *MapVar[0]  00000000
    Set   *MapVar[1]  00000000
    Set   *MapVar[2]  00000000
    Set   *MapVar[3]  00000000
    Return
    End
}

#new:Script $Script_8024BA48
{
    Call  DisablePlayerInput    ( .True )
    Call  GetCurrentPartner     ( *Var[0] )
    If  *Var[0]  !=  00000000
        Call  802D2B6C ( )
        Wait  20`
    EndIf
    Thread
        Call  DisablePartnerAI  ( 00000000 )
        Call  SetNpcAnimation   ( .Npc:Partner 00000102 )
        Call  SetNpcSpeed       ( .Npc:Partner *Fixed[3.0] )
        Call  NpcMoveTo ( .Npc:Partner FFFFFEFA FFFFFF99 00000000 )
        Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    EndThread
    Call  GetAngleToPlayer  ( 00000003 *Var[0] )
    Call  InterpNpcYaw  ( 00000003 *Var[0] 00000000 )
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000000 0012001D ) % Oh, you again. Have you come up with anything? Hmm ...
    Call  SetPlayerAnimation    ( 00080007 )
    Wait  40`
    Call  SetPlayerAnimation    ( 00010002 )
    Call  GetNpcPos     ( 00000003 *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default *Fixed[300.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  SetPlayerPos  ( FFFFFF01 00000000 FFFFFF79 )
    Call  PlayerFaceNpc ( 00000003 00000000 )
    Wait  10`
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000000 0012001E ) % What-what!? Mayor Penguin was clutching a piece of ...
    Call  GetNpcPos     ( 00000003 *Var[0] *Var[1] *Var[2] )
    Sub   *Var[2]  0000000A
    Call  SetNpcAnimation   ( 00000003 00D00002 )
    Call  SetNpcSpeed   ( 00000003 *Fixed[2.0] )
    Call  NpcMoveTo     ( 00000003 *Var[0] *Var[2] 00000000 )
    Call  SetNpcAnimation   ( 00000003 00D00001 )
    Wait  20`
    Call  SetNpcAnimation   ( 00000003 00D00006 )
    Wait  30`
    Call  SetNpcAnimation   ( 00000003 00D00001 )
    Wait  10`
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000005 0012001F ) % Hmmm... He definitely does appear to be holding a  ...
    Call  GetAngleToPlayer  ( 00000003 *Var[0] )
    Call  InterpNpcYaw  ( 00000003 *Var[0] 00000000 )
    Call  SetPlayerAnimation    ( .PlayerAnim:NodYes )
    Wait  20`
    Thread
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Sub   *Var[0]  00000014
        Call  PlayerMoveTo  ( *Var[0] *Var[2] 00000014 )
        Call  PlayerFaceNpc ( 00000004 00000000 )
    EndThread
    Thread
        Call  SetNpcAnimation   ( .Npc:Partner 00000102 )
        Call  NpcMoveTo ( .Npc:Partner FFFFFECE FFFFFF8C 0000000A )
        Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
        Call  NpcFaceNpc        ( .Npc:Partner 00000004 00000000 )
    EndThread
    Call  GetNpcPos     ( 00000003 *Var[0] *Var[1] *Var[2] )
    Add   *Var[2]  00000014
    Call  SetNpcAnimation   ( 00000003 00D00002 )
    Call  SetNpcSpeed   ( 00000003 *Fixed[2.0] )
    Call  NpcMoveTo     ( 00000003 *Var[0] *Var[2] 00000000 )
    Call  SetNpcAnimation   ( 00000003 00D00001 )
    Wait  10`
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000000 00120020 ) % So... Mr. Herringway... You cold-hearted murderer! ...
    Call  GetNpcPos     ( 00000004 *Var[0] *Var[1] *Var[2] )
    Call  GetNpcPos     ( 00000003 *Var[3] *Var[4] *Var[5] )
    AddF  *Var[0]  *Var[3]
    AddF  *Var[1]  *Var[4]
    AddF  *Var[2]  *Var[5]
    DivF  *Var[0]  *Fixed[2.0]
    DivF  *Var[1]  *Fixed[2.0]
    DivF  *Var[2]  *Fixed[2.0]
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[2.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  10`
    Call  SpeakToPlayer ( 00000004 00D10004 00D10001 00000000 00120021 ) % Dear man... Do you have any idea how ridiculous yo ...
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Wait  1`
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Call  GetAngleBetweenNPCs   ( 00000002 00000003 *Var[0] )
    Call  InterpNpcYaw  ( 00000002 *Var[0] 00000000 )
    Call  GetAngleBetweenNPCs   ( 00000004 00000003 *Var[0] )
    Call  InterpNpcYaw  ( 00000004 *Var[0] 00000000 )
    Call  PlayerFaceNpc ( 00000003 00000000 )
    Wait  1`
    Call  NpcFaceNpc    ( .Npc:Partner 00000003 00000000 )
    Wait  10`
    Call  SpeakToPlayer ( 00000003 00D00005 00D00007 00000000 00120022 ) % Mmmm... Yes... Yes, you were good friends... Ah ha ...
    Call  GetAngleBetweenNPCs   ( 00000002 00000004 *Var[0] )
    Call  InterpNpcYaw  ( 00000002 *Var[0] 00000000 )
    Call  GetAngleBetweenNPCs   ( 00000003 00000004 *Var[0] )
    Call  InterpNpcYaw  ( 00000003 *Var[0] 00000000 )
    Call  PlayerFaceNpc ( 00000004 00000000 )
    Wait  1`
    Call  NpcFaceNpc    ( .Npc:Partner 00000004 00000000 )
    Wait  10`
    Call  SpeakToPlayer ( 00000004 00D10004 00D10001 00000000 00120023 ) % Oh, come on. Really. You simple, simple penguin. I ...
    Call  GetAngleBetweenNPCs   ( 00000004 00000002 *Var[0] )
    Call  InterpNpcYaw  ( 00000004 *Var[0] 00000000 )
    Call  GetAngleBetweenNPCs   ( 00000003 00000002 *Var[0] )
    Call  InterpNpcYaw  ( 00000003 *Var[0] 00000000 )
    Call  PlayerFaceNpc ( 00000002 00000000 )
    Wait  1`
    Call  NpcFaceNpc    ( .Npc:Partner 00000002 00000000 )
    Wait  10`
    Call  SpeakToPlayer ( 00000002 00CF0008 00CF0007 00000000 00120024 ) % I'd just like to say that I still think the man wi ...
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default *Fixed[300.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.5] *Fixed[-6.5] )
    Call  $Function_80241B20    ( *Var[0] *Var[2] 0000002D )
    Call  SetCamPosA    ( .Cam:Default *Var[0] *Var[1] )
    Call  SetCamPosB    ( .Cam:Default *Var[2] *Var[3] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  GetAngleBetweenNPCs   ( 00000002 00000003 *Var[0] )
    Call  InterpNpcYaw  ( 00000002 *Var[0] 00000000 )
    Call  GetAngleBetweenNPCs   ( 00000004 00000003 *Var[0] )
    Call  InterpNpcYaw  ( 00000004 *Var[0] 00000000 )
    Call  PlayerFaceNpc ( 00000003 00000000 )
    Wait  1`
    Call  NpcFaceNpc    ( .Npc:Partner 00000003 00000000 )
    Wait  10`
    Call  SpeakToPlayer ( 00000003 00D00005 00D00007 00000000 00120025 ) % Hmmmm... This penguin murder mystery is getting mo ...
    Call  SetNpcAnimation   ( 00000000 00CE0006 )
    Wait  30`
    Call  PlaySoundAtNpc    ( 00000000 000003E4 00000000 )
    Call  SetNpcAnimation   ( 00000000 00CE0005 )
    Wait  2`
    Call  SetNpcAnimation   ( 00000000 00CE0006 )
    Wait  20`
    Call  PlaySoundAtNpc    ( 00000000 000003E4 00000000 )
    Call  SetNpcAnimation   ( 00000000 00CE0005 )
    Wait  2`
    Call  SetNpcAnimation   ( 00000000 00CE0006 )
    Wait  20`
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  $Function_80241B20    ( *Var[0] *Var[2] FFFFFFA1 )
    Call  SetCamPosA    ( .Cam:Default *Var[0] *Var[1] )
    Call  SetCamPosB    ( .Cam:Default *Var[2] *Var[3] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[2.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  FadeOutMusic  ( 00000000 000001F4 )
    Call  SpeakToPlayer ( 00000000 00CE0006 00CE0006 00000000 00120026 ) % Uuhhh...
    Call  GetAngleBetweenNPCs   ( 00000003 00000000 *Var[0] )
    Call  InterpNpcYaw  ( 00000003 *Var[0] 00000000 )
    Call  GetAngleBetweenNPCs   ( 00000002 00000000 *Var[0] )
    Call  InterpNpcYaw  ( 00000002 *Var[0] 00000000 )
    Call  GetAngleBetweenNPCs   ( 00000004 00000000 *Var[0] )
    Call  InterpNpcYaw  ( 00000004 *Var[0] 00000000 )
    Call  PlayerFaceNpc ( 00000000 00000000 )
    Call  NpcFaceNpc    ( .Npc:Partner 00000000 00000000 )
    Call  PlaySoundAtNpc    ( 00000000 000003E4 00000000 )
    Call  SetNpcAnimation   ( 00000000 00CE0005 )
    Wait  2`
    Call  SetNpcAnimation   ( 00000000 00CE0006 )
    Wait  20`
    Call  PlaySoundAtNpc    ( 00000000 000003E4 00000000 )
    Call  SetNpcAnimation   ( 00000000 00CE0005 )
    Wait  2`
    Call  SetNpcAnimation   ( 00000000 00CE0006 )
    Wait  20`
    Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  0000000B
    Add   *Var[2]  0000000A
    Call  SetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
    Call  EnableNpcShadow   ( 00000000 .False )
    Call  SetNpcPos     ( 00000001 FFFFFEF2 00000000 FFFFFF33 )
    Thread
        Wait  30`
        Call  SetNpcPos ( 00000001 00000000 FFFFFC18 00000000 )
        Call  EnableNpcShadow   ( 00000000 .True )
    EndThread
    Call  SetNpcAnimation   ( 00000000 00CE0007 )
    Wait  30`
    Call  SetNpcAnimation   ( 00000000 00CE0001 )
    Call  PlaySoundAtNpc    ( 00000000 0000032C 00000000 )
    Call  SetNpcJumpscale   ( 00000000 *Fixed[1.0] )
    Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
    Call  NpcJump0      ( 00000000 *Var[0] 00000000 *Var[2] 0000000A )
    Call  SetMusicTrack ( 00000000 .Song:PenguinWakesUp 00000000 00000008 )
    Call  SpeakToPlayer ( 00000000 00CE0004 00CE0001 00000000 00120027 ) % Oh, my aching... Ouch...
    Call  InterpNpcYaw  ( 00000000 00000000 00000000 )
    Wait  20`
    Call  InterpNpcYaw  ( 00000000 000000B4 00000000 )
    Wait  20`
    Call  SetNpcAnimation   ( 00000002 00CF000A )
    Call  SetNpcJumpscale   ( 00000002 *Fixed[1.0] )
    Call  GetNpcPos     ( 00000002 *Var[0] *Var[1] *Var[2] )
    Call  NpcJump0      ( 00000002 *Var[0] *Var[1] *Var[2] 00000014 )
    Call  SetNpcAnimation   ( 00000002 00CF0001 )
    Call  SpeakToPlayer ( 00000002 00CF0004 00CF0001 00000000 00120028 ) % Eeeeeeek! My husband's returned! He's a ghost!!! E ...
    Wait  30`
    Call  SpeakToPlayer ( 00000000 00CE0004 00CE0001 00000000 00120029 ) % Oh, good gracious! Hello, everyone. What's going o ...
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Wait  1`
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Call  SpeakToNpc    ( 00000003 00D00004 00D00001 00000000 00000000 0012002A ) % What-what?! Mayor! We thought you were dead! Our b ...
    Wait  10`
    Call  SpeakToNpc    ( 00000000 00CE0004 00CE0001 00000000 00000003 0012002B ) % Huh...? What are you talking about?
    Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default *Fixed[280.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  SpeakToPlayer ( 00000000 00CE000B 00CE0001 00000000 0012002C ) % Umm.... I think... I seem to remember going to the ...
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Thread
        Loop  000000C8
            Call  GetAngleBetweenNPCs   ( 00000003 00000000 *Var[0] )
            Call  InterpNpcYaw  ( 00000003 *Var[0] 00000000 )
            Call  GetAngleBetweenNPCs   ( 00000004 00000000 *Var[0] )
            Call  InterpNpcYaw  ( 00000004 *Var[0] 00000000 )
            Call  GetAngleBetweenNPCs   ( 00000002 00000000 *Var[0] )
            Call  InterpNpcYaw  ( 00000002 *Var[0] 00000000 )
            Wait  1`
        EndLoop
    EndThread
    Call  SetNpcFlagBits    ( 0000000D 00000100 .True )
    Call  SetNpcSpeed       ( 00000000 *Fixed[3.0] )
    Call  SetNpcAnimation   ( 00000000 00CE0002 )
    Call  SetNpcFlagBits    ( 00000000 00000100 .True )
    Call  NpcMoveTo ( 00000000 FFFFFEC0 FFFFFEFE 00000000 )
    Call  InterpNpcYaw      ( 00000000 000000B4 00000000 )
    Call  SetNpcAnimation   ( 00000000 00CE0001 )
    Wait  30`
    Thread
        Wait  25`
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Sub   *Var[0]  0000001E
        Call  PlayerMoveTo  ( *Var[0] *Var[2] 00000014 )
        Call  PlayerFaceNpc ( 00000000 00000000 )
        Call  NpcFaceNpc    ( .Npc:Partner 00000000 00000000 )
        Wait  50`
        Call  PlayerFaceNpc ( 00000000 00000000 )
        Call  NpcFaceNpc    ( .Npc:Partner 00000000 00000000 )
    EndThread
    Thread
        Wait  10`
        Set   *Var[0]  00000000
        Loop  00000008
            Call  GetNpcPos ( 0000000D *Var[0] *Var[1] *Var[2] )
            AddF  *Var[1]  *Fixed[1.25]
            Call  SetNpcPos ( 0000000D *Var[0] *Var[1] *Var[2] )
            Wait  1`
        EndLoop
    EndThread
    Call  SetNpcAnimation   ( 00000000 00CE000A )
    Wait  30`
    Exec  $Script_8024A220 *Var[A]
    Call  GetNpcPos     ( 00000004 *Var[0] *Var[1] *Var[2] )
    Add   *Var[2]  FFFFFFE7
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamPosA    ( .Cam:Default *Fixed[-300.0] *Fixed[0.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[0.3] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  SetNpcAnimation   ( 00000000 00CE0008 )
    Call  GetNpcPos     ( 00000004 *Var[0] *Var[1] *Var[2] )
    Add   *Var[2]  FFFFFFDD
    Call  NpcMoveTo     ( 00000000 *Var[0] *Var[2] 00000000 )
    Kill  *Var[A]
    Wait  10`
    Thread
        Wait  10`
        Loop  00000007
            Call  GetNpcPos ( 0000000D *Var[0] *Var[1] *Var[2] )
            Add   *Var[2]  00000001
            Call  SetNpcPos ( 0000000D *Var[0] *Var[1] *Var[2] )
            Wait  1`
        EndLoop
    EndThread
    Wait  30`
    Call  SetNpcFlagBits    ( 00000000 00000100 .False )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SpeakToNpc    ( 00000000 00CE0004 00CE0001 00000000 00000004 0012002D ) % Here you are, Herringway. This is what I was reach ...
    Call  SetNpcAnimation   ( 00000000 00CE0009 )
    Wait  60`
    Call  GetNpcPos     ( 00000004 *Var[0] *Var[1] *Var[2] )
    Add   *Var[2]  FFFFFFFB
    Call  NpcMoveTo     ( 00000004 *Var[0] *Var[2] 00000000 )
    Call  SetNpcAnimation   ( 00000000 00CE0001 )
    Call  SetNpcAnimation   ( 00000004 00D10005 )
    Call  SpeakToNpc    ( 00000004 00D10007 00D10006 00000000 00000000 0012002E ) % Well...uh, thank you, old friend. That's very thou ...
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Wait  20`
    Call  InterpNpcYaw  ( 00000000 00000000 00000000 )
    Call  InterpNpcYaw  ( 00000002 00000000 00000000 )
    Call  InterpNpcYaw  ( 00000004 00000000 00000000 )
    Call  PlayerFaceNpc ( 00000003 00000000 )
    Call  SpeakToPlayer ( 00000003 00D00004 00D00001 00000000 0012002F ) % But Mayor! Here we were thinking that you'd been m ...
    Call  GetNpcPos     ( 00000004 *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[0.3] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Thread
        Wait  10`
        Call  SetNpcSpeed       ( 00000000 *Fixed[3.0] )
        Call  SetNpcFlagBits    ( 00000000 00000100 .True )
        Call  SetNpcAnimation   ( 00000000 00CE0002 )
        Call  NpcMoveTo ( 00000000 FFFFFF07 FFFFFF93 00000000 )
        Call  SetNpcAnimation   ( 00000000 00CE0001 )
        Loop  00000064
            Call  GetAngleBetweenNPCs   ( 00000000 00000003 *Var[0] )
            Call  InterpNpcYaw  ( 00000000 *Var[0] 00000000 )
            Wait  1`
        EndLoop
    EndThread
    Thread
        Loop  00000064
            Call  GetAngleBetweenNPCs   ( 00000002 00000003 *Var[0] )
            Call  InterpNpcYaw  ( 00000002 *Var[0] 00000000 )
            Call  PlayerFaceNpc ( 00000003 00000000 )
            Wait  1`
        EndLoop
    EndThread
    Call  SetNpcFlagBits    ( 00000003 00000100 .True )
    Call  SetNpcSpeed   ( 00000003 *Fixed[3.0] )
    Call  SetNpcAnimation   ( 00000003 00D00002 )
    Call  NpcMoveTo     ( 00000003 FFFFFF2E FFFFFFB0 00000000 )
    Call  NpcMoveTo     ( 00000003 FFFFFF06 FFFFFFF6 00000000 )
    Call  SetNpcAnimation   ( 00000003 00D00001 )
    Call  SetNpcFlagBits    ( 00000003 00000100 .False )
    ExecWait  $Script_8024A460
    Call  SetNpcAnimation   ( 00000003 00D00002 )
    Call  NpcMoveTo     ( 00000003 FFFFFF06 00000032 00000000 )
    Call  SetNpcAnimation   ( 00000003 00D00001 )
    Call  SpeakToPlayer ( 00000000 00CE0004 00CE0001 00000000 00120030 ) % Ah... Yes. So sorry.
    Call  SpeakToPlayer ( 00000004 00D10007 00D10006 00000000 00120031 ) % Ha ha! I thought it rather  entertaining, actually ...
    Exec  $Script_8024A380 *Var[A]
    Call  SetNpcSpeed   ( 00000004 *Fixed[3.0] )
    Call  SetNpcAnimation   ( 00000004 00D10008 )
    Call  NpcMoveTo     ( 00000004 FFFFFF06 00000032 00000000 )
    Call  SetNpcAnimation   ( 00000004 00D10006 )
    Kill  *Var[A]
    Call  RemoveItemEntity  ( *MapVar[4] )
    ExecWait  $Script_8024A510
    Set   *StoryProgress  00000043
    Exec  $Script_80241FB0
    Wait  30`
    Call  SpeakToPlayer ( 00000000 00CE0004 00CE0001 00000005 00120032 ) % Ummm... I have the best intentions, but for some r ...
    Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default *Fixed[250.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[3.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  30`
    Call  SpeakToPlayer ( 00000000 00CE0004 00CE0001 00000000 00120033 ) % Hello. Sorry about all that. I must apologize...   ...
    Call  SetPlayerAnimation    ( 00080007 )
    Wait  20`
    Call  SetPlayerAnimation    ( 00010002 )
    Wait  1`
    Call  SpeakToPlayer ( 00000000 00CE0004 00CE0001 00000000 00120034 ) % ...What's the matter? Oh, you want to hike over to ...
    Call  SetNpcFlagBits    ( 00000000 00000100 .False )
    Call  SetNpcPos     ( 00000003 00000000 FFFFFC18 00000000 )
    Call  SetNpcPos     ( 00000004 00000000 FFFFFC18 00000000 )
    Call  SetNpcFlagBits    ( 00000004 00000004 .True )
    Call  EnableNpcShadow   ( 00000004 .False )
    Call  ResetCam      ( .Cam:Default *Fixed[4.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
    Set   *MapVar[0]  00000000
    Set   *MapVar[1]  00000000
    Set   *MapVar[2]  00000000
    Set   *MapVar[3]  00000000
    Call  SetNpcFlagBits    ( 00000000 00000040 .False )
    Call  SetNpcFlagBits    ( 00000002 00000040 .False )
    Call  SetNpcPos     ( 0000000D 00000000 FFFFFC18 00000000 )
    Call  EnablePartnerAI ( )
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

PADDING: 8024D8E4 to 8024D8F0 (0000D8E4 to 0000D8F0)
00000000 00000000 00000000

% Origin: HEURISTIC
#new:Unknown $???_8024D8F0
{
    00000000
}

#new:Script $Script_8024D8F4
{
    SetGroup  00000000
    Call  802D5830      ( 00000002 )
    Wait  40`
    Call  ShowGotItem   ( *Var[0] .False 00000000 )
    Call  802D5830      ( 00000000 )
    Return
    Return
    End
}

#new:Script $Script_8024D95C
{
    Call  DisablePlayerInput    ( .True )
    Set   *Var[0]  *Var[A]
    If  *Var[A]  !=  00000000
        ExecWait  $Script_8024D8F4
    EndIf
    Switch  *Var[B]
        Case  ==  00000000
            Call  AddItem   ( *Var[A] *Var[0] )
        Case  ==  00000001
            Call  AddKeyItem    ( *Var[A] )
        Case  ==  00000002
            Call  AddBadge  ( *Var[A] *Var[0] )
    EndSwitch
    Wait  15`
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_8024DA3C
{
    Set   *Var[A]  .Item:AttackFXE % 147
    Set   *Var[B]  00000002
    Set   *Flag_SAM_04  .True
    ExecWait  $Script_8024D95C
    Return
    End
}

#new:Script $Script_MakeEntities
{
    Call  MakeEntity    ( .Entity:Chest ~Vec4d:Entity8024DA88 00000000 80000000 )
    Call  AssignFlag    ( *Flag_SAM_04 )
    Call  AssignScript  ( $Script_8024DA3C )
    Call  80111E9C      ( 00000001 )
    If  *StoryProgress  <  00000043
        Call  MakeItemEntity    ( .Item:Present ~Vec3d:Item8024DAF0 .ItemSpawnMode:Decoration 00000000 )
        Set   *MapVar[4]  *Var[0]
    EndIf
    Call  MakeItemEntity    ( .Item:Bucket ~Vec3d:Item8024DB2C .ItemSpawnMode:Decoration 00000000 )
    Set   *MapVar[5]  *Var[0]
    Call  MakeEntity        ( .Entity:HiddenPanel ~Vec4d:Entity8024DB60 ~Model:o341 80000000 )
    Call  AssignPanelFlag   ( *Flag_SAM_05 )
    Return
    End
}

PADDING: 8024DBA8 to 8024DBB0 (0000DBA8 to 0000DBB0)
00000000 00000000

#new:ASCII $ASCII_8024DBB0
{
    "sam_02"
}

PADDING: 8024DBB8 to 8024DBC0 (0000DBB8 to 0000DBC0)
00000000 00000000

