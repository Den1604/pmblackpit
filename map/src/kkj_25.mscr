% Script File: kkj_25.mscr
% Decoded from: 0 to C720 (kkj_25)

#new:Function_Init $Function_Init
{
	LAW       V1, 8007419C
	ADDIU     V0, R0, 2
	SB        V0, 84 (V1)
	JR        RA
	CLEAR     V0
}

PADDING: 80240018 to 80240020 (00000018 to 00000020)
00000000 00000000

#new:Function $Function_80240020
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:increment_status_menu_disabled
	NOP
	LUI       A1, 437F
	JAL       80137DA4
	CLEAR     A0
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 8024004C to 80240050 (0000004C to 00000050)
00000000

#new:Function $Function_80240050
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:increment_status_menu_disabled
	NOP
	LUI       A1, 437F
	JAL       80137DA4
	CLEAR     A0
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 8024007C to 80240080 (0000007C to 00000080)
00000000

#new:Function $Function_80240080
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	LW        V0, C (A0)
	LAH       A2, 8015A552
	JAL       ~Func:set_variable
	LW        A1, 0 (V0)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_802400AC
{
	LW        A0, C0 (A0)
	LW        V1, C (A0)
	ADDIU     V0, R0, 55
	SW        V0, 30 (V1)
	LW        V1, C (A0)
	ADDIU     V0, R0, 2A
	SW        V0, 34 (V1)
	LW        V0, C (A0)
	ADDIU     V1, R0, FF
	SW        V1, 38 (V0)
	LW        V0, C (A0)
	SW        V1, 40 (V0)
	LW        V1, C (A0)
	ADDIU     V0, R0, AF
	SW        V0, 44 (V1)
	LW        V1, C (A0)
	ADDIU     V0, R0, EF
	SW        V0, 48 (V1)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_802400FC
{
	ADDIU     SP, SP, FFC8
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 1C (SP)
	SW        S2, 18 (SP)
	SW        S0, 10 (SP)
	SDC1      F24, 30 (SP)
	SDC1      F22, 28 (SP)
	SDC1      F20, 20 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S2, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	MTC1      V0, F24
	NOP
	CVT.S.W   F24, F24
	JAL       ~Func:get_variable
	COPY      A0, S1
	LW        A1, 0 (S0)
	MTC1      V0, F22
	NOP
	CVT.S.W   F22, F22
	JAL       ~Func:get_variable
	COPY      A0, S1
	MTC1      V0, F20
	NOP
	CVT.S.W   F20, F20
	JAL       ~Func:get_entity_by_index
	COPY      A0, S2
	COPY      V1, V0
	SWC1      F24, 48 (V1)
	SWC1      F22, 4C (V1)
	SWC1      F20, 50 (V1)
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F24, 30 (SP)
	LDC1      F22, 28 (SP)
	LDC1      F20, 20 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 38
}

#new:Function $Function_802401C4
{
	ADDIU     SP, SP, FFE0
	SW        S2, 18 (SP)
	COPY      S2, A0
	SW        RA, 1C (SP)
	SW        S1, 14 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S2)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	JAL       ~Func:get_entity_by_index
	COPY      A0, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      S1, V0
	LWC1      F0, 48 (S1)
	TRUNC.W.S F2, F0
	MFC1      A2, F2
	JAL       ~Func:set_variable
	COPY      A0, S2
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	LWC1      F0, 4C (S1)
	TRUNC.W.S F2, F0
	MFC1      A2, F2
	JAL       ~Func:set_variable
	COPY      A0, S2
	LWC1      F0, 50 (S1)
	LW        A1, 0 (S0)
	TRUNC.W.S F2, F0
	MFC1      A2, F2
	JAL       ~Func:set_variable
	COPY      A0, S2
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80240264
{
	ADDIU     SP, SP, FFC0
	SW        S1, 1C (SP)
	COPY      S1, A0
	SW        RA, 20 (SP)
	SW        S0, 18 (SP)
	SDC1      F24, 38 (SP)
	SDC1      F22, 30 (SP)
	SDC1      F20, 28 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_float_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_float_variable
	MOV.S     F24, F0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_float_variable
	MOV.S     F22, F0
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	MOV.S     F20, F0
	MFC1      A1, F24
	MFC1      A2, F22
	MFC1      A3, F20
	CLEAR     A0
	JAL       80070250
	SW        V0, 10 (SP)
	LW        RA, 20 (SP)
	LW        S1, 1C (SP)
	LW        S0, 18 (SP)
	LDC1      F24, 38 (SP)
	LDC1      F22, 30 (SP)
	LDC1      F20, 28 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 40
}

PADDING: 80240308 to 80240310 (00000308 to 00000310)
00000000 00000000

% Origin: HEURISTIC
#new:Function $Function_80240310
{
	ADDIU     SP, SP, FF10
	CLEAR     A0
	LUI       A1, FD05
	SW        RA, DC (SP)
	SW        S6, D8 (SP)
	SW        S5, D4 (SP)
	SW        S4, D0 (SP)
	SW        S3, CC (SP)
	SW        S2, C8 (SP)
	SW        S1, C4 (SP)
	SW        S0, C0 (SP)
	SDC1      F22, E8 (SP)
	SDC1      F20, E0 (SP)
	JAL       ~Func:get_variable
	ORI       A1, A1, F8A
	LIO       A3, E3000A01
	LIO       T0, D9C0F9FB
	LIO       T2, D9FFFFFF
	LIO       T1, 00200005
	LIO       T3, D7000002
	LIO       T4, E3000F00
	LIO       T5, E3000C00
	LIO       T6, E3001201
	LIO       T7, E3001801
	LIO       S0, E3000D01
	LIO       S2, E3001402
	LIO       S4, E3001700
	LIO       S5, E2001E01
	ADDIU     S3, SP, 40
	COPY      A0, S3
	LUI       S6, 1
	LIA       S1, 8009A66C
	ORI       S6, S6, 1630
	LUI       A1, E700
	LW        V1, 0 (S1)
	MTC1      R0, F20
	COPY      A2, V1
	ADDIU     V1, V1, 8
	SW        V1, 0 (S1)
	SW        A1, 0 (A2)
	ADDIU     A1, V1, 8
	SW        R0, 4 (A2)
	SW        A1, 0 (S1)
	ADDIU     A1, V1, 10
	SW        A3, 0 (V1)
	SW        R0, 4 (V1)
	SW        A1, 0 (S1)
	ADDIU     A1, V1, 18
	SW        T0, 8 (V1)
	SW        R0, C (V1)
	SW        A1, 0 (S1)
	ADDIU     A1, V1, 20
	SW        T2, 10 (V1)
	SW        T1, 14 (V1)
	SW        A1, 0 (S1)
	ADDIU     A1, R0, FFFF
	SW        A1, 1C (V1)
	ADDIU     A1, V1, 28
	SW        T3, 18 (V1)
	SW        A1, 0 (S1)
	ADDIU     A1, V1, 30
	SW        T4, 20 (V1)
	SW        R0, 24 (V1)
	SW        A1, 0 (S1)
	LUI       A1, 8
	SW        A1, 2C (V1)
	ADDIU     A1, V1, 38
	SW        T5, 28 (V1)
	SW        A1, 0 (S1)
	ADDIU     A1, R0, 2000
	SW        A1, 34 (V1)
	ADDIU     A1, V1, 40
	SW        T6, 30 (V1)
	SW        A1, 0 (S1)
	ADDIU     A1, R0, C0
	SW        A1, 3C (V1)
	ADDIU     A1, V1, 48
	SW        T7, 38 (V1)
	SW        A1, 0 (S1)
	ADDIU     A1, V1, 50
	SW        S0, 40 (V1)
	SW        R0, 44 (V1)
	SW        A1, 0 (S1)
	ADDIU     A1, R0, C00
	SW        S2, 48 (V1)
	COPY      S2, V0
	ADDIU     V0, V1, 58
	SW        A1, 4C (V1)
	SW        S4, 50 (V1)
	SW        R0, 54 (V1)
	SW        S5, 58 (V1)
	SW        R0, 5C (V1)
	LW        A1, 10 (S2)
	LW        A2, 14 (S2)
	LW        A3, 18 (S2)
	ADDIU     V1, V1, 60
	SW        V0, 0 (S1)
	JAL       ~Func:guTranslateF
	SW        V1, 0 (S1)
	ADDIU     S0, SP, 80
	SWC1      F20, 10 (SP)
	LW        A1, 20 (S2)
	LIF       F22, 1.0
	MFC1      A2, F20
	MFC1      A3, F22
	JAL       ~Func:guRotateF
	COPY      A0, S0
	COPY      A0, S0
	COPY      A1, S3
	JAL       ~Func:guMtxCatF
	COPY      A2, S3
	SWC1      F22, 10 (SP)
	LW        A1, 24 (S2)
	MFC1      A2, F20
	MFC1      A3, F20
	JAL       ~Func:guRotateF
	COPY      A0, S0
	COPY      A0, S0
	COPY      A1, S3
	JAL       ~Func:guMtxCatF
	COPY      A2, S3
	SWC1      F20, 10 (SP)
	LW        A1, 1C (S2)
	MFC1      A2, F22
	MFC1      A3, F20
	JAL       ~Func:guRotateF
	COPY      A0, S0
	COPY      A0, S0
	COPY      A1, S3
	JAL       ~Func:guMtxCatF
	COPY      A2, S3
	LW        A1, 28 (S2)
	LW        A2, 2C (S2)
	LW        A3, 30 (S2)
	JAL       ~Func:guScaleF
	COPY      A0, S0
	COPY      A0, S0
	COPY      A1, S3
	JAL       ~Func:guMtxCatF
	COPY      A2, S3
	COPY      A0, S3
	LIA       S0, 800741F0
	LIA       S4, 8009A674
	LHU       A1, 0 (S0)
	LW        V0, 0 (S4)
	SLL       A1, A1, 6
	ADDU      A1, A1, S6
	JAL       ~Func:guMtxF2L
	ADDU      A1, V0, A1
	LIO       V0, DA380002
	ADDIU     A0, SP, 30
	LW        A3, 0 (S1)
	LHU       T0, 0 (S0)
	COPY      A1, A3
	SW        V0, 0 (A1)
	ANDI      V0, T0, FFFF
	SLL       V0, V0, 6
	ADDU      V0, V0, S6
	LW        V1, 0 (S4)
	ADDIU     A3, A3, 8
	ADDU      V1, V1, V0
	LUI       V0, 8000
	ADDU      V1, V1, V0
	SW        V1, 4 (A1)
	LW        A1, 8 (S2)
	LW        A2, C (S2)
	ADDIU     T0, T0, 1
	SW        A3, 0 (S1)
	JAL       802DE044
	SH        T0, 0 (S0)
	LW        V1, 30 (SP)
	LW        A0, 34 (SP)
	LHU       V0, 3A (SP)
	LIF       F2, 0.5
	ADDIU     A1, SP, 18
	SH        V0, 20 (SP)
	ANDI      V0, V0, FFFF
	MTC1      V0, F0
	NOP
	CVT.S.W   F0, F0
	SW        V1, 18 (SP)
	SW        A0, 1C (SP)
	SWC1      F0, 34 (S2)
	LHU       V0, 3E (SP)
	CLEAR     A2
	SH        V0, 22 (SP)
	ANDI      V0, V0, FFFF
	MTC1      V0, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 38 (S2)
	LWC1      F0, 38 (SP)
	CVT.S.W   F0, F0
	MUL.S     F0, F0, F2
	NOP
	LHU       V1, 3E (SP)
	ADDIU     V0, R0, FF
	SB        V0, 28 (SP)
	SH        V1, 26 (SP)
	TRUNC.W.S F4, F0
	MFC1      V0, F4
	NOP
	SUBU      V0, R0, V0
	SH        V0, 24 (SP)
	LW        A0, 0 (S2)
	JAL       8013AF70
	COPY      A3, S3
	LUI       A0, D838
	LW        V0, 0 (S1)
	ORI       A0, A0, 2
	COPY      V1, V0
	ADDIU     V0, V0, 8
	SW        V0, 0 (S1)
	ADDIU     V0, R0, 40
	SW        A0, 0 (V1)
	SW        V0, 4 (V1)
	LW        RA, DC (SP)
	LW        S6, D8 (SP)
	LW        S5, D4 (SP)
	LW        S4, D0 (SP)
	LW        S3, CC (SP)
	LW        S2, C8 (SP)
	LW        S1, C4 (SP)
	LW        S0, C0 (SP)
	LDC1      F22, E8 (SP)
	LDC1      F20, E0 (SP)
	JR        RA
	ADDIU     SP, SP, F0
}

% Origin: HEURISTIC
#new:Function $Function_802406EC
{
	ADDIU     SP, SP, FFD8
	SW        S3, 1C (SP)
	COPY      S3, A0
	SW        RA, 20 (SP)
	SW        S2, 18 (SP)
	SW        S1, 14 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S3)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	COPY      A0, S3
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	COPY      S2, V0
	ADDIU     A0, R0, 3C
	JAL       ~Func:heap_malloc
	COPY      S1, V0
	COPY      S0, V0
	LIA       V1, 8010EFC8
	SW        S2, 8 (S0)
	SW        S1, C (S0)
	LH        V0, B0 (V1)
	MTC1      V0, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 34 (S0)
	LH        V0, B2 (V1)
	MTC1      V0, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 38 (S0)
	LWC1      F0, 28 (V1)
	SWC1      F0, 10 (S0)
	LWC1      F0, 2C (V1)
	SWC1      F0, 14 (S0)
	LWC1      F2, 30 (V1)
	LIO       AT, 3F36DB6E
	MTC1      AT, F0
	ADDIU     A0, R0, 1
	SW        R0, 1C (S0)
	SW        R0, 20 (S0)
	SW        R0, 24 (S0)
	SWC1      F0, 28 (S0)
	SWC1      F0, 2C (S0)
	SWC1      F0, 30 (S0)
	JAL       8013A704
	SWC1      F2, 18 (S0)
	CLEAR     A0
	LIA       A1, $Function_80240310
	JAL       80123158
	SW        V0, 0 (S0)
	COPY      A0, S3
	LIO       A1, *MapVar[A]
	COPY      A2, S0
	JAL       ~Func:set_variable
	SW        V0, 4 (S0)
	LW        RA, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 28
}

% Origin: HEURISTIC
#new:Function $Function_80240800
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	CLEAR     A0
	LIO       A1, *MapVar[A]
	SW        RA, 18 (SP)
	JAL       ~Func:get_variable
	SW        S0, 10 (SP)
	COPY      S0, V0
	JAL       8013A854
	LW        A0, 0 (S0)
	JAL       801235C0
	LW        A0, 4 (S0)
	JAL       ~Func:heap_free
	COPY      A0, S0
	COPY      A0, S1
	LIO       A1, *MapVar[A]
	JAL       ~Func:set_variable
	CLEAR     A2
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_8024086C
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 1C (SP)
	SW        S2, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_float_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	TRUNC.W.S F2, F0
	MFC1      S2, F2
	JAL       ~Func:get_float_variable
	COPY      A0, S1
	COPY      A0, S1
	LW        A1, 0 (S0)
	TRUNC.W.S F2, F0
	MFC1      S1, F2
	JAL       ~Func:get_float_variable
	NOP
	CLEAR     A0
	LUI       A1, FD05
	TRUNC.W.S F2, F0
	MFC1      S0, F2
	JAL       ~Func:get_variable
	ORI       A1, A1, F8A
	COPY      V1, V0
	MTC1      S2, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 10 (V1)
	MTC1      S1, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 14 (V1)
	MTC1      S0, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 18 (V1)
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_8024092C
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 1C (SP)
	SW        S2, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_float_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	TRUNC.W.S F2, F0
	MFC1      S2, F2
	JAL       ~Func:get_float_variable
	COPY      A0, S1
	COPY      A0, S1
	LW        A1, 0 (S0)
	TRUNC.W.S F2, F0
	MFC1      S1, F2
	JAL       ~Func:get_float_variable
	NOP
	CLEAR     A0
	LUI       A1, FD05
	TRUNC.W.S F2, F0
	MFC1      S0, F2
	JAL       ~Func:get_variable
	ORI       A1, A1, F8A
	COPY      V1, V0
	MTC1      S2, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 1C (V1)
	MTC1      S1, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 20 (V1)
	MTC1      S0, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 24 (V1)
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_802409EC
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 1C (SP)
	SW        S2, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_float_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	TRUNC.W.S F2, F0
	MFC1      S2, F2
	JAL       ~Func:get_float_variable
	COPY      A0, S1
	COPY      A0, S1
	LW        A1, 0 (S0)
	TRUNC.W.S F2, F0
	MFC1      S1, F2
	JAL       ~Func:get_float_variable
	NOP
	CLEAR     A0
	LUI       A1, FD05
	TRUNC.W.S F2, F0
	MFC1      S0, F2
	JAL       ~Func:get_variable
	ORI       A1, A1, F8A
	COPY      V1, V0
	MTC1      S2, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 28 (V1)
	MTC1      S1, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 2C (V1)
	MTC1      S0, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 30 (V1)
	LW        RA, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_80240AAC
{
	ADDIU     SP, SP, FFE0
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	COPY      S1, V0
	CLEAR     A0
	LIO       A1, *MapVar[A]
	JAL       ~Func:get_variable
	COPY      S0, V0
	COPY      V1, V0
	SW        S1, 8 (V1)
	SW        S0, C (V1)
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_80240B18
{
	ADDIU     SP, SP, FFD0
	SW        S0, 28 (SP)
	COPY      S0, A0
	SW        RA, 2C (SP)
	LWC1      F2, 84 (S0)
	CVT.S.W   F2, F2
	LWC1      F4, 88 (S0)
	CVT.S.W   F4, F4
	LWC1      F6, 8C (S0)
	CVT.S.W   F6, F6
	LWC1      F0, 90 (S0)
	CVT.S.W   F0, F0
	ADDIU     V0, SP, 20
	SWC1      F0, 10 (SP)
	LW        V1, 94 (S0)
	MFC1      A1, F2
	MFC1      A2, F4
	MFC1      A3, F6
	CLEAR     A0
	SW        V0, 18 (SP)
	JAL       80070A30
	SW        V1, 14 (SP)
	LW        V0, 20 (SP)
	SW        V0, 84 (S0)
	LW        RA, 2C (SP)
	LW        S0, 28 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 30
}

#new:Function $Function_80240B8C
{
	LW        V0, 84 (A0)
	LW        V0, C (V0)
	SW        R0, 28 (V0)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_80240BA0
{
	ADDIU     SP, SP, FFD8
	SW        S1, 14 (SP)
	COPY      S1, A0
	SW        RA, 20 (SP)
	SW        S3, 1C (SP)
	SW        S2, 18 (SP)
	SW        S0, 10 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S2, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_variable
	COPY      S3, V0
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	COPY      S0, V0
	LW        V1, C (S2)
	MTC1      S3, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 4 (V1)
	LW        V1, C (S2)
	MTC1      S0, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, 8 (V1)
	LW        V1, C (S2)
	MTC1      V0, F0
	NOP
	CVT.S.W   F0, F0
	SWC1      F0, C (V1)
	LW        RA, 20 (SP)
	LW        S3, 1C (SP)
	LW        S2, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 28
}

#new:Function $Function_80240C60
{
	ADDIU     SP, SP, FFD0
	SW        S0, 28 (SP)
	COPY      S0, A0
	SW        RA, 2C (SP)
	LWC1      F2, 84 (S0)
	CVT.S.W   F2, F2
	LWC1      F4, 88 (S0)
	CVT.S.W   F4, F4
	LWC1      F6, 8C (S0)
	CVT.S.W   F6, F6
	LWC1      F0, 90 (S0)
	CVT.S.W   F0, F0
	ADDIU     V0, SP, 20
	SWC1      F0, 10 (SP)
	LW        V1, 94 (S0)
	MFC1      A1, F2
	MFC1      A2, F4
	MFC1      A3, F6
	CLEAR     A0
	SW        V0, 18 (SP)
	JAL       80070A30
	SW        V1, 14 (SP)
	LW        V0, 20 (SP)
	SW        V0, 84 (S0)
	LW        RA, 2C (SP)
	LW        S0, 28 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 30
}

#new:Function $Function_80240CD4
{
	LW        V0, 84 (A0)
	LW        V0, C (V0)
	SW        R0, 28 (V0)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:Function $Function_80240CE8
{
	ADDIU     SP, SP, FFE8
	LIA       V0, 8010F290
	SW        RA, 10 (SP)
	LBU       A1, 3 (V0)
	LBU       A2, 6 (V0)
	LB        A0, 28E (V0)
	ADDIU     V1, R0, 2
	SB        V1, 292 (V0)
	SLL       A0, A0, 8
	SB        A1, 2 (V0)
	SB        A2, 5 (V0)
	JAL       ~Func:sync_status_menu
	SH        A0, 290 (V0)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240D30
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	COPY      S0, A0
	BEQ       A1, R0, .o1C
	SW        RA, 14 (SP)
	SW        R0, 74 (S0)
	SW        R0, 78 (S0)
	.o1C
	LW        V1, 78 (S0)
	BEQ       V1, R0, .o38
	ADDIU     V0, R0, 1
	BEQ       V1, V0, .o80
	LUI       A0, 8080
	BEQ       R0, R0, .o104
	NOP
	.o38
	CLEAR     A0
	ADDIU     A1, R0, D0
	COPY      A2, A0
	JAL       80137E10
	COPY      A3, A0
	LWC1      F0, 74 (S0)
	CVT.S.W   F0, F0
	MFC1      A1, F0
	JAL       80137D88
	ADDIU     A0, R0, 1
	LW        V0, 74 (S0)
	ADDIU     V1, R0, FF
	BNE       V0, V1, .oF4
	ADDIU     V0, V0, 7
	ADDIU     V0, R0, 1
	SW        R0, 74 (S0)
	BEQ       R0, R0, .o104
	SW        V0, 78 (S0)
	.o80
	LW        V1, 74 (S0)
	ORI       A0, A0, 8081
	SLL       V0, V1, 1
	ADDU      V0, V0, V1
	SLL       V0, V0, 2
	ADDU      V0, V0, V1
	SLL       V0, V0, 4
	MULT      V0, A0
	ADDIU     A1, R0, D0
	CLEAR     A0
	MFHI      T0
	ADDU      A2, T0, V0
	SRA       A2, A2, 7
	SRA       V0, V0, 1F
	SUBU      A2, A2, V0
	ANDI      A2, A2, FF
	JAL       80137E10
	COPY      A3, A2
	LUI       A1, 437F
	JAL       80137D88
	ADDIU     A0, R0, 1
	LW        V0, 74 (S0)
	ADDIU     V1, R0, FF
	BNE       V0, V1, .oF4
	ADDIU     V0, V0, E
	ADDIU     V0, R0, 2
	SW        V0, 78 (S0)
	LW        V0, 74 (S0)
	ADDIU     V0, V0, E
	.oF4
	SW        V0, 74 (S0)
	SLTI      V0, V0, 100
	BEQL      V0, R0, .o104
	SW        V1, 74 (S0)
	.o104
	LW        V0, 78 (S0)
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	XORI      V0, V0, 2
	SLTIU     V0, V0, 1
	SLL       V0, V0, 1
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240E54
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	COPY      S0, A0
	BEQ       A1, R0, .o1C
	SW        RA, 14 (SP)
	ADDIU     V0, R0, FF
	SW        V0, 74 (S0)
	.o1C
	LWC1      F0, 74 (S0)
	CVT.S.W   F0, F0
	MFC1      A1, F0
	JAL       80137D88
	ADDIU     A0, R0, 1
	LW        V0, 74 (S0)
	BNE       V0, R0, .o44
	ADDIU     V0, V0, FFF0
	BEQ       R0, R0, .o54
	ADDIU     V0, R0, 2
	.o44
	BGTZ      V0, .o50
	SW        V0, 74 (S0)
	SW        R0, 74 (S0)
	.o50
	CLEAR     V0
	.o54
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240EB8
{
	ADDIU     SP, SP, FFD0
	SW        S0, 28 (SP)
	COPY      S0, A0
	SW        RA, 2C (SP)
	LWC1      F2, 84 (S0)
	CVT.S.W   F2, F2
	LWC1      F4, 88 (S0)
	CVT.S.W   F4, F4
	LWC1      F6, 8C (S0)
	CVT.S.W   F6, F6
	LWC1      F0, 90 (S0)
	CVT.S.W   F0, F0
	ADDIU     V0, SP, 20
	SWC1      F0, 10 (SP)
	LW        V1, 94 (S0)
	MFC1      A1, F2
	MFC1      A2, F4
	MFC1      A3, F6
	CLEAR     A0
	SW        V0, 18 (SP)
	JAL       80070A30
	SW        V1, 14 (SP)
	LW        V0, 20 (SP)
	SW        V0, 84 (S0)
	LW        RA, 2C (SP)
	LW        S0, 28 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 30
}

#new:Function $Function_80240F2C
{
	LW        V0, 84 (A0)
	LW        V0, C (V0)
	SW        R0, 28 (V0)
	JR        RA
	ADDIU     V0, R0, 2
}

#new:EntryList $EntryList
{
    ~Vec4f:Entry0 % -605.0    0.0    0.0   90.0
}

#new:Header $Header
{
    [MainScript]  $Script_Main
    [EntryList]   $EntryList
    [EntryCount]  00000001
    [Background]  80200000
    [MapTattle]   0019001A
}

#new:Script $Script_ExitDoubleDoor_80240F90
{
    SetGroup  0000001B
    Call  DisablePlayerInput    ( .True )
    Set   *Var[0]  ~Entry:Entry0
    Set   *Var[1]  ~Collider:ttw
    Set   *Var[2]  ~Model:o84
    Set   *Var[3]  ~Model:o85
    Exec  ExitDoubleDoor
    Wait  17`
    Call  GotoMap   ( $ASCII_8024C700 00000001 ) % kkj_24
    Wait  100`
    Return
    End
}

#new:Script $Script_80241034
{
    Bind  $Script_ExitDoubleDoor_80240F90 .Trigger:WallPressA ~Collider:ttw 00000001 00000000
    Return
    End
}

#new:Script $Script_EnterDoubleDoor_80241060
{
    Call  GetEntryID    ( *Var[0] )
    Switch  *Var[0]
        Case  ==  ~Entry:Entry0
            If  *Flag_KKJ_1F  ==  .False
                Call  DisablePlayerInput    ( .True )
                Call  SetPlayerPos  ( FFFFFD7B 00000000 00000000 )
                Call  GetCurrentPartner     ( *Var[0] )
                If  *Var[0]  ==  ~Entry:Entry0
                    Call  DisablePartnerAI  ( 00000000 )
                    Call  SetNpcPos ( .Npc:Partner FFFFFD6C 00000000 00000000 )
                    Wait  1`
                    Call  EnablePartnerAI ( )
                EndIf
                Wait  150`
                Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:LargeDoorOpen 00000000 )
                Call  MakeLerp  ( 00000000 00000050 0000000A .Easing:Linear )
                Loop
                    Call  UpdateLerp ( )
                    Call  RotateModel   ( ~Model:o84 *Var[0] 00000000 FFFFFFFF 00000000 )
                    Call  RotateModel   ( ~Model:o85 *Var[0] 00000000 00000001 00000000 )
                    Wait  1`
                    If  *Var[1]  ==  00000000
                        BreakLoop
                    EndIf
                EndLoop
                Call  SetPlayerPos      ( FFFFFDA3 00000000 00000000 )
                Call  DisablePlayerInput    ( .False )
                Call  SetZoneEnabled    ( ~Zone:o15 .False )
                Call  ResetCam  ( .Cam:Default *Fixed[90.0] )
                Set   *Flag_KKJ_1F  .True
            Else
                Call  SetZoneEnabled    ( ~Zone:o15 .False )
                Call  ResetCam  ( .Cam:Default *Fixed[90.0] )
            EndIf
            Set   *Var[0]  00000000
            Set   *Var[2]  ~Model:o84
            Set   *Var[3]  ~Model:o85
            ExecWait  EnterDoubleDoor
            Exec  $Script_80241034
            Exec  $Script_80245AF0
        Case  ==  00000001
            Exec  $Script_80248998
        Case  ==  00000002
            Exec  $Script_8024B254
    EndSwitch
    Return
    End
}

#new:Script $Script_8024132C
{
    Thread
        Set   *Var[2]  00000000
        Loop
            Add   *Var[2]  0000000A
            Call  RotateGroup   ( ~Model:g3 *Var[2] 00000000 00000001 00000000 )
            Call  RotateGroup   ( ~Model:g12 *Var[2] 00000000 00000001 00000000 )
            Call  RotateGroup   ( ~Model:g14 *Var[2] 00000000 00000001 00000000 )
            Call  RotateGroup   ( ~Model:g16 *Var[2] 00000000 00000001 00000000 )
            Call  RotateGroup   ( ~Model:g18 *Var[2] 00000000 00000001 00000000 )
            Wait  1`
        EndLoop
    EndThread
    Set   *Var[2]  0000005A
    Loop
        Add   *Var[2]  0000000A
        Call  RotateGroup   ( ~Model:g11 *Var[2] 00000000 00000001 00000000 )
        Call  RotateGroup   ( ~Model:g13 *Var[2] 00000000 00000001 00000000 )
        Call  RotateGroup   ( ~Model:g15 *Var[2] 00000000 00000001 00000000 )
        Call  RotateGroup   ( ~Model:g17 *Var[2] 00000000 00000001 00000000 )
        Wait  1`
    EndLoop
    Return
    End
}

#new:Script_Main $Script_Main
{
    Call  GetEntryID    ( *Var[0] )
    Switch  *Var[0]
        Case  ==  00000001
            Set   *Flag_KKJ_1D  .True
        Case  ==  00000002
            Set   *Flag_KKJ_1D  .True
            Set   *Flag_KKJ_1E  .True
    EndSwitch
    Set   *WorldMapLocation  .Location:PeachsCastle
    Call  SetSpriteShading  ( 00050009 )
    Call  SetCamLeadPlayer  ( .Cam:Default .False )
    Call  SetCamPerspective ( .Cam:Default 00000003 00000019 00000010 00001000 )
    Call  SetCamBGColor     ( .Cam:Default 00000000 00000000 00000000 )
    Call  SetCamEnabled     ( .Cam:Default .True )
    Call  SetCamSpeed       ( .Cam:Default *Fixed[0.75] )
    If  *Flag_KKJ_1E  ==  .False
        If  *Flag_KKJ_1D  ==  .False
            Call  MakeNpcs  ( 00000000 $NpcGroupList_80242854 )
        Else
            Call  MakeNpcs      ( 00000000 $NpcGroupList_8024487C )
            Call  EnableGroup   ( ~Model:g30 .False )
        EndIf
    Else
        Call  MakeNpcs      ( 00000000 $NpcGroupList_802455F4 )
        Call  EnableGroup   ( ~Model:g30 .False )
    EndIf
    ExecWait  $Script_MakeEntities
    Call  UseDoorSounds ( .DoorSounds:Large )
    Exec  $Script_EnterDoubleDoor_80241060
    Call  ParentColliderToModel ( ~Collider:o128 ~Model:o1 )
    Exec  $Script_8024132C
    Call  GetEntryID    ( *Var[0] )
    Thread
        Set   *MapVar[B]  00000000
        If  *Var[0]  ==  ~Entry:Entry0
            Call  EnableModel   ( ~Model:o122 .False )
            Loop
                Wait  1`
                If  *MapVar[B]  ==  00000001
                    BreakLoop
                EndIf
            EndLoop
        Else
            Call  ScaleModel    ( ~Model:o122 000000FA 00000001 000000FA )
        EndIf
        Exec  $Script_80247194
    EndThread
    Return
    End
}

PADDING: 802417B8 to 802417C0 (000017B8 to 000017C0)
00000000 00000000

#new:NpcSettings $NpcSettings_802417C0
{
    00000000 004B0048 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_802417EC
{
    00000000 00180018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_80241818
{
    00000000 00220018 00000000 00000000 00000000 80077F70 00000000 8007809C
    00000000 00000000 001A0000
}

#new:Script $Script_Idle_80241844
{
    Call  SetSelfVar    ( 00000000 00000000 )
    Loop
        Call  GetSelfVar    ( 00000000 *Var[0] )
        If  *Var[0]  !=  00000000
            BreakLoop
        EndIf
        Wait  1`
    EndLoop
    Thread
        Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
        Add   *Var[0]  FFFFFFB5
        Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetCamDistance    ( .Cam:Default 000003E8 )
        Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-7.0] )
        Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    EndThread
    Call  802D585C  ( 00000001 00020000 )
    Call  StopSound ( 0000022C )
    Call  StartBossBattle   ( .Song:BowserBattle )
    Return
    End
}

#new:Script $Script_Defeat_802419BC
{
    Call  PlaySound ( 0000022D )
    Exec  $Script_80247AAC
    Return
    End
}

#new:Script $Script_Init_802419E8
{
    Call  BindNpcIdle   ( .Npc:Self $Script_Idle_80241844 )
    Call  BindNpcDefeat ( .Npc:Self $Script_Defeat_802419BC )
    Call  SetNpcPos     ( 00000000 0000015E 00000000 00000000 )
    Return
    End
}

#new:Script $Script_Idle_80241A3C
{
    Call  SetSelfVar    ( 00000000 00000000 )
    Loop
        Call  GetSelfVar    ( 00000000 *Var[0] )
        If  *Var[0]  !=  00000000
            BreakLoop
        EndIf
        Wait  1`
    EndLoop
    Call  802D286C      ( 00002000 )
    Call  802D2520      ( 00010002 00000008 00000000 00000000 00000000 00000000 )
    Call  HidePlayerShadow  ( .True )
    Call  DisablePartnerAI  ( 00000000 )
    Wait  1`
    Call  GetNpcPos     ( 00000001 *Var[0] *Var[1] *Var[2] )
    Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  802D585C      ( 00000001 00020000 )
    Call  StopSound     ( 0000022D )
    Call  StartBossBattle   ( .Song:BowserBattle )
    Call  EnablePartnerAI ( )
    Return
    End
}

#new:Script $Script_Defeat_80241B88
{
    Call  GetBattleOutcome  ( *Var[0] )
    Call  $Function_80240020 ( )
    Set   *Flag_KKJ_1D  .True
    Call  GotoMap   ( $ASCII_8024C708 00000001 ) % kkj_25
    Wait  100`
    Return
    End
}

#new:Script $Script_Aux_80241BE4
{
    Set   *Var[3]  00000001
    Loop
        Loop  00000005
            Call  GetNpcPos ( 00000002 *Var[0] *Var[1] *Var[2] )
            Add   *Var[1]  *Var[3]
            Call  SetNpcPos ( 00000002 *Var[0] *Var[1] *Var[2] )
            Wait  2`
        EndLoop
        Mul   *Var[3]  FFFFFFFF
        Wait  3`
    EndLoop
    Return
    End
}

#new:Script $Script_Init_80241C9C
{
    Call  BindNpcIdle   ( .Npc:Self $Script_Idle_80241A3C )
    Call  BindNpcDefeat ( .Npc:Self $Script_Defeat_80241B88 )
    Call  BindNpcAux    ( .Npc:Self $Script_Aux_80241BE4 )
    Call  SetNpcPos     ( 00000002 000001CC 0000000A 00000000 )
    Call  SetNpcYaw     ( 00000002 0000010E )
    Call  SetNpcAnimation   ( 00000002 00610004 )
    Return
    End
}

#new:Script $Script_Init_80241D2C
{
    Call  SetNpcPos ( 00000003 0000012C FFFFFF9C 00000000 )
    Call  SetNpcAnimation   ( 00000003 00610002 )
    Return
    End
}

#new:Script $Script_Init_80241D6C
{
    Call  SetNpcPos ( 00000001 00000190 00000000 FFFFFFE2 )
    Call  SetNpcYaw ( 00000001 0000010E )
    Call  SetNpcAnimation   ( 00000001 000C001E )
    Return
    End
}

#new:Script $Script_Init_80241DC0
{
    Call  SetNpcAnimation   ( 00000004 00200001 )
    Call  EnableNpcShadow   ( 00000004 .False )
    Call  SetNpcPos ( 00000004 0000012C FFFFFF9C 00000000 )
    Return
    End
}

#new:ExtraAnimationList $ExtraAnimationList_80241E14
{
    00800002 00800004 00800006 0080000D 0080000E 0080000F 00800012 00800013
    FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80241E38
{
    000C001D 000A0001 000A0002 000C0000 000C0006 000C001E 000D0009 000D000A
    000D000B 000C0026 000D000F FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80241E68
{
    00610000 00610001 00610004 00610006 00610007 00610008 00610002 0061000C
    00610003 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80241E90
{
    00200001 00200002 0020001A 00200009 FFFFFFFF
}

#new:NpcGroup $NpcGroup_80241EA4
{
    00000000 $NpcSettings_802417C0 ~Vec3f:NPC_80241EA4 % 0 0 0
    00840F05 $Script_Init_802419E8 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80241EA4
    ~AnimationTable:NPC_80241EA4 % .Sprite:WorldBowser
    00000000 00000000 $ExtraAnimationList_80241E14 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80242094
{
    00000001 $NpcSettings_802417EC ~Vec3f:NPC_80242094 % 0 0 0
    00020F05 $Script_Init_80241D6C 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80242094
    ~AnimationTable:NPC_80242094 % .Sprite:BattleKooper
    00000000 00000000 $ExtraAnimationList_80241E38 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80242284
{
    00000002 $NpcSettings_80241818 ~Vec3f:NPC_80242284 % 0 0 0
    00840F05 $Script_Init_80241C9C 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80242284
    ~AnimationTable:NPC_80242284 % .Sprite:BattleKammy
    00000000 00000000 $ExtraAnimationList_80241E68 00000000 % no tattle string
    %
    % $NpcGroup_80242284[1F0]
    00000003 $NpcSettings_80241818 ~Vec3f:NPC_80242474 % 0 0 0
    00840F05 $Script_Init_80241D2C 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80242474
    ~AnimationTable:NPC_80242474 % .Sprite:BattleKammy
    00000000 00000000 $ExtraAnimationList_80241E68 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80242664
{
    00000004 $NpcSettings_802417EC ~Vec3f:NPC_80242664 % 0 0 0
    00840F05 $Script_Init_80241DC0 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80242664
    ~AnimationTable:NPC_80242664 % .Sprite:Twink
    00000000 00000000 $ExtraAnimationList_80241E90 00000000 % no tattle string
}

#new:NpcGroupList $NpcGroupList_80242854
{
    00000001 $NpcGroup_80241EA4 23030000
    00000001 $NpcGroup_80242094 00000000
    00000002 $NpcGroup_80242284 26000000
    00000001 $NpcGroup_80242664 00000000
    00000000 00000000 00000000
}

#new:NpcSettings $NpcSettings_80242890
{
    00000000 004B0048 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_802428BC
{
    00000000 00180018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_802428E8
{
    00000000 00220018 00000000 00000000 00000000 80077F70 00000000 8007809C
    00000000 00000000 001A0000
}

#new:NpcSettings $NpcSettings_80242914
{
    00000000 001A0018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

MISSING: 80242940 to 80242998 (00002940 to 00002998)
00000000 00140014 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00630000 00000000 00160018 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00630000

#new:Script $Script_Idle_80242998
{
    Label  0
    Call  SetSelfVar    ( 00000000 00000000 )
    Loop
        Call  GetSelfVar    ( 00000000 *Var[0] )
        If  *Var[0]  !=  00000000
            BreakLoop
        EndIf
        Wait  1`
    EndLoop
    Thread
        Call  GetNpcPos     ( 00000005 *Var[0] *Var[1] *Var[2] )
        Add   *Var[0]  FFFFFFB5
        Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
        Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-7.0] )
        Call  SetCamDistance    ( .Cam:Default 000003E8 )
        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    EndThread
    Call  StartBossBattle   ( .Song:FinalBowserBattle )
    Goto  0
    Return
    End
}

#new:Script $Script_Defeat_80242B04
{
    Call  SetEncounterStatusFlags   ( 00000002 .True )
    Call  $Function_80240050 ( )
    Set   *Flag_KKJ_1E  .True
    Call  GotoMap   ( $ASCII_8024C710 00000002 ) % kkj_25
    Wait  100`
    Return
    End
}

#new:IntTable $IntTable_80242B64
{
    00000001 00000002 00000003 00000002 00000001 FFFFFFFF FFFFFFFE FFFFFFFD
    FFFFFFFE FFFFFFFF
}

#new:Script $Script_Aux_80242B8C
{
    Label  0
    UseIntBuffer  $IntTable_80242B64
    Loop  0000000A
        Get1Int  *Var[1]
        Call  GetNpcPos ( 00000006 *Var[2] *Var[3] *Var[4] )
        Add   *Var[3]  *Var[1]
        Call  SetNpcPos ( 00000006 *Var[2] *Var[3] *Var[4] )
        Wait  3`
    EndLoop
    Goto  0
    Return
    End
}

#new:Script $Script_Init_80242C34
{
    Call  SetNpcPos ( 00000001 000001DB 00000000 00000000 )
    Call  SetNpcAnimation   ( 00000001 000A0001 )
    Return
    End
}

#new:Script $Script_Init_80242C74
{
    Call  BindNpcIdle   ( .Npc:Self $Script_Idle_80242998 )
    Call  BindNpcDefeat ( .Npc:Self $Script_Defeat_80242B04 )
    Call  SetNpcScale   ( 00000005 *Fixed[1.5] *Fixed[1.5] *Fixed[1.5] )
    Call  SetNpcPos     ( 00000005 000000C8 00000000 00000000 )
    Call  SetNpcAnimation   ( 00000005 00800002 )
    Return
    End
}

#new:Script $Script_Init_80242CF8
{
    Call  BindNpcAux        ( .Npc:Self $Script_Aux_80242B8C )
    Call  SetNpcPos ( 00000006 0000021C 0000000A FFFFFFCE )
    Call  SetNpcAnimation   ( 00000006 0061000C )
    Return
    End
}

#new:Script $Script_Init_80242D4C
{
    Call  SetNpcPos ( 00000007 00000226 00000000 FFFFFFD8 )
    Call  SetNpcAnimation   ( 00000007 00610003 )
    Return
    End
}

#new:Script $Script_Init_80242D8C
{
    Call  InterpNpcYaw  ( 00000001 0000010E 00000000 )
    Call  SetNpcPos     ( 00000004 000001FE 0000001E 00000000 )
    Call  InterpNpcYaw  ( 00000004 0000010E 00000000 )
    Return
    End
}

#new:Script $Script_Init_80242DE8
{
    Call  802CFD30  ( 00000008 00000007 00000000 00000000 00000000 00000000 )
    Call  EnableNpcShadow   ( 00000008 .False )
    Call  SetNpcPos ( 00000008 00000064 0000002D 00000000 )
    Return
    End
}

#new:Script $Script_Init_80242E4C
{
    Call  802CFD30  ( 00000009 00000007 00000000 00000000 00000000 00000000 )
    Call  EnableNpcShadow   ( 00000009 .False )
    Call  SetNpcPos ( 00000009 0000002E 0000002D FFFFFFE5 )
    Return
    End
}

#new:Script $Script_Init_80242EB0
{
    Call  802CFD30  ( 0000000A 00000007 00000000 00000000 00000000 00000000 )
    Call  EnableNpcShadow   ( 0000000A .False )
    Call  SetNpcPos ( 0000000A 00000021 0000002D FFFFFFA1 )
    Return
    End
}

#new:Script $Script_Init_80242F14
{
    Call  802CFD30  ( 0000000B 00000007 00000000 00000000 00000000 00000000 )
    Call  EnableNpcShadow   ( 0000000B .False )
    Call  SetNpcPos ( 0000000B 00000047 0000002D FFFFFF7C )
    Return
    End
}

#new:Script $Script_Init_80242F78
{
    Call  802CFD30  ( 0000000C 00000007 00000000 00000000 00000000 00000000 )
    Call  EnableNpcShadow   ( 0000000C .False )
    Call  SetNpcPos ( 0000000C 00000083 0000002D FFFFFF7C )
    Return
    End
}

#new:Script $Script_Init_80242FDC
{
    Call  802CFD30  ( 0000000D 00000007 00000000 00000000 00000000 00000000 )
    Call  EnableNpcShadow   ( 0000000D .False )
    Call  SetNpcPos ( 0000000D 000000A9 0000002D FFFFFFA1 )
    Return
    End
}

#new:Script $Script_Init_80243040
{
    Call  802CFD30  ( 0000000E 00000007 00000000 00000000 00000000 00000000 )
    Call  EnableNpcShadow   ( 0000000E .False )
    Call  SetNpcPos ( 0000000E 0000009C 0000002D FFFFFFE5 )
    Return
    End
}

#new:ExtraAnimationList $ExtraAnimationList_802430A4
{
    00800002 00800004 00800006 0080000D 0080000E FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_802430BC
{
    000A0001 000A0002 000C0000 000C0006 000C001E 000D0009 000C0026 000D000F
    FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_802430E0
{
    00610004 00610006 0061000C 00610003 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_802430F4
{
    00200001 00200009 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80243100
{
    00120001 00120002 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_8024310C
{
    00130001 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80243114
{
    00140001 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_8024311C
{
    00150001 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80243124
{
    00160001 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_8024312C
{
    00170001 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80243134
{
    00180001 FFFFFFFF
}

#new:NpcGroup $NpcGroup_8024313C
{
    00000005 $NpcSettings_80242890 ~Vec3f:NPC_8024313C % 0 0 0
    00840F05 $Script_Init_80242C74 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024313C
    ~AnimationTable:NPC_8024313C % .Sprite:WorldBowser
    00000000 00000000 $ExtraAnimationList_802430A4 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_8024332C
{
    00000001 $NpcSettings_802428BC ~Vec3f:NPC_8024332C % 0 0 0
    00020F05 $Script_Init_80242C34 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024332C
    ~AnimationTable:NPC_8024332C % .Sprite:BattleKooper
    00000000 00000000 $ExtraAnimationList_802430BC 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_8024351C
{
    00000006 $NpcSettings_802428E8 ~Vec3f:NPC_8024351C % 0 0 0
    00840F05 $Script_Init_80242CF8 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024351C
    ~AnimationTable:NPC_8024351C % .Sprite:BattleKammy
    00000000 00000000 $ExtraAnimationList_802430E0 00000000 % no tattle string
    %
    % $NpcGroup_8024351C[1F0]
    00000007 $NpcSettings_802428E8 ~Vec3f:NPC_8024370C % 0 0 0
    00000F05 $Script_Init_80242D4C 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024370C
    ~AnimationTable:NPC_8024370C % .Sprite:BattleKammy
    00000000 00000000 $ExtraAnimationList_802430E0 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_802438FC
{
    00000004 $NpcSettings_802428BC ~Vec3f:NPC_802438FC % 0 0 0
    00000F05 $Script_Init_80242D8C 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_802438FC
    ~AnimationTable:NPC_802438FC % .Sprite:Twink
    00000000 00000000 $ExtraAnimationList_802430F4 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80243AEC
{
    00000008 $NpcSettings_80242914 ~Vec3f:NPC_80243AEC % 0 0 0
    00000F05 $Script_Init_80242DE8 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80243AEC
    ~AnimationTable:NPC_80243AEC % .Sprite:WorldEldstar
    00000000 00000000 $ExtraAnimationList_80243100 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80243CDC
{
    00000009 $NpcSettings_80242914 ~Vec3f:NPC_80243CDC % 0 0 0
    00000F05 $Script_Init_80242E4C 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80243CDC
    ~AnimationTable:NPC_80243CDC % .Sprite:WorldMamar
    00000000 00000000 $ExtraAnimationList_8024310C 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80243ECC
{
    0000000A $NpcSettings_80242914 ~Vec3f:NPC_80243ECC % 0 0 0
    00000F05 $Script_Init_80242EB0 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80243ECC
    ~AnimationTable:NPC_80243ECC % .Sprite:WorldSkolar
    00000000 00000000 $ExtraAnimationList_80243114 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_802440BC
{
    0000000B $NpcSettings_80242914 ~Vec3f:NPC_802440BC % 0 0 0
    00000F05 $Script_Init_80242F14 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_802440BC
    ~AnimationTable:NPC_802440BC % .Sprite:WorldMuskular
    00000000 00000000 $ExtraAnimationList_8024311C 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_802442AC
{
    0000000C $NpcSettings_80242914 ~Vec3f:NPC_802442AC % 0 0 0
    00000F05 $Script_Init_80242F78 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_802442AC
    ~AnimationTable:NPC_802442AC % .Sprite:WorldMisstar
    00000000 00000000 $ExtraAnimationList_80243124 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_8024449C
{
    0000000D $NpcSettings_80242914 ~Vec3f:NPC_8024449C % 0 0 0
    00000F05 $Script_Init_80242FDC 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024449C
    ~AnimationTable:NPC_8024449C % .Sprite:WorldKlevar
    00000000 00000000 $ExtraAnimationList_8024312C 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_8024468C
{
    0000000E $NpcSettings_80242914 ~Vec3f:NPC_8024468C % 0 0 0
    00000F05 $Script_Init_80243040 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_8024468C
    ~AnimationTable:NPC_8024468C % .Sprite:WorldKalmar
    00000000 00000000 $ExtraAnimationList_80243134 00000000 % no tattle string
}

#new:NpcGroupList $NpcGroupList_8024487C
{
    00000001 $NpcGroup_8024313C 23040000
    00000001 $NpcGroup_8024332C 00000000
    00000002 $NpcGroup_8024351C 26000000
    00000001 $NpcGroup_802438FC 00000000
    00000001 $NpcGroup_80243AEC 00000000
    00000001 $NpcGroup_80243CDC 00000000
    00000001 $NpcGroup_80243ECC 00000000
    00000001 $NpcGroup_802440BC 00000000
    00000001 $NpcGroup_802442AC 00000000
    00000001 $NpcGroup_8024449C 00000000
    00000001 $NpcGroup_8024468C 00000000
    00000000 00000000 00000000
}

PADDING: 8024490C to 80244910 (0000490C to 00004910)
00000000

#new:NpcSettings $NpcSettings_80244910
{
    00000000 004B0048 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_8024493C
{
    00000000 00180018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_80244968
{
    00000000 00220018 00000000 00000000 00000000 80077F70 00000000 8007809C
    00000000 00000000 001A0000
}

#new:Script $Script_80244994
{
    Return
    End
}

#new:NpcSettings $NpcSettings_802449A4
{
    00000000 00180018 $Script_80244994 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:IntTable $IntTable_802449D0
{
    00000001 00000002 00000003 00000002 00000001 FFFFFFFF FFFFFFFE FFFFFFFD
    FFFFFFFE FFFFFFFF
}

#new:Script $Script_Aux_802449F8
{
    Label  0
    UseIntBuffer  $IntTable_802449D0
    Loop  0000000A
        Get1Int  *Var[1]
        Call  GetNpcPos ( 00000011 *Var[2] *Var[3] *Var[4] )
        Add   *Var[3]  *Var[1]
        Call  SetNpcPos ( 00000011 *Var[2] *Var[3] *Var[4] )
        Wait  3`
    EndLoop
    Goto  0
    Return
    End
}

#new:Script $Script_Init_80244AA0
{
    Call  SetNpcPos ( 00000013 0000010E 00000000 00000000 )
    Return
    End
}

#new:Script $Script_Init_80244ACC
{
    Call  SetNpcAnimation   ( 0000000F 00800023 )
    Call  SetNpcPos ( 0000000F 0000012C 00000000 00000032 )
    Return
    End
}

#new:Script $Script_Init_80244B0C
{
    Call  SetNpcCollisionSize   ( 00000010 00000030 00000018 )
    Call  SetNpcPos ( 00000010 00000190 00000000 00000000 )
    Call  SetNpcAnimation       ( 00000010 000A0001 )
    Return
    End
}

#new:Script $Script_Init_80244B64
{
    Call  BindNpcAux    ( .Npc:Self $Script_Aux_802449F8 )
    Call  SetNpcPos     ( 00000011 0000020D 0000000A 00000000 )
    Call  SetNpcAnimation   ( 00000011 00610004 )
    Call  InterpNpcYaw  ( 00000011 0000010E 00000000 )
    Return
    End
}

#new:Script $Script_Init_80244BD0
{
    Call  SetNpcPos ( 00000012 000001AE 0000001E 00000000 )
    Return
    End
}

#new:ExtraAnimationList $ExtraAnimationList_80244BFC
{
    00800002 00800004 00800006 0080000D 00800023 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80244C14
{
    000A0001 000A0002 000C0000 000C0006 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80244C28
{
    00610004 00610006 FFFFFFFF
}

#new:ExtraAnimationList $ExtraAnimationList_80244C34
{
    00200001 00200009 0020000E FFFFFFFF
}

#new:NpcGroup $NpcGroup_80244C44
{
    0000000F $NpcSettings_80244910 ~Vec3f:NPC_80244C44 % 0 0 0
    00840F05 $Script_Init_80244ACC 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80244C44
    ~AnimationTable:NPC_80244C44 % .Sprite:WorldBowser
    00000000 00000000 $ExtraAnimationList_80244BFC 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80244E34
{
    00000010 $NpcSettings_8024493C ~Vec3f:NPC_80244E34 % 0 0 0
    00860F05 $Script_Init_80244B0C 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80244E34
    ~AnimationTable:NPC_80244E34 % .Sprite:BattleKooper
    00000000 00000000 $ExtraAnimationList_80244C14 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80245024
{
    00000011 $NpcSettings_80244968 ~Vec3f:NPC_80245024 % 0 0 0
    00840F05 $Script_Init_80244B64 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80245024
    ~AnimationTable:NPC_80245024 % .Sprite:BattleKammy
    00000000 00000000 $ExtraAnimationList_80244C28 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80245214
{
    00000012 $NpcSettings_8024493C ~Vec3f:NPC_80245214 % 0 0 0
    00000F05 $Script_Init_80244BD0 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80245214
    ~AnimationTable:NPC_80245214 % .Sprite:Twink
    00000000 00000000 $ExtraAnimationList_80244C34 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_80245404
{
    00000013 $NpcSettings_802449A4 ~Vec3f:NPC_80245404 % 0 -1000 0
    00000F05 $Script_Init_80244AA0 00000000 00000000 0000010E
    ~NoDrops
    ~Movement:NPC_80245404
    ~AnimationTable:NPC_80245404 % .Sprite:StarRod
    00000000 00000000 00000000 00000000 % no tattle string
}

#new:NpcGroupList $NpcGroupList_802455F4
{
    00000001 $NpcGroup_80244C44 23030000
    00000001 $NpcGroup_80244E34 00000000
    00000001 $NpcGroup_80245024 26000000
    00000001 $NpcGroup_80245214 00000000
    00000001 $NpcGroup_80245404 00000000
    00000000 00000000 00000000
}

MISSING: 8024563C to 8024571C (0000563C to 0000571C)
00000000 00000000 004B0048 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00630000 00000000 00180018 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00630000 00000000
00220018 00000000 00000000 00000000 80077F70 00000000 8007809C 00000000
00000000 001A0000 00000000 00170016 00000000 00000000 00000000 80077F70
00000000 8007809C 00000000 00000000 000E0001 00000000 00180018 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00630000

#new:Script $Script_8024571C
{
    Call  PlaySoundAt   ( 0000005A 00000000 0000012C FFFFFFBA 00000118 )
    Call  $Function_80240264    ( 000000E1 FFFFFFBA 00000118 000000F0 )
    Call  $Function_80240264    ( 0000017C FFFFFFBA 00000118 000000F0 )
    Return
    End
}

#new:Script $Script_80245784
{
    Thread
        Wait  20`
        Call  $Function_802401C4    ( *MapVar[0] *Var[7] *Var[8] *Var[9] )
        Call  MakeLerp  ( 00000000 FFFFFFF3 00000005 .Easing:CosInOut )
        Label  0
        Call  UpdateLerp ( )
        Call  $Function_802400FC    ( *MapVar[0] *Var[7] *Var[0] *Var[9] )
        If  *Var[1]  ==  00000001
            Goto  0
        EndIf
        Wait  30`
        Call  $Function_802400FC    ( *MapVar[0] *Var[7] FFFFFFEC *Var[9] )
        Call  SetNpcFlagBits        ( 00000000 00010000 .True )
    EndThread
    Thread
        Set   *MapVar[A]  00000000
        Call  SetNpcAnimation   ( 00000000 00800012 )
        Wait  10`
        Call  SetNpcAnimation   ( 00000000 00800013 )
        Wait  10`
        Call  SetNpcAnimation   ( 00000000 0080000E )
        Call  PlaySound ( 000003BC )
        Loop
            Call  ShakeCam  ( .Cam:Default 00000000 00000001 *Fixed[2.0] )
            Wait  1`
            If  *MapVar[A]  ==  0000000B
                BreakLoop
            EndIf
        EndLoop
        Call  PlaySound ( 000007BC )
    EndThread
    Call  SetNpcJumpscale   ( 00000000 *Fixed[1.0] )
    Call  NpcJump0  ( 00000000 0000012C 00000000 00000000 00000014 )
    Call  PlaySoundAtNpc    ( 00000000 0000208B 00000000 )
    Call  PlaySoundAtNpc    ( 00000000 000020A0 00000000 )
    Set   *AreaFlag[01A]  .True
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_802459E4
{
    Call  GetCurrentPartnerID   ( *Var[0] )
    Switch  *Var[0]
        Case  ==  .Partner:Goombario % 1
        Case  ==  .Partner:Kooper % 2
        Case  ==  .Partner:Bombette % 3
        Case  ==  .Partner:Sushie % 7
        Default
            Call  SetNpcFlagBits    ( .Npc:Partner 00000200 .False )
            Call  GetNpcPos ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
            Set   *Var[1]  00000013
            Call  SetNpcPos ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
    EndSwitch
    Return
    End
}

#new:IntTable $IntTable_80245AB0
{
    00000057 00000054 00000051 0000004E 0000004B 00000048 00000045 00000042
    0000003F 0000003C 00000039 00000036 00000033 00000030 0000002D 0000002A
}

#new:Script $Script_80245AF0
{
    Label  0
    Call  $Function_80240080    ( *Var[0] )
    If  *Var[0]  !=  0000000B
        Wait  1`
        Goto  0
    EndIf
    Thread
        Wait  1`
        Call  DisablePlayerInput    ( .True )
        Call  PlayerFaceNpc ( 00000000 00000000 )
        Call  GetCurrentPartner     ( *Var[0] )
        Call  GetCurrentPartnerID   ( *Var[1] )
        If  *Var[1]  ==  .Partner:Bombette % 3
            If  *Var[0]  !=  00000000
                Goto  1
            EndIf
        EndIf
        If  *Var[0]  !=  00000000
            Call  GetCurrentPartnerID   ( *Var[1] )
            If  *Var[1]  !=  .Partner:Lakilester % 8
                Call  802D244C ( )
            EndIf
            Call  802D2B6C ( )
            Wait  5`
        EndIf
        Call  GetNpcPos ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
        If  *Var[0]  <  00000014
            Call  GetPlayerPos  ( *Var[3] *Var[4] *Var[5] )
            If  *Var[5]  <  00000000
                Add   *Var[5]  00000019
            Else
                Add   *Var[5]  FFFFFFE7
            EndIf
            Add   *Var[3]  FFFFFFF6
            Call  DisablePartnerAI  ( 00000000 )
            Call  SetNpcJumpscale   ( .Npc:Partner *Fixed[0.8] )
            Call  NpcJump0  ( .Npc:Partner *Var[3] *Var[1] *Var[5] 0000000C )
            Call  EnablePartnerAI ( )
        EndIf
        Label  1
    EndThread
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000000 0013007C ) % Gwaaa ha ha ha ha!! Welcome to your nightmare!
    Wait  20`
    Call  UseSettingsFrom   ( .Cam:Default 0000015E 00000000 00000000 )
    Call  SetPanTarget  ( .Cam:Default 0000015E 00000000 00000000 )
    Call  SetCamDistance    ( .Cam:Default 000001C2 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-7.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  10`
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000000 0013007D ) % You should thank me, Mario. Since you've been my r ...
    ExecWait  $Script_80245784
    Call  UseSettingsFrom   ( .Cam:Default FFFFFF6A 00000000 00000000 )
    Call  SetPanTarget  ( .Cam:Default FFFFFF6A 00000000 00000064 )
    Call  SetCamDistance    ( .Cam:Default 000000FA )
    Call  SetCamPitch   ( .Cam:Default *Fixed[26.0] *Fixed[-18.0] )
    Call  SetCamPosA    ( .Cam:Default FFFFFE20 FFFFFE20 )
    Call  SetCamPosB    ( .Cam:Default 00000000 000001E0 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Return
    End
}

#new:Script $Script_80245F20
{
    UseIntBuffer  $IntTable_80245AB0
    SetF  *Var[1]  *Fixed[1.0]
    Set   *Var[2]  00000001
    Loop  00000010
        Get1Int  *Var[3]
        SetF  *Var[0]  00000000
        Thread
            Loop  00000005
                SubF  *Var[0]  *Var[1]
                Call  TranslateGroup    ( *Var[3] 00000000 *Var[0] 00000000 )
                Wait  1`
            EndLoop
            Loop  00000005
                AddF  *Var[0]  *Var[1]
                Call  TranslateGroup    ( *Var[3] 00000000 *Var[0] 00000000 )
                Wait  1`
            EndLoop
            Loop  00000005
                AddF  *Var[0]  *Var[1]
                Call  TranslateGroup    ( *Var[3] 00000000 *Var[0] 00000000 )
                Wait  1`
            EndLoop
            Loop  00000005
                SubF  *Var[0]  *Var[1]
                Call  TranslateGroup    ( *Var[3] 00000000 *Var[0] 00000000 )
                Wait  1`
            EndLoop
        EndThread
        If  *Var[2]  <  00000008
            AddF  *Var[1]  *Fixed[0.5]
        Else
            SubF  *Var[1]  *Fixed[0.5]
        EndIf
        Add   *Var[2]  00000001
        Wait  3`
    EndLoop
    Return
    End
}

#new:Script $Script_80246128
{
    Loop  00000004
        Exec  $Script_80245F20
        Wait  25`
    EndLoop
    Thread
        Wait  15`
        Set   *MapVar[A]  0000000B
    EndThread
    UseIntBuffer  $IntTable_80245AB0
    Set   *Var[2]  00000023
    Set   *Var[5]  FFFFFFF1
    Loop  00000010
        Call  PlaySoundAt   ( B000001B 00000000 *Var[5] 00000000 00000000 )
        Add   *Var[5]  FFFFFFE2
        Get1Int  *Var[3]
        Thread
            Call  MakeLerp  ( 00000000 FFFFFFE7 00000005 .Easing:Linear )
            Loop
                Call  UpdateLerp ( )
                Call  TranslateGroup    ( *Var[3] 00000000 *Var[0] 00000000 )
                Wait  1`
                If  *Var[1]  ==  00000000
                    BreakLoop
                EndIf
            EndLoop
            Set   *Var[4]  00000000
            Call  MakeLerp  ( FFFFFFE7 FFFFFC18 *Var[2] .Easing:CubicIn )
            Loop
                Call  UpdateLerp ( )
                Call  TranslateGroup    ( *Var[3] 00000000 *Var[0] 00000000 )
                Add   *Var[4]  FFFFFFEC
                Call  RotateGroup       ( *Var[3] *Var[4] 00000000 00000000 00000001 )
                Wait  1`
                If  *Var[1]  ==  00000000
                    BreakLoop
                EndIf
            EndLoop
            Call  EnableGroup   ( *Var[3] .False )
        EndThread
        Add   *Var[2]  00000002
        Wait  5`
    EndLoop
    Return
    End
}

#new:IntTable $IntTable_80246394
{
    000000E6 000000A0 00000000 0000015E 000000A0 0000005A 000001A4 000000A0
    0000000A 00000118 000000A0 FFFFFFF6
}

#new:IntTable $IntTable_802463C4
{
    0000014A 000000A0 00000032 00000168 000000A0 FFFFFFCE 00000172 000000A0
    00000032 0000014A 000000A0 FFFFFFCE
}

#new:Script $Script_802463F4
{
    Set   *AreaFlag[01A]  .False
    Wait  10`
    Call  UseSettingsFrom   ( .Cam:Default FFFFFF6A 00000000 00000000 )
    Call  SetPanTarget  ( .Cam:Default FFFFFF6A 00000000 00000000 )
    Call  SetCamDistance    ( .Cam:Default 000003E8 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[12.0] *Fixed[-5.0] )
    Call  SetCamPosA    ( .Cam:Default FFFFFE20 FFFFFE20 )
    Call  SetCamPosB    ( .Cam:Default 00000000 000001E0 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Wait  1`
    Thread
        Call  InterpPlayerYaw       ( 0000010E 00000000 )
        Wait  30`
        Call  SetPlayerAnimation    ( 0008000A )
    EndThread
    Set   *MapVar[A]  0000000A
    ExecWait  $Script_80246128
    Call  SetPlayerAnimation        ( 00010002 )
    Call  SetPlayerPos  ( 00000064 00000000 00000000 )
    Call  IsCurrentPartnerFlying    ( *Var[0] )
    If  *Var[0]  ==  .False
        Call  SetNpcPos ( .Npc:Partner 0000003C 0000000A 00000000 )
    Else
        Call  SetNpcPos ( .Npc:Partner 0000003C 00000000 00000000 )
    EndIf
    Call  SetNpcYaw     ( .Npc:Partner 0000005A )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Call  SetNpcPos     ( .Npc:Partner 00000046 00000000 00000000 )
    Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  0000001E
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 0000014A )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-11.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Wait  10`
    Call  SpeakToPlayer ( 00000000 0080000E 0080000E 00000000 0013007E ) % Gwaa ha ha!!! Like it? You're completely trapped!  ...
    Thread
        Call  SetNpcJumpscale   ( 00000001 *Fixed[1.0] )
        Call  GetNpcPos ( 00000001 *Var[0] *Var[1] *Var[2] )
        Call  NpcJump0  ( 00000001 *Var[0] *Var[1] *Var[2] 0000000C )
        Wait  8`
        Call  GetNpcPos ( 00000001 *Var[0] *Var[1] *Var[2] )
        Call  NpcJump0  ( 00000001 *Var[0] *Var[1] *Var[2] 00000007 )
        Wait  10`
    EndThread
    Call  SpeakToPlayer ( 00000001 000D000A 000C001E 00000000 0013007F ) % Mario, be careful!!!
    Wait  15`
    Call  SpeakToPlayer ( 00000002 00610006 00610004 00000200 00130080 ) % Bleah nyeah heh hee ha heh!! You fell right into o ...
    Wait  15`
    Call  GetNpcPos     ( 00000002 *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 000000FA )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-8.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[2.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Wait  10`
    Thread
        Wait  10`
        Call  InterpNpcYaw  ( 00000001 0000005A 00000000 )
        Wait  30`
        Call  InterpNpcYaw  ( 00000001 0000010E 00000000 )
    EndThread
    Call  SetNpcAnimation   ( 00000002 00610007 )
    Call  SpeakToPlayer ( 00000002 00610007 00610007 00000200 00130081 ) % Did you think we were foolish enough to just sit b ...
    Call  FadeOutMusic  ( 00000000 000005DC )
    Call  SetNpcAnimation   ( 00000002 00610008 )
    Call  GetNpcPos     ( 00000002 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  FFFFFFE2
    Call  PlaySoundAt   ( 0000207A 00000000 *Var[0] 00000016 00000000 )
    Call  PlayEffect    ( ~FX:GatherEnergyPink *Var[0] 00000016 00000000 00000001 00000050 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Thread
        Wait  80`
        Call  SetNpcAnimation   ( 00000002 00610004 )
    EndThread
    Wait  40`
    Call  SetCamProperties  ( .Cam:Default *Fixed[4.0] 0000012C 00000000 00000000 0000044C *Fixed[7.0] *Fixed[0.0] )
    Wait  20`
    Call  SetMusicTrack     ( 00000000 .Song:BowserBattle 00000000 00000008 )
    Exec  $Script_8024571C
    Wait  30`
    Set   *MapVar[B]  00000001
    Loop
        Wait  1`
        If  *MapVar[B]  !=  00000001
            BreakLoop
        EndIf
    EndLoop
    Call  GetNpcPos     ( 00000000 *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 00000190 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-10.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SetNpcAnimation   ( 00000000 0080000D )
    Call  GetNpcPos     ( 00000000 *Var[3] *Var[4] *Var[5] )
    Thread
        UseIntBuffer  $IntTable_80246394
        Loop  00000004
            Get3Int  *Var[0] *Var[1] *Var[2]
            Call  PlayEffect    ( ~FX:Lightning *Var[0] *Var[1] *Var[2] *Var[3] *Var[4] *Var[5] 00000001 00000008 00000000 00000000 00000000 00000000 )
            Wait  8`
        EndLoop
    EndThread
    Thread
        UseIntBuffer  $IntTable_802463C4
        Loop  00000004
            Get3Int  *Var[0] *Var[1] *Var[2]
            Call  PlayEffect    ( ~FX:Lightning *Var[0] *Var[1] *Var[2] *Var[3] *Var[4] *Var[5] 00000001 00000008 00000000 00000000 00000000 00000000 )
            Wait  12`
        EndLoop
        Call  SetNpcEffect  ( 00000000 00000000 00000001 )
    EndThread
    Wait  15`
    Call  PlaySoundAtNpc    ( 00000000 00000223 00000000 )
    SetF  *Var[0]  *Fixed[1.0]
    Loop  00000032
        AddF  *Var[0]  *Fixed[0.01]
        Call  SetNpcScale   ( 00000000 *Var[0] *Var[0] *Var[0] )
        Wait  1`
    EndLoop
    Call  SetNpcAnimation   ( 00000000 0080000E )
    Wait  20`
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Call  SpeakToPlayer ( 00000000 00800006 00800002 00000000 00130082 ) % Uuuuaaaaahhhhh!!!!!! Yes!!! Oh, Kammy Koopa! That  ...
    Wait  40`
    Call  SetPlayerAnimation    ( .PlayerAnim:BeforeJump )
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  00000032
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 000001F4 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-11.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[2.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Thread
        Wait  8`
        Loop  00000004
            Call  ShakeCam  ( .Cam:Default 00000000 00000004 *Fixed[2.0] )
            Wait  3`
            Call  ShakeCam  ( .Cam:Default 00000000 00000002 *Fixed[1.0] )
            Wait  3`
        EndLoop
    EndThread
    Call  SetNpcAnimation   ( 00000000 00800004 )
    Call  NpcMoveTo ( 00000000 000000C8 00000000 0000002D )
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Wait  10`
    Call  SpeakToPlayer     ( 00000000 00800006 00800002 00000000 00130083 ) % Hey, you! Mario!  It's not going to be like before ...
    Wait  10`
    Call  SetNpcVar ( 00000000 00000000 00000001 )
    Return
    End
}

#new:IntTable $IntTable_80246FFC
{
    F25441CD F24A55BA F2490AEE F2540130 F24A55BA F24C9B99 F2540130 F24A55BA
    F24C9B99 F251850A F24A55BA F24F2D36 F251850A F24A55BA F24F2D36 F24DF703
    F24A55BA F24F8C10 F24DF703 F24A55BA F24F8C10 F24B00ED F24A55BA F24D8BC5
    F24B00ED F24A55BA F24D8BC5 F24A057E F24A55BA F24A1C0B F24A057E F24A55BA
    F24A1C0B F24B7A5C F24A55BA F246D884 F24B7A5C F24A55BA F246D884 F24EB110
    F24A55BA F2454823 F24EB110 F24A55BA F2454823 F25228A5 F24A55BA F2462640
    F25228A5 F24A55BA F2462640 F25441CD F24A55BA F2490AEE
}

#new:IntTable $IntTable_802470D4
{
    000000B4 0000012C FFFFFF38 000000FA 00000000 FFFFFF6A 0000010E 0000012C
    FFFFFF38 000000C8 00000000 FFFFFF6A 0000015E 0000012C FFFFFF10 000001F4
    00000000 FFFFFF60 00000226 0000012C FFFFFF10 00000190 00000000 FFFFFF60
    000001F4 0000012C FFFFFFCE 00000226 00000000 FFFFFFCE 00000249 0000012C
    00000064 00000217 00000000 00000064 0000005F 0000012C FFFFFFCE 000000B4
    00000000 FFFFFFCE 000000D7 0000012C FFFFFFCE 00000082 00000000 FFFFFFCE
}

#new:Script $Script_80247194
{
    ChildThread
        Set   *Var[2]  00000000
        Set   *Var[3]  00000000
        If  *Flag_KKJ_1D  ==  .False
            Thread
                Wait  50`
                Call  PlaySound ( 0000022C )
            EndThread
            Call  MakeLerp  ( 00000000 00000032 00000078 .Easing:QuadraticIn )
            Loop
                Call  UpdateLerp ( )
                Div   *Var[0]  0000000A
                Sub   *Var[2]  *Var[0]
                Call  RotateGroup   ( ~Model:g31 *Var[2] 00000000 00000001 00000000 )
                Add   *Var[3]  *Var[0]
                Call  RotateGroup   ( ~Model:g7 *Var[3] 00000000 00000001 00000000 )
                Wait  1`
                If  *Var[1]  ==  00000000
                    BreakLoop
                EndIf
            EndLoop
        Else
            If  *Flag_KKJ_1E  ==  .False
                Call  PlaySound ( 0000022D )
            EndIf
            Set   *Var[0]  00000005
        EndIf
        Loop
            AddF  *Var[2]  *Var[0]
            If  *Var[2]  >  00000168
                SubF  *Var[2]  00000168
            EndIf
            Call  RotateGroup   ( ~Model:g31 *Var[2] 00000000 00000001 00000000 )
            SubF  *Var[3]  *Var[0]
            If  *Var[3]  <  FFFFFE98
                AddF  *Var[3]  00000168
            EndIf
            Call  RotateGroup   ( ~Model:g7 *Var[3] 00000000 00000001 00000000 )
            Wait  1`
        EndLoop
    EndChildThread
    Wait  45`
    ChildThread
        Loop
            UseIntBuffer  $IntTable_80246FFC
            Loop  00000009
                Get3Int  *Var[0] *Var[1] *Var[2]
                Get3Int  *Var[3] *Var[4] *Var[5]
                Call  PlayEffect    ( ~FX:Lightning *Var[0] *Var[1] *Var[2] *Var[3] *Var[4] *Var[5] 00000001 00000005 00000000 00000000 00000000 00000000 )
                Call  $Function_802400AC ( )
                Wait  5`
            EndLoop
        EndLoop
    EndChildThread
    ChildThread
        Loop
            UseIntBuffer  $IntTable_802470D4
            Call  RandInt   ( 00000007 *Var[6] )
            Add   *Var[6]  00000001
            Loop  *Var[6]
                Get3Int  *Var[0] *Var[1] *Var[2]
                Get3Int  *Var[3] *Var[4] *Var[5]
            EndLoop
            If  *MapVar[B]  !=  0000000A
                Call  PlayEffect    ( ~FX:Lightning *Var[0] *Var[1] *Var[2] *Var[3] *Var[4] *Var[5] 00000001 0000000A 00000000 00000000 00000000 00000000 )
                Call  $Function_802400AC ( )
                Wait  30`
            Else
                Call  PlayEffect    ( ~FX:Lightning *Var[0] *Var[1] *Var[2] *Var[3] *Var[4] *Var[5] 00000001 00000005 00000000 00000000 00000000 00000000 )
                Call  $Function_802400AC ( )
                Wait  15`
            EndIf
        EndLoop
    EndChildThread
    ChildThread
        Set   *Var[0]  00000000
        Loop
            Add   *Var[0]  00000014
            If  *Var[0]  >=  00000168
                Sub   *Var[0]  00000168
            EndIf
            Call  RotateGroup   ( ~Model:g51 *Var[0] 00000000 00000001 00000000 )
            Wait  1`
        EndLoop
    EndChildThread
    ChildThread
        If  *Flag_KKJ_1D  ==  .False
            Call  EnableModel   ( ~Model:o122 .True )
            Call  MakeLerp      ( 00000000 000000FA 00000064 .Easing:QuadraticIn )
            Loop
                Call  UpdateLerp ( )
                Call  ScaleModel    ( ~Model:o122 *Var[0] 00000001 *Var[0] )
                Wait  1`
                If  *Var[1]  ==  00000000
                    BreakLoop
                EndIf
            EndLoop
        EndIf
        Loop
            If  *MapVar[B]  !=  0000000A
                Set   *Var[2]  000000FA
            Else
                Set   *Var[2]  0000005A
            EndIf
            Call  MakeLerp  ( *Var[2] 0000005A 0000002D .Easing:CosInOut )
            Loop
                Call  UpdateLerp ( )
                Call  ScaleModel    ( ~Model:o122 *Var[0] 00000001 *Var[0] )
                Wait  1`
                If  *Var[1]  ==  00000000
                    BreakLoop
                EndIf
            EndLoop
            Loop  0000000F
                Call  ScaleModel    ( ~Model:o122 *Var[0] 00000001 *Var[0] )
                Wait  1`
            EndLoop
            Call  MakeLerp  ( 0000005A *Var[2] 0000001E .Easing:CosInOut )
            Loop
                Call  UpdateLerp ( )
                Call  ScaleModel    ( ~Model:o122 *Var[0] 00000001 *Var[0] )
                Wait  1`
                If  *Var[1]  ==  00000000
                    BreakLoop
                EndIf
            EndLoop
        EndLoop
    EndChildThread
    Wait  180`
    Set   *MapVar[B]  00000002
    Loop
        Wait  1`
        If  *MapVar[B]  ==  FFFFFFFF
            BreakLoop
        EndIf
    EndLoop
    Call  StopSound ( 0000022D )
    Return
    End
}

PADDING: 80247998 to 802479A0 (00007998 to 000079A0)
00000000 00000000

#new:VectorList $VectorList_802479A0
{
    % ~Path3f:Path_802479A0
    445.000000 60.000000 0.000000
    480.000000 40.000000 -20.000000
    510.000000 25.000000 0.000000
}

#new:Script $Script_802479C4
{
    Call  GetNpcPos     ( *Var[8] *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  *Fixed[54.0]
    Call  PlayEffect    ( ~FX:EnergyOut:Stars *Var[0] *Var[1] *Var[2] *Fixed[1.5] FFFFFFFF 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Loop
        Wait  1`
        Call  GetNpcPos ( *Var[8] *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  *Fixed[54.0]
        Call  $Function_80240BA0    ( *Var[F] *Var[0] *Var[1] *Var[2] )
    EndLoop
    Return
    End
}

#new:Script $Script_80247AAC
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePartnerAI      ( 00000000 )
    Call  SetPlayerAnimation    ( .PlayerAnim:BeforeJump )
    Call  SetPlayerPos  ( 00000064 00000000 00000000 )
    Call  IsCurrentPartnerFlying    ( *Var[0] )
    If  *Var[0]  ==  .False
        Call  SetNpcPos ( .Npc:Partner 0000003C 0000000A 00000000 )
    Else
        Call  SetNpcPos ( .Npc:Partner 0000003C 00000000 00000000 )
    EndIf
    Call  SetNpcYaw     ( .Npc:Partner 0000005A )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Call  SetNpcPos     ( 00000000 000000C8 00000000 00000000 )
    Call  SetNpcAnimation   ( 00000000 00800002 )
    Call  SetNpcPos     ( 00000001 000001DB 00000000 00000000 )
    Call  SetNpcAnimation   ( 00000001 000C001E )
    Call  SetNpcPos     ( 00000002 00000226 0000000A FFFFFFCE )
    Call  SetNpcAnimation   ( 00000002 00610004 )
    Call  SetNpcEffect  ( 00000000 00000000 00000001 )
    Call  SetNpcEffect  ( 00000000 00000001 00000006 )
    Set   *Var[8]  00000000
    Exec  $Script_802479C4
    Call  SetCamType    ( .Cam:Default 00000000 .False )
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 00000190 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-10.0] )
    Call  SetCamPosA    ( .Cam:Default 00000000 0000001E )
    Call  SetCamPosB    ( .Cam:Default 00000000 00000014 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Wait  30`
    Call  GetNpcPos     ( 00000001 *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  15`
    Call  SetCamDistance    ( .Cam:Default 000000FA )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-9.5] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  10`
    Call  SpeakToPlayer ( 00000001 000D000A 000C001E 00000000 0013008E ) % Oh no! Brave Mario! What can I do...? The way thin ...
    Wait  10`
    Call  GetNpcPos     ( 00000001 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  00000014
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 0000015E )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-9.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  NpcMoveTo     ( 00000002 00000208 FFFFFFCE 0000000F )
    Thread
        Wait  10`
        Call  InterpNpcYaw  ( 00000001 0000005A 00000000 )
    EndThread
    Call  SetNpcAnimation   ( 00000002 0061000B )
    Call  SpeakToPlayer     ( 00000002 00610007 0061000B 00000000 0013008F ) % Why do you have to constantly run your mouth? Keep ...
    Wait  10`
    Call  SetNpcAnimation   ( 00000004 00200002 )
    Call  SetNpcPos ( 00000004 00000352 00000190 00000000 )
    Call  SetNpcJumpscale   ( 00000004 *Fixed[0.0] )
    Call  NpcJump0  ( 00000004 00000212 0000002D FFFFFFCE 0000001E )
    Call  PlaySoundAtNpc    ( 00000002 000000E9 00000000 )
    Call  PlayEffect        ( ~FX:Stars:Fan 00000212 0000002D FFFFFFCE FFFFFFFF FFFFFFFF 00000000 00000003 00000000 00000000 00000000 00000000 00000000 )
    Thread
        Call  SetNpcAnimation   ( 00000002 0061000C )
        Call  SetNpcPos ( 00000003 00000212 0000000F FFFFFFCE )
        Call  SetNpcJumpscale   ( 00000002 *Fixed[0.0] )
        Call  NpcJump1  ( 00000002 0000021C 0000000A FFFFFFCE 0000001E )
    EndThread
    Thread
        Call  SetNpcJumpscale   ( 00000003 *Fixed[0.4] )
        Call  NpcJump0  ( 00000003 00000221 00000000 FFFFFFE2 00000019 )
        Call  GetNpcPos ( 00000003 *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  0000001E
        Set   *Var[3]  00000014
        Set   *Var[4]  00000003
        Call  $Function_80240B18 ( )
        Set   *MapVar[0]  *Var[0]
        Call  PlaySound ( 000020E5 )
        Wait  5`
        Call  SetNpcAnimation   ( 00000003 00610003 )
    EndThread
    Thread
        Call  SetNpcJumpscale   ( 00000004 *Fixed[0.5] )
        Call  NpcJump0  ( 00000004 000001BD 0000003C 00000000 0000001E )
        Call  InterpNpcYaw      ( 00000004 0000005A 00000000 )
    EndThread
    Wait  50`
    Call  LoadPath  ( 0000001E $VectorList_802479A0 00000003 .Easing:QuadraticIn )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( 00000004 *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Call  SetNpcAnimation   ( 00000004 00200001 )
    Call  InterpNpcYaw      ( 00000004 0000010E 00000000 )
    Wait  10`
    Call  SpeakToPlayer     ( 00000004 00200009 00200001 00000000 00130090 ) % Oh, Princess Peach, are you all right? I'll get yo ...
    Wait  10`
    Call  SetNpcJumpscale   ( 00000004 *Fixed[0.0] )
    Call  NpcJump0  ( 00000004 000001EA 00000012 00000000 00000014 )
    Wait  10`
    Call  SetNpcAnimation   ( 00000004 0020001A )
    Call  GetNpcPos ( 00000001 *Var[3] *Var[4] *Var[5] )
    Add   *Var[4]  00000014
    Thread
        Call  GetNpcPos ( 00000004 *Var[0] *Var[1] *Var[2] )
        Loop  00000002
            Loop  00000006
                Add   *Var[1]  FFFFFFFF
                Call  SetNpcPos ( 00000004 *Var[0] *Var[1] *Var[2] )
                Wait  1`
            EndLoop
            Call  PlayEffect    ( ~FX:Steam:SmallOutward *Var[3] *Var[4] *Var[5] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  3`
            Loop  00000006
                Add   *Var[1]  00000001
                Call  SetNpcPos ( 00000004 *Var[0] *Var[1] *Var[2] )
                Wait  1`
            EndLoop
            Call  PlayEffect    ( ~FX:Steam:SmallOutward *Var[3] *Var[4] *Var[5] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  3`
        EndLoop
    EndThread
    Call  SpeakToPlayer     ( 00000001 000D0009 000D000B 00000005 00130091 ) % Twink!! I'm so glad you're OK!
    Call  SetNpcAnimation   ( 00000001 000D000B )
    Set   *Var[2]  0000000C
    Loop  00000004
        Call  MakeLerp  ( 0000005A 000001C2 *Var[2] .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Add   *Var[0]  0000005A
            If  *Var[0]  >  00000167
                Sub   *Var[0]  00000168
            EndIf
            Call  InterpNpcYaw  ( 00000001 *Var[0] 00000001 )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
        Sub   *Var[2]  00000002
        Call  PlayEffect    ( ~FX:Steam:SmallOutward *Var[3] *Var[4] *Var[5] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    EndLoop
    Call  SetNpcAnimation   ( 00000001 000A0001 )
    Call  SetNpcAnimation   ( 00000004 00200001 )
    Wait  20`
    Set   *Var[0]  *MapVar[0]
    Call  $Function_80240B8C ( )
    Call  SetNpcAnimation   ( 00000003 00610000 )
    Wait  5`
    Call  InterpNpcYaw      ( 00000004 0000005A 00000000 )
    Call  NpcFaceNpc        ( 00000003 00000002 00000000 )
    Wait  10`
    Call  SetNpcAnimation   ( 00000004 00200002 )
    Call  SetNpcAnimation   ( 00000003 00610002 )
    Call  SetNpcJumpscale   ( 00000003 *Fixed[1.0] )
    Call  GetNpcPos ( 00000002 *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000000A
    Sub   *Var[2]  00000005
    Call  NpcJump0  ( 00000003 *Var[0] *Var[1] *Var[2] 00000014 )
    Call  SetNpcPos ( 00000003 0000012C FFFFFF9C 00000000 )
    Call  SetNpcAnimation   ( 00000002 00610004 )
    Wait  10`
    Call  SpeakToPlayer     ( 00000002 00610006 00610004 00000000 00130092 ) % You insolent little Star Kid! How dare you!!
    Wait  10`
    Call  SetNpcVar ( 00000002 00000000 00000001 )
    Return
    End
}

PADDING: 8024887C to 80248880 (0000887C to 00008880)
00000000

#new:VectorList $VectorList_80248880
{
    % ~Path3f:Path_80248880
    510.000000 30.000000 0.000000
    430.000000 15.000000 15.000000
    350.000000 20.000000 0.000000
}

#new:Script $Script_802488A4
{
    Loop
        Loop  00000005
            Call  GetNpcPos ( *Var[0] *Var[1] *Var[2] *Var[3] )
            Add   *Var[2]  00000001
            Call  SetNpcPos ( *Var[0] *Var[1] *Var[2] *Var[3] )
            Wait  2`
        EndLoop
        Loop  00000005
            Call  GetNpcPos ( *Var[0] *Var[1] *Var[2] *Var[3] )
            Add   *Var[2]  FFFFFFFF
            Call  SetNpcPos ( *Var[0] *Var[1] *Var[2] *Var[3] )
            Wait  2`
        EndLoop
    EndLoop
    Return
    End
}

#new:Script $Script_80248998
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePartnerAI      ( 00000000 )
    Call  SetPlayerAnimation    ( .PlayerAnim:BeforeJump )
    Call  SetPlayerPos  ( 00000064 00000000 00000000 )
    Call  IsCurrentPartnerFlying    ( *Var[0] )
    If  *Var[0]  ==  .False
        Call  SetNpcPos ( .Npc:Partner 0000003C 0000000A 00000000 )
    Else
        Call  SetNpcPos ( .Npc:Partner 0000003C 00000000 00000000 )
    EndIf
    Call  SetNpcYaw     ( .Npc:Partner 0000005A )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Call  GetNpcPos     ( 00000001 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  00000014
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-8.5] )
    Call  SetCamDistance    ( .Cam:Default 0000012C )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  GetNpcPos     ( 00000007 *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000001E
    Set   *Var[3]  00000014
    Set   *Var[4]  00000003
    Call  $Function_80240C60 ( )
    Set   *MapVar[1]  *Var[0]
    Wait  20`
    Call  InterpNpcYaw  ( 00000001 0000005A 00000000 )
    Wait  20`
    Call  InterpNpcYaw  ( 00000001 0000010E 00000000 )
    Wait  10`
    Call  SetNpcAnimation   ( 00000001 000C0000 )
    Wait  10`
    Call  SetNpcAnimation   ( 00000001 000C0026 )
    Call  SpeakToPlayer ( 00000001 000C0001 000C0026 00000005 0013009C ) % Oh, yes! We did it, Twink! Now we must save Mario! ...
    Wait  10`
    Call  InterpNpcYaw  ( 00000001 0000005A 00000000 )
    Call  SpeakToPlayer ( 00000004 00200009 00200001 00000000 0013009D ) % I know! Princess Peach! Make a wish! Just like you ...
    Wait  10`
    Call  StopSound     ( 0000022D )
    Call  SetMusicTrack ( 00000000 .Song:PeachWishes 00000000 00000008 )
    Call  InterpNpcYaw  ( 00000001 0000010E 00000000 )
    Wait  10`
    Call  SpeakToPlayer ( 00000001 000C0001 000C0026 00000005 0013009E ) % OK, Twink... I'll try!
    Wait  10`
    Call  SpeakToPlayer ( 00000004 00200009 00200001 00000005 0013009F ) % I'll go help Mario!
    Wait  10`
    Call  SetNpcAnimation   ( 00000001 000C0002 )
    Wait  10`
    Call  SetNpcAnimation   ( 00000001 000D000F )
    Wait  10`
    Call  LoadPath      ( 00000014 $VectorList_80248880 00000003 .Easing:QuadraticIn )
    Loop
        Call  GetNextPathPos ( )
        Call  SetNpcPos ( 00000004 *Var[1] *Var[2] *Var[3] )
        Wait  1`
        If  *Var[0]  ==  00000000
            BreakLoop
        EndIf
    EndLoop
    Wait  20`
    Call  GetNpcPos     ( 00000001 *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 000000F5 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-11.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[0.6] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  GetNpcPos     ( 00000001 *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000000A
    Call  PlaySoundAt   ( 00002051 00000000 *Var[0] *Var[1] *Var[2] )
    Call  PlayEffect    ( ~FX:GoldShimmer:Rising *Var[0] *Var[1] *Var[2] 00000028 00000078 0000002D 00000096 00000000 00000000 00000000 00000000 00000000 )
    Wait  150`
    Call  SetNpcAnimation   ( 00000005 0080000E )
    Call  SetNpcEffect  ( 00000005 00000000 00000001 )
    Call  SetNpcEffect  ( 00000005 00000001 00000006 )
    Set   *Var[8]  00000005
    Exec  $Script_802479C4
    Wait  5`
    Call  GetNpcPos     ( 00000005 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  FFFFFFCE
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 00000190 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[16.0] *Fixed[-10.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Set   *Var[0]  *MapVar[1]
    Call  $Function_80240CD4 ( )
    Wait  20`
    Call  SpeakToPlayer ( 00000005 0080000E 0080000E 00000000 001300A0 ) % Gwaah ha ha ha ha ha!!!!! What's the matter, Mario ...
    Wait  10`
    Call  SetNpcPos     ( 00000004 000001F4 000000C8 00000000 )
    Call  SetNpcJumpscale   ( 00000004 *Fixed[0.0] )
    Call  NpcJump0      ( 00000004 000000CD 0000005A 00000000 00000014 )
    Call  PlaySoundAtNpc    ( 00000004 000000E9 00000000 )
    Call  SetNpcAnimation   ( 00000005 0080000D )
    Call  PlayEffect    ( ~FX:Stars:Fan 000000CD 0000005A 00000000 FFFFFFFF FFFFFFFF 00000000 00000003 00000000 00000000 00000000 00000000 00000000 )
    Thread
        Call  ShakeCam  ( .Cam:Default 00000000 00000008 *Fixed[1.5] )
    EndThread
    Call  SetNpcJumpscale   ( 00000004 *Fixed[0.3] )
    Call  NpcJump0  ( 00000004 000000C3 000000C8 00000000 00000014 )
    Wait  10`
    Call  SetPlayerAnimation    ( 00010002 )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Thread
        Call  SetNpcAnimation   ( 00000005 00800002 )
        Call  InterpNpcYaw  ( 00000005 0000005A 00000000 )
        Wait  15`
        Call  InterpNpcYaw  ( 00000005 0000010E 00000000 )
        Wait  15`
        Call  InterpNpcYaw  ( 00000005 0000005A 00000000 )
        Wait  20`
        Call  SetNpcAnimation   ( 00000005 00800004 )
        Call  GetNpcPos     ( 00000005 *Var[0] *Var[1] *Var[2] )
        Add   *Var[0]  00000032
        Call  NpcMoveTo     ( 00000005 *Var[0] *Var[2] 00000032 )
        Call  SetNpcAnimation   ( 00000005 00800002 )
    EndThread
    Wait  15`
    Call  AdjustCam     ( .Cam:Default *Fixed[2.0] 00000000 0000012C *Fixed[17.0] *Fixed[-13.0] )
    Call  PlayEffect    ( ~FX:GoldShimmer:Rising 00000064 0000002D FFFFFFBE 00000028 00000032 0000002D 00000050 00000000 00000000 00000000 00000000 00000000 )
    Call  PlaySound     ( 00002051 )
    Wait  30`
    Set   *Var[0]  00000008
    Exec  $Script_802488A4
    Set   *Var[0]  00000009
    Exec  $Script_802488A4
    Set   *Var[0]  0000000A
    Exec  $Script_802488A4
    Set   *Var[0]  0000000B
    Exec  $Script_802488A4
    Set   *Var[0]  0000000C
    Exec  $Script_802488A4
    Set   *Var[0]  0000000D
    Exec  $Script_802488A4
    Set   *Var[0]  0000000E
    Exec  $Script_802488A4
    Call  GetNpcPos     ( 00000008 *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000000F
    Call  PlaySoundAt   ( B000001E 00000000 *Var[0] *Var[1] *Var[2] )
    Call  PlayEffect    ( ~FX:Sparkles:Star *Var[0] *Var[1] *Var[2] 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    SetF  *Var[0]  00000000
    Loop  00000014
        AddF  *Var[0]  *Fixed[12.0]
        Call  802CFD30  ( 00000008 00000007 *Var[0] 00000000 00000000 00000000 )
        Wait  1`
    EndLoop
    Wait  10`
    Thread
        Wait  15`
        Call  InterpPlayerYaw       ( 0000010E 00000000 )
        Wait  15`
        Call  InterpPlayerYaw       ( 0000005A 00000000 )
        Wait  10`
        Call  SetPlayerAnimation    ( 0001002A )
    EndThread
    Call  SpeakToPlayer ( 00000008 00120002 00120001 00000200 001300A1 ) % Oh my!!! I feel power flooding into me!
    Wait  10`
    Call  PlaySoundAt   ( 00000064 00000000 *Var[0] *Var[1] *Var[2] )
    Call  GetNpcPos     ( 00000009 *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000000F
    Call  PlayEffect    ( ~FX:Sparkles:Star *Var[0] *Var[1] *Var[2] 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Call  GetNpcPos     ( 0000000A *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000000F
    Call  PlayEffect    ( ~FX:Sparkles:Star *Var[0] *Var[1] *Var[2] 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Call  GetNpcPos     ( 0000000B *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000000F
    Call  PlayEffect    ( ~FX:Sparkles:Star *Var[0] *Var[1] *Var[2] 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Call  GetNpcPos     ( 0000000C *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000000F
    Call  PlayEffect    ( ~FX:Sparkles:Star *Var[0] *Var[1] *Var[2] 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Call  GetNpcPos     ( 0000000D *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000000F
    Call  PlayEffect    ( ~FX:Sparkles:Star *Var[0] *Var[1] *Var[2] 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Call  GetNpcPos     ( 0000000E *Var[0] *Var[1] *Var[2] )
    Add   *Var[1]  0000000F
    Call  PlayEffect    ( ~FX:Sparkles:Star *Var[0] *Var[1] *Var[2] 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    SetF  *Var[0]  00000000
    Loop  00000014
        AddF  *Var[0]  *Fixed[12.0]
        Call  802CFD30  ( 00000009 00000007 *Var[0] 00000000 00000000 00000000 )
        Call  802CFD30  ( 0000000A 00000007 *Var[0] 00000000 00000000 00000000 )
        Call  802CFD30  ( 0000000B 00000007 *Var[0] 00000000 00000000 00000000 )
        Call  802CFD30  ( 0000000C 00000007 *Var[0] 00000000 00000000 00000000 )
        Call  802CFD30  ( 0000000D 00000007 *Var[0] 00000000 00000000 00000000 )
        Call  802CFD30  ( 0000000E 00000007 *Var[0] 00000000 00000000 00000000 )
        Wait  1`
    EndLoop
    Call  802CFD30      ( 00000008 00000000 00000000 00000000 00000000 00000000 )
    Call  802CFD30      ( 00000009 00000000 00000000 00000000 00000000 00000000 )
    Call  802CFD30      ( 0000000A 00000000 00000000 00000000 00000000 00000000 )
    Call  802CFD30      ( 0000000B 00000000 00000000 00000000 00000000 00000000 )
    Call  802CFD30      ( 0000000C 00000000 00000000 00000000 00000000 00000000 )
    Call  802CFD30      ( 0000000D 00000000 00000000 00000000 00000000 00000000 )
    Call  802CFD30      ( 0000000E 00000000 00000000 00000000 00000000 00000000 )
    Call  SetNpcJumpscale   ( 00000004 *Fixed[0.0] )
    Call  NpcJump0      ( 00000004 0000008C 00000041 0000001E 00000014 )
    Call  GetNpcPos     ( 00000008 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  0000000F
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 000000FA )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-8.5] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[0.8] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Wait  10`
    Call  SpeakToPlayer ( 00000004 00200009 00200001 00000000 001300A2 ) % Honorable Star Spirits, I'll do what I can to help ...
    Wait  10`
    Call  SpeakToPlayer ( 00000008 00120002 00120001 00000200 001300A3 ) % Twink!? What a surprise!! I feel... The wishes of  ...
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 0000015E )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-10.0] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  10`
    Call  SpeakToPlayer ( 00000008 00120002 00120001 00000200 001300A4 ) % Now! Mario! Don't give up! Everyone's behind you!  ...
    Call  SetPlayerAnimation    ( .PlayerAnim:NodYes )
    Wait  15`
    Call  SetPlayerAnimation    ( 0001002A )
    Wait  5`
    Thread
        Call  SetNpcFlagBits    ( 00000008 00400000 .False )
        Call  SetNpcJumpscale   ( 00000008 *Fixed[3.2] )
        Call  GetNpcPos     ( 00000008 *Var[6] *Var[7] *Var[8] )
        Call  NpcJump0      ( 00000008 *Var[6] *Var[7] *Var[8] 00000005 )
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[1]  00000014
        Call  PlaySoundAt   ( B000001F 00000000 *Var[0] *Var[1] *Var[2] )
        Call  PlayEffect    ( ~FX:Sparkles:Star *Var[0] *Var[1] *Var[2] 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    EndThread
    Thread
        Wait  20`
        Call  SetNpcFlagBits    ( 00000009 00400000 .False )
        Call  SetNpcJumpscale   ( 00000009 *Fixed[3.2] )
        Call  GetNpcPos ( 00000009 *Var[6] *Var[7] *Var[8] )
        Call  NpcJump0  ( 00000009 *Var[6] *Var[7] *Var[8] 00000005 )
    EndThread
    Thread
        Wait  21`
        Call  SetNpcFlagBits    ( 0000000A 00400000 .False )
        Call  SetNpcJumpscale   ( 0000000A *Fixed[3.2] )
        Call  GetNpcPos ( 0000000A *Var[6] *Var[7] *Var[8] )
        Call  NpcJump0  ( 0000000A *Var[6] *Var[7] *Var[8] 00000005 )
    EndThread
    Thread
        Wait  22`
        Call  SetNpcFlagBits    ( 0000000B 00400000 .False )
        Call  SetNpcJumpscale   ( 0000000B *Fixed[3.2] )
        Call  GetNpcPos ( 0000000B *Var[6] *Var[7] *Var[8] )
        Call  NpcJump0  ( 0000000B *Var[6] *Var[7] *Var[8] 00000005 )
    EndThread
    Thread
        Wait  20`
        Call  SetNpcFlagBits    ( 0000000C 00400000 .False )
        Call  SetNpcJumpscale   ( 0000000C *Fixed[3.2] )
        Call  GetNpcPos ( 0000000C *Var[6] *Var[7] *Var[8] )
        Call  NpcJump0  ( 0000000C *Var[6] *Var[7] *Var[8] 00000005 )
    EndThread
    Thread
        Wait  21`
        Call  SetNpcFlagBits    ( 0000000D 00400000 .False )
        Call  SetNpcJumpscale   ( 0000000D *Fixed[3.2] )
        Call  GetNpcPos ( 0000000D *Var[6] *Var[7] *Var[8] )
        Call  NpcJump0  ( 0000000D *Var[6] *Var[7] *Var[8] 00000005 )
    EndThread
    Thread
        Wait  22`
        Call  SetNpcFlagBits    ( 0000000E 00400000 .False )
        Call  SetNpcJumpscale   ( 0000000E *Fixed[3.2] )
        Call  GetNpcPos ( 0000000E *Var[6] *Var[7] *Var[8] )
        Call  NpcJump0  ( 0000000E *Var[6] *Var[7] *Var[8] 00000005 )
    EndThread
    Thread
        Wait  23`
        Call  SetNpcFlagBits    ( 00000004 00400000 .False )
        Call  SetNpcJumpscale   ( 00000004 *Fixed[3.2] )
        Call  GetNpcPos ( 00000004 *Var[6] *Var[7] *Var[8] )
        Call  NpcJump0  ( 00000004 *Var[6] *Var[7] *Var[8] 00000005 )
    EndThread
    Thread
        Call  PlayEffect    ( ~FX:RadialFlowIn:YellowLines 00000064 0000001C 0000000A *Fixed[2.8] 00000064 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Call  PlaySound     ( 0000212D )
        Wait  115`
        Add   *Var[1]  00000014
        Call  PlaySoundAt   ( 00000188 00000000 *Var[0] *Var[1] *Var[2] )
        Call  PlayEffect    ( ~FX:EnergyWaveOut:Grey *Var[0] *Var[1] *Var[2] *Fixed[0.3] 0000001E 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    EndThread
    Wait  40`
    Call  PlaySoundAt   ( B000001F 00000000 0000006E 00000014 00000003 )
    Call  PlayEffect    ( ~FX:Sparkles:Star 0000006E 00000014 00000003 0000000A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Wait  6`
    Call  PlaySoundAt   ( B000001F 00000000 00000064 00000014 00000003 )
    Call  PlayEffect    ( ~FX:Sparkles:Star 00000064 00000014 00000003 0000000F 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Wait  6`
    Call  PlaySoundAt   ( B000001F 00000000 0000005A 00000014 00000003 )
    Call  PlayEffect    ( ~FX:Sparkles:Star 0000005A 00000014 00000003 00000014 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Wait  6`
    Call  PlaySoundAt   ( B000001F 00000000 0000006E 00000014 00000003 )
    Call  PlayEffect    ( ~FX:Sparkles:Star 0000006E 00000014 00000003 00000019 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Wait  6`
    Call  SetPlayerAnimation    ( .PlayerAnim:GotItem )
    Loop  00000003
        Call  PlaySoundAt   ( B000001F 00000000 00000064 00000014 00000003 )
        Call  PlayEffect    ( ~FX:Sparkles:Star 00000064 00000014 00000003 0000001E 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Wait  6`
        Call  PlaySoundAt   ( B000001F 00000000 0000005A 00000014 00000003 )
        Call  PlayEffect    ( ~FX:Sparkles:Star 0000005A 00000014 00000003 0000001E 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Wait  6`
        Call  PlaySoundAt   ( B000001F 00000000 0000006E 00000014 00000003 )
        Call  PlayEffect    ( ~FX:Sparkles:Star 0000006E 00000014 00000003 0000001E 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Wait  6`
    EndLoop
    Call  $Function_80240CE8 ( )
    Wait  30`
    Call  ShowMessageAtScreenPos    ( 001D0199 000000A0 00000028 ) % Star Beam has been upgraded! It's now Peach Beam!  ...
    Wait  30`
    Call  SetPlayerAnimation        ( .PlayerAnim:BeforeJump )
    Call  GetPlayerPos      ( *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  0000002D
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget      ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamDistance    ( .Cam:Default 000001C2 )
    Call  SetCamPitch       ( .Cam:Default *Fixed[17.0] *Fixed[-10.0] )
    Call  SetCamSpeed       ( .Cam:Default *Fixed[5.0] )
    Call  PanToTarget       ( .Cam:Default 00000000 00000001 )
    Thread
        Call  SpeakToPlayer ( 00000005 00800006 00800002 00000000 001300A5 ) % Wha... What's going on...?
    EndThread
    Wait  5`
    Call  InterpNpcYaw  ( 00000005 0000010E 00000000 )
    Wait  25`
    Call  FadeOutMusic  ( 00000000 000001F4 )
    Wait  20`
    Thread
        Call  SetPlayerJumpscale    ( *Fixed[0.5] )
        Call  PlayerJump    ( ~Vec3d:JumpDest_8024A7B4 00000014 )
    EndThread
    Thread
        Call  SetNpcJumpscale   ( .Npc:Partner *Fixed[0.5] )
        Call  GetNpcPos ( .Npc:Partner *Var[0] *Var[1] *Var[2] )
        Call  NpcJump0  ( .Npc:Partner *Var[0] *Var[1] *Var[2] 00000014 )
    EndThread
    Call  SetNpcVar ( 00000005 00000000 00000001 )
    Return
    End
}

MISSING: 8024A860 to 8024A9C0 (0000A860 to 0000A9C0)
00000000 004B0048 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00630000 00000000 00180018 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00630000 00000000 00220018
00000000 00000000 00000000 80077F70 00000000 8007809C 00000000 00000000
001A0000 00000000 00170016 00000000 00000000 00000000 80077F70 00000000
8007809C 00000000 00000000 000E0001 00000000 00180018 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00630000 00000000
001A0018 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00630000 00000000 00140014 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00630000 00000000 00160018 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00630000

% Origin: HEURISTIC
#new:Script $Script_8024A9C0
{
    Return
    End
}

MISSING: 8024A9D0 to 8024A9FC (0000A9D0 to 0000A9FC)
00000000 00180018 8024A9C0 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00630000

#new:IntTable $IntTable_8024A9FC
{
    00000000 00000000 00000000 0000001E F24A8680 F24A7E80 000001C2 FFFFFFCE
    0000014A 00000028 F24A8A80 F24A8280 00000118 FFFFFF9C 0000015E 00000032
    F24A8E80 F24A8280 00000050 FFFFFF38 FFFFFFC4 0000001E F24A8680 F24A7E80
    000001F4 FFFFFF38 00000014 0000001E F24A8680 F24A7E80 0000015E FFFFFF88
    0000015E 00000032 F24A8E80 F24A8280
}

#new:Script $Script_8024AA8C
{
    Loop
        If  *MapVar[C]  >  00000000
            Set   *MapVar[D]  *MapVar[C]
        EndIf
        Switch  *MapVar[C]
            Case  ==  00000000
            Case  ==  00000001
                Call  ShakeCam  ( .Cam:Default 00000000 00000014 *Fixed[2.0] )
                Set   *MapVar[C]  FFFFFFFF
            Case  ==  00000002
                Call  ShakeCam  ( .Cam:Default 00000000 00000032 *Fixed[2.0] )
                Set   *MapVar[C]  FFFFFFFF
            Case  ==  00000003
                Call  ShakeCam  ( .Cam:Default 00000000 00000014 *Fixed[2.0] )
                Set   *MapVar[C]  FFFFFFFF
            Case  ==  00000004
                UseIntBuffer  $IntTable_8024A9FC
                Loop  00000007
                    Get4Int  *Var[0] *Var[1] *Var[2] *Var[3]
                    Get2Float  *Var[4] *Var[5]
                    Call  PlaySoundAt   ( B000001C 00000000 *Var[0] *Var[1] *Var[2] )
                    Call  PlayEffect    ( ~FX:RingBlast:Red *Var[0] *Var[1] *Var[2] *Var[4] *Var[3] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
                    Call  ShakeCam      ( .Cam:Default 00000000 00000014 *Var[5] )
                EndLoop
                Set   *MapVar[C]  FFFFFFFF
            Case  ==  00000005
                Call  ShakeCam  ( .Cam:Default 00000000 00000014 *Fixed[1.0] )
                Set   *MapVar[C]  FFFFFFFF
            Case  ==  00000006
                Call  ShakeCam  ( .Cam:Default 00000000 00000014 *Fixed[1.0] )
                Set   *MapVar[C]  FFFFFFFF
            Case  ==  00000007
                Call  ShakeCam  ( .Cam:Default 00000000 0000001E *Fixed[3.0] )
                Set   *MapVar[C]  FFFFFFFF
            Case  ==  0000000A
                Call  ShakeCam  ( .Cam:Default 00000000 00000064 *Fixed[2.0] )
            Case  ==  FFFFFFFF
                Thread
                    Set   *Var[0]  *MapVar[D]
                    Loop
                        Call  ShakeCam  ( .Cam:Default 00000000 0000001E *Fixed[0.7] )
                        Wait  1`
                        If  *Var[0]  !=  *MapVar[D]
                            BreakLoop
                        EndIf
                    EndLoop
                EndThread
                Set   *MapVar[C]  00000000
        EndSwitch
        Wait  1`
    EndLoop
    Return
    End
}

#new:IntTable $IntTable_8024ADF8
{
    00000190 FFFFFFF6 00000190 00000014 0000015E FFFFFFCE 00000172 00000019
    0000012C FFFFFFE2 00000154 00000019 0000015E FFFFFFD8 00000136 00000014
    0000012C FFFFFFB0 00000118 00000014 00000118 FFFFFFC4 000000FA 00000014
    0000012C FFFFFFCE 000000DC 00000014 000000FA FFFFFF9C 000000BE 00000014
    00000118 FFFFFFBA 000000A0 00000014 000000FA FFFFFFCE 00000082 00000014
    000000E6 FFFFFF9C 00000064 00000014
}

#new:Script $Script_8024AEA8
{
    Thread
        Call  SetNpcJumpscale   ( 0000000F *Fixed[0.1] )
        Call  NpcJump0  ( 0000000F 000002BC FFFFFFCE 000003E8 00000064 )
    EndThread
    Thread
        Call  MakeLerp  ( 00000000 FFFFF8F8 00000064 .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Call  SetNpcRotation    ( 0000000F 00000000 00000000 *Var[0] )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Thread
        Call  SetNpcJumpscale   ( 00000011 *Fixed[0.1] )
        Call  NpcJump0  ( 00000011 00000258 FFFFFF06 000003E8 00000064 )
    EndThread
    Thread
        Call  MakeLerp  ( 00000000 FFFFF790 00000064 .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Call  SetNpcRotation    ( 00000011 00000000 00000000 *Var[0] )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Set   *MapVar[C]  0000000A
    Thread
        Call  MakeLerp  ( FFFFFF6A FFFFFE52 00000064 .Easing:Linear )
        Loop
            Call  UpdateLerp ( )
            Set   *Var[2]  *Var[0]
            Add   *Var[2]  00000096
            Div   *Var[2]  00000002
            Call  TranslateGroup    ( ~Model:g2 *Var[0] *Var[2] 00000000 )
            Call  TranslateGroup    ( ~Model:g31 *Var[0] *Var[2] 00000000 )
            Call  TranslateGroup    ( ~Model:g7 *Var[0] *Var[2] 00000000 )
            Call  TranslateGroup    ( ~Model:g54 *Var[0] *Var[2] 00000000 )
            Wait  1`
            If  *Var[1]  ==  00000000
                BreakLoop
            EndIf
        EndLoop
    EndThread
    Thread
        UseIntBuffer  $IntTable_8024ADF8
        Loop  0000000B
            Get4Int  *Var[0] *Var[1] *Var[2] *Var[3]
            Call  PlaySoundAt   ( B000001C 00000000 *Var[0] *Var[1] *Var[2] )
            Call  PlayEffect    ( ~FX:RingBlast:Red *Var[0] *Var[1] *Var[2] *Fixed[2.0] 0000001E 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            Wait  *Var[3]
        EndLoop
    EndThread
    Wait  120`
    Return
    End
}

#new:Script $Script_8024B254
{
    Call  DisablePlayerInput    ( .True )
    Call  DisablePartnerAI      ( 00000000 )
    Exec  $Script_8024AA8C
    Call  SetPlayerPos  ( 00000096 00000000 00000000 )
    Call  InterpPlayerYaw       ( 0000005A 00000000 )
    Call  IsCurrentPartnerFlying    ( *Var[0] )
    If  *Var[0]  ==  .False
        Call  SetNpcPos ( .Npc:Partner 0000006E 0000000A 00000000 )
    Else
        Call  SetNpcPos ( .Npc:Partner 0000006E 00000000 00000000 )
    EndIf
    Call  SetNpcYaw     ( .Npc:Partner 0000005A )
    Call  SetNpcAnimation   ( .Npc:Partner 00000106 )
    Call  GetNpcPos     ( 0000000F *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  FFFFFFD8
    Add   *Var[1]  0000003C
    Set   *Var[3]  00000014
    Set   *Var[4]  00000003
    Call  $Function_80240EB8 ( )
    Set   *MapVar[0]  *Var[0]
    Call  SetCamType    ( .Cam:Default 00000000 .False )
    Call  UseSettingsFrom   ( .Cam:Default 0000012C 00000000 00000032 )
    Call  SetPanTarget  ( .Cam:Default 0000012C 00000000 00000032 )
    Call  SetCamDistance    ( .Cam:Default 00000177 )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-9.0] )
    Call  SetCamPosA    ( .Cam:Default 00000000 0000001E )
    Call  SetCamPosB    ( .Cam:Default 00000000 00000014 )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Wait  30`
    Thread
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetCamSpeed   ( .Cam:Default *Fixed[0.5] )
        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
        Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
        Set   *Var[0]  *MapVar[0]
        Call  $Function_80240F2C ( )
    EndThread
    Call  FadeOutMusic  ( 00000000 00000096 )
    Call  ClearAmbientSounds    ( 00000096 )
    Wait  10`
    Call  SetMusicTrack ( 00000000 .Song:RecoveredStarRod 00000000 00000008 )
    Call  NpcJump0      ( 00000013 000000E6 00000012 00000000 00000019 )
    Call  NpcJump0      ( 00000013 000000BE 00000012 00000000 00000014 )
    Thread
        Wait  10`
        Call  SetPlayerAnimation    ( 0006000C )
    EndThread
    Call  NpcJump0  ( 00000013 00000096 0000003C 00000000 0000000F )
    Call  PlayEffect    ( ~FX:RadialFlowIn:GoldenRays 00000096 0000003C 00000000 00000001 0000014A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Wait  310`
    Call  ShowMessageAtScreenPos    ( 001300AA 000000A0 00000028 ) %  You took back the Star Rod!
    Call  PlaySound ( 0000022D )
    Call  RemoveNpc ( 00000013 )
    Call  SetPlayerAnimation    ( .PlayerAnim:ThumbsUp )
    Call  GetCurrentPartnerID   ( *Var[0] )
    Switch  *Var[0]
        Case  ==  .Partner:Goombario % 1
            Set   *Var[1]  00010009
        Case  ==  .Partner:Kooper % 2
            Set   *Var[1]  00020010
        Case  ==  .Partner:Bombette % 3
            Set   *Var[1]  0003000F
        Case  ==  .Partner:Parakarry % 4
            Set   *Var[1]  00040007
        Case  ==  .Partner:Bow % 9
            Set   *Var[1]  0005000A
        Case  ==  .Partner:Watt % 6
            Set   *Var[1]  00060006
        Case  ==  .Partner:Sushie % 7
            Set   *Var[1]  00070006
        Case  ==  .Partner:Lakilester % 8
            Set   *Var[1]  0008000D
    EndSwitch
    Call  SetNpcAnimation   ( .Npc:Partner *Var[1] )
    Switch  *Var[0]
        CaseOR  ==  .Partner:Sushie % 7
        CaseOR  ==  .Partner:Bow % 9
            Wait  30`
        EndCaseGroup
        Default
            Loop  00000003
                Call  GetNpcPos ( .Npc:Partner *Var[1] *Var[2] *Var[3] )
                Call  NpcJump0  ( .Npc:Partner *Var[1] *Var[2] *Var[3] 0000000A )
            EndLoop
    EndSwitch
    Call  SetNpcAnimation       ( .Npc:Partner 00000106 )
    Wait  20`
    Call  SetPlayerAnimation    ( 00010002 )
    Wait  20`
    Call  SpeakToPlayer ( 00000010 000C0000 000A0001 00000000 001300AB ) % Oh, Mario!
    Thread
        Call  SetNpcAnimation   ( 00000010 000A0002 )
        Call  NpcMoveTo ( 00000010 000000C8 00000000 00000055 )
        Call  SetNpcAnimation   ( 00000010 000A0001 )
    EndThread
    Thread
        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
        Add   *Var[0]  00000019
        Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
        Call  SetCamDistance    ( .Cam:Default 00000113 )
        Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-9.5] )
        Call  SetCamSpeed   ( .Cam:Default *Fixed[1.2] )
        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    EndThread
    Call  NpcMoveTo     ( 00000012 000000E6 0000001E 00000055 )
    Wait  10`
    Call  SpeakToPlayer ( 00000010 000C0000 000A0001 00000000 001300AC ) % Mario... I knew you would save me. Thank you, Mari ...
    Wait  20`
    Call  PlaySound     ( 8000006B )
    Set   *MapVar[C]  00000001
    Call  PlaySoundAtPlayer ( 00000262 00000000 )
    Call  ShowEmote     ( 00000000 .Emote:Exclamation 00000000 00000014 00000000 00000000 00000000 00000000 00000000 )
    Call  PlaySoundAtNpc    ( 00000010 00000262 00000000 )
    Call  ShowEmote     ( 00000010 .Emote:Exclamation 00000000 00000014 00000001 00000000 00000000 00000000 00000000 )
    Wait  20`
    Call  InterpPlayerYaw   ( 0000010E 00000000 )
    Call  InterpNpcYaw  ( 00000010 0000005A 00000000 )
    Wait  15`
    Call  InterpPlayerYaw   ( 0000005A 00000000 )
    Call  InterpNpcYaw  ( 00000010 0000010E 00000000 )
    Wait  10`
    Call  GetNpcPos     ( 0000000F *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[3.0] *Fixed[-1.5] )
    Call  SetCamDistance    ( .Cam:Default 000002EE )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Wait  40`
    Call  PlaySoundAt   ( 0000203C 00000000 000000DC FFFFFFD5 0000015E )
    Call  PlayEffect    ( ~FX:RingBlast:Red 000000DC FFFFFFD5 0000015E *Fixed[8.0] 00000028 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Set   *MapVar[C]  00000002
    Wait  50`
    Set   *MapVar[B]  0000000A
    Call  GetNpcPos     ( 0000000F *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-10.5] )
    Call  SetCamDistance    ( .Cam:Default 0000012C )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  SetNpcAnimation   ( 00000010 000C0006 )
    Call  SetNpcAnimation   ( 00000012 0020000E )
    Call  SetNpcAnimation   ( 0000000F 0080000D )
    Call  SetNpcJumpscale   ( 0000000F *Fixed[1.0] )
    Call  NpcJump0      ( 0000000F 0000012C 00000000 00000028 00000014 )
    Call  SetNpcAnimation   ( 0000000F 00800002 )
    Call  SetNpcRotation    ( 0000000F 00000000 00000000 00000000 )
    Wait  10`
    Call  InterpNpcYaw  ( 0000000F 0000005A 00000000 )
    Wait  10`
    Call  InterpNpcYaw  ( 0000000F 0000010E 00000000 )
    Wait  10`
    Call  InterpNpcYaw  ( 0000000F 0000005A 00000000 )
    Wait  20`
    Call  SpeakToPlayer ( 0000000F 00800006 00800002 00000200 001300AD ) % Whuh? Huh? I'm awake! Huh? What's going on!? This  ...
    Call  PlaySoundAt   ( 0000203C 00000000 00000172 FFFFFFF6 000000B4 )
    Call  PlayEffect    ( ~FX:RingBlast:Red 00000172 FFFFFFF6 000000B4 *Fixed[6.0] 00000028 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Set   *MapVar[C]  00000003
    Wait  20`
    Call  InterpNpcYaw  ( 00000010 0000005A 00000000 )
    Call  InterpNpcYaw  ( 00000012 0000005A 00000000 )
    Wait  30`
    Call  GetNpcPos     ( 0000000F *Var[0] *Var[1] *Var[2] )
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[6.0] *Fixed[5.0] )
    Call  SetCamDistance    ( .Cam:Default 0000044C )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Thread
        Wait  10`
        Call  SetNpcAnimation   ( 0000000F 00800004 )
        Call  NpcMoveTo ( 0000000F 000001C2 00000000 0000008C )
        Call  SetNpcAnimation   ( 0000000F 00800002 )
    EndThread
    Set   *MapVar[C]  00000004
    Wait  155`
    Call  GetNpcPos     ( 0000000F *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  00000032
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-10.5] )
    Call  SetCamDistance    ( .Cam:Default 0000015E )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
    Call  SpeakToNpc    ( 0000000F 00800006 00800002 00000200 00000011 001300AE ) % Yo! Kammy Koopa! What's with all the shaking?
    Wait  5`
    Call  PlaySoundAt   ( 0000203C 00000000 0000015E 00000032 FFFFFF9C )
    Call  PlayEffect    ( ~FX:RingBlast:Red 0000015E 00000032 FFFFFF9C *Fixed[4.0] 00000014 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Set   *MapVar[C]  00000005
    Wait  25`
    Call  SpeakToNpc    ( 00000011 00610006 00610004 00000200 0000000F 001300AF ) % Uh, your Kingship, the battle with Mario was so in ...
    Wait  10`
    Thread
        Call  SetNpcAnimation   ( 0000000F 0080000D )
        Wait  20`
        Call  SetNpcAnimation   ( 0000000F 00800002 )
    EndThread
    Thread
        Call  PlaySoundAt   ( 0000203C 00000000 0000023A 00000000 00000064 )
        Call  PlayEffect    ( ~FX:RingBlast:Red 0000023A 00000000 00000064 *Fixed[4.0] 00000014 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Set   *MapVar[C]  00000006
    EndThread
    Wait  30`
    Call  SpeakToNpc    ( 0000000F 00800006 00800002 00000200 00000011 001300B0 ) % What...? Are you... Really? That's...a big problem ...
    Set   *MapVar[B]  FFFFFFFF
    Wait  20`
    Call  StopSound     ( 000003BC )
    Call  PlaySoundAt   ( 00000230 00000000 000001F4 00000000 00000064 )
    Call  PlayEffect    ( ~FX:RingBlast:Red 000001F4 00000000 00000064 *Fixed[8.0] 0000005A 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Set   *MapVar[C]  00000007
    Call  SetNpcAnimation   ( 0000000F 0080000D )
    Call  ShowMessageAtScreenPos    ( 001300B1 000000A0 00000028 ) % Aaahhh!!!!
    Call  $Function_80240D30 ( )
    Call  TranslateGroup    ( ~Model:Root FFFFFF38 00000000 00000000 )
    Call  UpdateColliderTransform   ( ~Collider:o128 )
    Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  FFFFFF38
    Call  SetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
    Call  GetNpcPos     ( 00000010 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  FFFFFF38
    Call  SetNpcPos     ( 00000010 *Var[0] *Var[1] *Var[2] )
    Call  GetNpcPos     ( 00000012 *Var[0] *Var[1] *Var[2] )
    Add   *Var[0]  FFFFFF38
    Call  SetNpcPos     ( 00000012 *Var[0] *Var[1] *Var[2] )
    Set   *Var[0]  000001F4
    Set   *Var[1]  00000000
    Set   *Var[2]  00000000
    Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetPanTarget  ( .Cam:Default *Var[0] *Var[1] *Var[2] )
    Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
    Call  SetCamPitch   ( .Cam:Default *Fixed[0.0] *Fixed[-7.0] )
    Call  SetCamDistance    ( .Cam:Default 0000044C )
    Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
    Call  SetNpcAnimation   ( 0000000F 00800002 )
    Call  InterpNpcYaw  ( 00000011 0000005A 00000000 )
    Wait  5`
    Call  802CDE68      ( 0000000F 00000022 )
    Call  802CDE68      ( 00000011 0000000C )
    Wait  10`
    Thread
        Call  $Function_80240E54 ( )
    EndThread
    ExecWait  $Script_8024AEA8
    Call  GotoMap   ( $ASCII_8024C718 00000005 ) % osr_03
    Wait  100`
    Return
    End
}

#new:Script $Script_MakeEntities
{
    If  *Flag_KKJ_1D  ==  .False
        Call  MakeEntity        ( .Entity:GreenStompSwitch ~Vec4d:Entity8024C680 80000000 )
        Set   *MapVar[0]  *Var[0]
        Call  AssignAreaFlag    ( 0000001A )
        Bind  $Script_802463F4 .Trigger:AreaFlagSet *AreaFlag[01A] 00000001 00000000
    EndIf
    Return
    End
}

PADDING: 8024C6F8 to 8024C700 (0000C6F8 to 0000C700)
00000000 00000000

#new:ASCII $ASCII_8024C700
{
    "kkj_24"
}

#new:ASCII $ASCII_8024C708
{
    "kkj_25"
}

#new:ASCII $ASCII_8024C710
{
    "kkj_25"
}

#new:ASCII $ASCII_8024C718
{
    "osr_03"
}

