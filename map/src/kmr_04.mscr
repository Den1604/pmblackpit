% Script File: kmr_04.mscr
% Decoded from: 0 to 3770 (kmr_04)

#new:Function $Function_80240000
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:get_npc_unsafe
	ADDIU     A0, R0, FFFC
	LW        V0, 0 (V0)
	LW        RA, 10 (SP)
	ANDI      V0, V0, 1000
	SLTU      V0, R0, V0
	SLL       V0, V0, 1
	JR        RA
	ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
#new:Function $Function_8024002C
{
	ADDIU     SP, SP, FFE8
	SW        S0, 10 (SP)
	SW        RA, 14 (SP)
	JAL       ~Func:get_player_data
	COPY      S0, A0
	LB        V1, 2 (V0)
	SW        V1, 84 (S0)
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 8024005C to 80240060 (0000005C to 00000060)
00000000

#new:Function $Function_80240060
{
	ADDIU     SP, SP, FFD0
	SDC1      F20, 18 (SP)
	MTC1      A1, F20
	SDC1      F22, 20 (SP)
	MTC1      A2, F22
	SW        S0, 10 (SP)
	SDC1      F24, 28 (SP)
	MTC1      A3, F24
	SW        RA, 14 (SP)
	JAL       ~Func:guMtxIdentF
	COPY      S0, A0
	MUL.S     F22, F20, F22
	NOP
	MUL.S     F20, F20, F24
	NOP
	LIF       F0, 1.0
	NOP
	SWC1      F0, 14 (S0)
	SWC1      F22, 10 (S0)
	SWC1      F20, 18 (S0)
	LW        RA, 14 (SP)
	LW        S0, 10 (SP)
	LDC1      F24, 28 (SP)
	LDC1      F22, 20 (SP)
	LDC1      F20, 18 (SP)
	JR        RA
	ADDIU     SP, SP, 30
}

#new:Function $Function_802400D0
{
	ADDIU     SP, SP, FF78
	SW        S1, 54 (SP)
	COPY      S1, A0
	SW        RA, 5C (SP)
	SW        S2, 58 (SP)
	SW        S0, 50 (SP)
	SDC1      F28, 80 (SP)
	SDC1      F26, 78 (SP)
	SDC1      F24, 70 (SP)
	SDC1      F22, 68 (SP)
	SDC1      F20, 60 (SP)
	LW        S0, C (S1)
	LW        A1, 0 (S0)
	JAL       ~Func:get_variable
	ADDIU     S0, S0, 4
	JAL       ~Func:get_model_list_index_from_tree_index
	COPY      A0, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_float_variable
	COPY      S2, V0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_float_variable
	MOV.S     F28, F0
	LW        A1, 0 (S0)
	ADDIU     S0, S0, 4
	COPY      A0, S1
	JAL       ~Func:get_float_variable
	MOV.S     F26, F0
	COPY      A0, S1
	LW        A1, 0 (S0)
	JAL       ~Func:get_float_variable
	MOV.S     F22, F0
	COPY      A0, S2
	JAL       ~Func:get_model_from_list_index
	MOV.S     F24, F0
	COPY      S1, V0
	LHU       V0, 0 (S1)
	ANDI      V0, V0, 400
	BNE       V0, R0, .o124
	ADDIU     S0, S1, 58
	MTC1      R0, F20
	MFC1      A2, F22
	MFC1      A1, F20
	MFC1      A3, F20
	JAL       ~Func:guTranslateF
	COPY      A0, S0
	MFC1      A1, F28
	MFC1      A2, F26
	MFC1      A3, F24
	JAL       $Function_80240060
	ADDIU     A0, SP, 10
	ADDIU     A0, SP, 10
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, S0
	ADDIU     A0, SP, 10
	NEG.S     F22, F22
	MFC1      A1, F20
	MFC1      A2, F22
	JAL       ~Func:guTranslateF
	COPY      A3, A1
	ADDIU     A0, SP, 10
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, A1
	LHU       V0, 0 (S1)
	ORI       V0, V0, 1400
	BEQ       R0, R0, .o19C
	SH        V0, 0 (S1)
	.o124
	MTC1      R0, F20
	MFC1      A2, F22
	MFC1      A1, F20
	MFC1      A3, F20
	JAL       ~Func:guTranslateF
	ADDIU     A0, SP, 10
	ADDIU     A0, SP, 10
	ADDIU     S0, S1, 58
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, S0
	MFC1      A1, F28
	MFC1      A2, F26
	MFC1      A3, F24
	JAL       $Function_80240060
	ADDIU     A0, SP, 10
	ADDIU     A0, SP, 10
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, S0
	ADDIU     A0, SP, 10
	NEG.S     F22, F22
	MFC1      A1, F20
	MFC1      A2, F22
	JAL       ~Func:guTranslateF
	COPY      A3, A1
	ADDIU     A0, SP, 10
	COPY      A1, S0
	JAL       ~Func:guMtxCatF
	COPY      A2, A1
	.o19C
	LW        RA, 5C (SP)
	LW        S2, 58 (SP)
	LW        S1, 54 (SP)
	LW        S0, 50 (SP)
	LDC1      F28, 80 (SP)
	LDC1      F26, 78 (SP)
	LDC1      F24, 70 (SP)
	LDC1      F22, 68 (SP)
	LDC1      F20, 60 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 88
}

% Origin: HEURISTIC
#new:Function $Function_8024029C
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:get_npc_unsafe
	ADDIU     A0, R0, FFFC
	LW        V0, 0 (V0)
	LW        RA, 10 (SP)
	ANDI      V0, V0, 1000
	SLTU      V0, R0, V0
	SLL       V0, V0, 1
	JR        RA
	ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
#new:Function $Function_802402C8
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	LIA       S0, $???_802429F4
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LW        V0, 0 (S0)
	BNE       V0, R0, .o60
	COPY      S1, A0
	JAL       ~Func:heap_malloc
	ADDIU     A0, R0, 40
	SW        V0, 0 (S0)
	CLEAR     V1
	COPY      A1, V0
	COPY      A0, S1
	.o3C
	LW        V0, 84 (A0)
	ADDIU     A0, A0, 4
	ADDIU     V1, V1, 1
	SW        V0, 0 (A1)
	SLTI      V0, V1, 10
	BNE       V0, R0, .o3C
	ADDIU     A1, A1, 4
	BEQ       R0, R0, .o9C
	NOP
	.o60
	CLEAR     V1
	COPY      A1, V0
	COPY      A0, S1
	.o6C
	LW        V0, 0 (A1)
	ADDIU     A1, A1, 4
	ADDIU     V1, V1, 1
	SW        V0, 84 (A0)
	SLTI      V0, V1, 10
	BNE       V0, R0, .o6C
	ADDIU     A0, A0, 4
	LIA       S0, $???_802429F4
	JAL       ~Func:heap_free
	LW        A0, 0 (S0)
	SW        R0, 0 (S0)
	.o9C
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
#new:Function $Function_8024037C
{
	ADDIU     SP, SP, FFE0
	SW        S0, 10 (SP)
	COPY      S0, A0
	SW        RA, 18 (SP)
	SW        S1, 14 (SP)
	LW        V0, C (S0)
	LW        S1, 0 (V0)
	JAL       ~Func:get_variable
	COPY      A1, S1
	LIO       V1, FFF0FFFF
	COPY      A0, S0
	AND       V0, V0, V1
	SLL       V0, V0, 5
	LTW       A2, V0 (800878E0)
	JAL       ~Func:set_variable
	COPY      A1, S1
	LW        RA, 18 (SP)
	LW        S1, 14 (SP)
	LW        S0, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 20
}

#new:Function $Function_802403E0
{
	ADDIU     SP, SP, FFE8
	LIA       A0, $End[0]
	LIA       V0, $???_80241BF0
	SW        RA, 10 (SP)
	SW        V0, 0 (A0)
	LIA       V0, $???_80242070
	SW        V0, 4 (A0)
	ADDIU     V0, R0, 30
	SH        V0, 8 (A0)
	SH        V0, A (A0)
	ADDIU     V0, R0, 2
	SW        V0, C (A0)
	JAL       ~Func:set_message_images
	SW        R0, 10 (A0)
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

#new:Function $Function_80240434
{
	SAB       R0, 8010F291
	JR        RA
	ADDIU     V0, R0, 2
}

% Origin: HEURISTIC
#new:Function $Function_80240444
{
	ADDIU     SP, SP, FFE8
	SW        RA, 10 (SP)
	JAL       ~Func:get_entity_by_index
	LW        A0, 84 (A0)
	JAL       8010FD68
	COPY      A0, V0
	LW        RA, 10 (SP)
	ADDIU     V0, R0, 2
	JR        RA
	ADDIU     SP, SP, 18
}

PADDING: 8024046C to 80240470 (0000046C to 00000470)
00000000

#new:EntryList $EntryList
{
    ~Vec4f:Entry0 %  485.0    0.0    9.0  270.0
    ~Vec4f:Entry1 %  198.0  100.0  -25.0  270.0
    ~Vec4f:Entry2 %    0.0    0.0    0.0    0.0
    ~Vec4f:Entry3 %    0.0    0.0    0.0    0.0
    ~Vec4f:Entry4 %    0.0    0.0    0.0    0.0
    ~Vec4f:Entry5 %    0.0    0.0    0.0    0.0
    ~Vec4f:Entry6 %    0.0    0.0    0.0    0.0
    ~Vec4f:Entry7 %    0.0    0.0    0.0    0.0
    ~Vec4f:Entry8 %    0.0    0.0    0.0    0.0
    ~Vec4f:Entry9 %    0.0    0.0    0.0    0.0
    ~Vec4f:EntryA %   43.0    0.0 -376.0   90.0
}

#new:Header $Header
{
    [MainScript]  $Script_Main
    [EntryList]   $EntryList
    [EntryCount]  0000000B
    [Background]  80200000
    [MapTattle]   0019003C
}

#new:Script $Script_80240560
{
    Call  SetMusicTrack ( 00000000 .Song:PleasantPath 00000000 00000008 )
    Return
    End
}

#new:Script $Script_8024058C
{
    Call  SetMusicTrack ( 00000000 .Song:JrTroopaTheme 00000000 00000008 )
    Return
    End
}

#new:Script $Script_802405B8
{
    Call  802D5FF8  ( 00000042 00000000 )
    Wait  130`
    Call  802D5FD8 ( )
    Return
    End
}

PADDING: 802405F4 to 80240600 (000005F4 to 00000600)
00000000 00000000 00000000

#new:Script $Script_ExitWalk_80240600
{
    SetGroup  0000001B
    Call  UseExitHeading    ( 0000003C ~Entry:Entry0 )
    Exec  ExitWalk
    Call  GotoMap   ( $ASCII_80243760 00000000 ) % kmr_03
    Wait  100`
    Return
    End
}

#new:Script $Script_8024065C
{
    Bind  $Script_ExitWalk_80240600 .Trigger:FloorAbove ~Collider:deili1 00000001 00000000
    Return
    End
}

#new:Script $Script_EnterWalk_80240688
{
    Call  GetLoadType   ( *Var[1] )
    If  *Var[1]  ==  00000001
        Exec  EnterSavePoint
        Exec  $Script_8024065C
        Return
    EndIf
    Call  GetEntryID    ( *Var[0] )
    If  *Var[0]  !=  ~Entry:EntryA
        Set   *Var[0]  $Script_8024065C
        Exec  EnterWalk
    Else
        Exec  80285C50
        Exec  $Script_8024065C
    EndIf
    Return
    End
}

#new:Script_Main $Script_Main
{
    Set   *WorldMapLocation  .Location:GoombaVillage
    Call  SetSpriteShading  ( FFFFFFFF )
    Call  SetCamPerspective ( .Cam:Default 00000003 00000019 00000010 00001000 )
    Call  SetCamBGColor     ( .Cam:Default 00000000 00000000 00000000 )
    Call  SetCamEnabled     ( .Cam:Default .True )
    Call  SetCamLeadPlayer  ( .Cam:Default .False )
    Set   *AreaFlag[009]  .False
    Call  MakeNpcs  ( 00000000 $NpcGroupList_80241A5C )
    Call  ClearDefeatedEnemies ( )
    ExecWait  $Script_MakeEntities
    ExecWait  $Script_8024349C
    Exec  $Script_80240560
    Call  ModifyColliderFlags   ( 00000000 ~Collider:deilit1 7FFFFE00 )
    Exec  $Script_EnterWalk_80240688
    Wait  1`
    Return
    End
}

PADDING: 8024085C to 80240860 (0000085C to 00000860)
00000000

#new:NpcSettings $NpcSettings_80240860
{
    00000000 00200018 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00630000
}

#new:Script $Script_8024088C
{
    Call  SetNpcFlagBits    ( .Npc:Self 00000200 .False )
    Call  SetNpcFlagBits    ( .Npc:Self 00000048 .True )
    Call  SetNpcPos ( .Npc:Self 00000000 FFFFFC18 00000000 )
    Call  EnableNpcShadow   ( .Npc:Self .False )
    Return
    End
}

#new:Script $Script_802408FC
{
    Return
    End
}

#new:Script $Script_NpcAI_8024090C
{
    Label  1
    Switch  *StoryProgress
        Case  ==  FFFFFF87
            Loop
                Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
                Wait  1`
                If  *Var[0]  <=  00000172
                    BreakLoop
                EndIf
            EndLoop
            Call  DisablePlayerInput    ( .True )
            Call  802CF56C  ( 00000000 )
            Call  GetPlayerPos      ( *Var[0] *Var[1] *Var[2] )
            Add   *Var[0]  0000001E
            Call  SetNpcSpeed       ( .Npc:Partner *Fixed[2.0] )
            Call  NpcMoveTo ( *Var[0] *Var[1] *Var[2] 00000000 )
            Wait  5`
            Call  DisablePartnerAI  ( 00000000 )
            Call  SpeakToPlayer     ( .Npc:Partner 009D0008 009D0001 00000000 000B00A9 ) % The Hammer has got to be somewhere close by.  It l ...
            Call  SetNpcAnimation   ( .Npc:Partner 009D0001 )
            Call  EnablePartnerAI ( )
            Wait  10`
            Call  DisablePlayerInput    ( .False )
            Set   *StoryProgress  FFFFFF88
        Case  ==  FFFFFF89
            If  *AreaByte[0]  ==  00000000
                Label  A
                Wait  1`
                Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
                If  *Var[0]  <  00000168
                    Goto  A
                EndIf
                If  *Var[0]  >  00000190
                    Goto  A
                EndIf
                If  *Var[2]  <  FFFFFFDC
                    Goto  A
                EndIf
                If  *Var[2]  >  00000055
                    Goto  A
                EndIf
                Call  DisablePlayerInput    ( .True )
                Call  $Function_80240000 ( )
                Call  DisablePartnerAI  ( 00000000 )
                Call  SetNpcFlagBits    ( .Npc:Partner 00000040 .True )
                Call  SetNpcAnimation   ( .Npc:Partner 009D0002 )
                Call  SetNpcSpeed       ( .Npc:Partner *Fixed[3.0] )
                Call  NpcMoveTo ( .Npc:Partner 000001A4 00000006 00000000 )
                Thread
                    Wait  3`
                    Call  PlayerFaceNpc ( .Npc:Partner 00000003 )
                EndThread
                Call  SpeakToPlayer     ( .Npc:Partner 009D0008 009D0001 00000000 000B00AC ) % Hmmm... Well! We found the Hammer, so I guess we s ...
                Call  SetNpcAnimation   ( .Npc:Partner 009D0001 )
                Wait  10`
                Thread
                    Call  SetPlayerSpeed    ( *Fixed[3.0] )
                    Call  PlayerMoveTo      ( 0000018B 00000000 00000000 )
                    Call  InterpPlayerYaw   ( 0000005A 00000000 )
                EndThread
                Call  SetNpcFlagBits    ( .Npc:Partner 00000008 .True )
                Call  SetNpcSpeed       ( .Npc:Partner *Fixed[6.0] )
                Call  SetNpcAnimation   ( .Npc:Partner 009D0003 )
                Call  NpcMoveTo ( .Npc:Partner 00000246 00000006 00000000 )
                Call  SetNpcAnimation   ( .Npc:Partner 009D0001 )
                Call  SetNpcFlagBits    ( .Npc:Partner 00000008 .False )
                Call  PlaySoundAtNpc    ( .Npc:Partner 00000061 00000000 )
                Call  SpeakToPlayer     ( .Npc:Partner 009D0008 009D0001 00000000 000B00AD ) % Youch!!
                Wait  10`
                Thread
                    Set   *Var[0]  00000000
                    Call  802CDE68  ( FFFFFFFC 0000000A )
                    Loop  0000003C
                        Add   *Var[0]  00000035
                        Call  SetNpcRotation    ( .Npc:Partner 00000000 00000000 *Var[0] )
                        Call  PlayerFaceNpc     ( .Npc:Partner 00000000 )
                        Wait  1`
                    EndLoop
                    Call  802CDE68  ( FFFFFFFC 00000000 )
                    Call  SetNpcRotation    ( .Npc:Partner 00000000 00000000 00000000 )
                EndThread
                Thread
                    Call  ShakeCam  ( .Cam:Default 00000000 0000000F *Fixed[1.0] )
                EndThread
                Call  PlayEffect        ( ~FX:Stars:Fountain2 000001EF 0000000F 00000009 000001CC 0000000F 00000009 00000006 00000000 00000000 00000000 00000000 00000000 )
                Call  SetNpcAnimation   ( .Npc:Partner 009D0007 )
                Call  NpcMoveTo ( .Npc:Partner 000000FA 00000006 0000003C )
                Call  SetNpcAnimation   ( .Npc:Partner 009D0007 )
                Call  SetNpcRotation    ( .Npc:Partner 00000000 00000000 00000000 )
                Thread
                    Loop  00000014
                        Call  SetNpcPos ( .Npc:Partner 000000FA 00000000 00000006 )
                        Wait  3`
                        Call  SetNpcPos ( .Npc:Partner 000000FA 00000000 00000000 )
                        Wait  3`
                    EndLoop
                EndThread
                Set   *AreaByte[0]  00000001
            EndIf
    EndSwitch
    Wait  1`
    Goto  1
    Return
    End
}

#new:Script $Script_80240FC4
{
    Return
    End
}

#new:Script $Script_80240FD4
{
    Return
    End
}

#new:Script $Script_Idle_80240FE4
{
    Call  800445D4  ( *Var[0] )
    Switch  *Var[0]
        Case  ==  00000064
            Label  0
            Switch  *AreaByte[0]
                Case  ==  00000001
                    Exec  $Script_8024058C
                    Thread
                        Wait  20`
                        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
                        Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
                        Call  SetPanTarget  ( .Cam:Default 000001AE *Var[1] *Var[2] )
                        Call  SetCamDistance    ( .Cam:Default *Fixed[275.0] )
                        Call  SetCamPitch   ( .Cam:Default *Fixed[17.5] *Fixed[-7.5] )
                        Call  SetCamSpeed   ( .Cam:Default *Fixed[2.0] )
                        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
                        Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
                    EndThread
                    Call  SetNpcPos     ( 00000000 00000276 00000000 00000000 )
                    Call  EnableNpcShadow   ( .Npc:Self .True )
                    Wait  1`
                    Call  PlayerFaceNpc ( 00000000 00000003 )
                    Call  SetNpcSpeed   ( 00000000 *Fixed[3.0] )
                    Call  SetNpcAnimation   ( 00000000 00210009 )
                    Call  NpcMoveTo     ( 00000000 000001D1 00000000 00000000 )
                    Call  SetNpcAnimation   ( 00000000 00210006 )
                    Call  PlayerFaceNpc ( 00000000 00000003 )
                    Call  SpeakToPlayer ( 00000000 0021001A 00210006 00000000 000B00AE ) % Who are you guys!? This is my playground, idiots!  ...
                    Wait  10`
                    Thread
                        Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
                        Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
                        Call  SetPanTarget  ( .Cam:Default 000001AE *Var[1] *Var[2] )
                        Call  SetCamSpeed   ( .Cam:Default *Fixed[4.0] )
                        Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
                        Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
                        Call  PanToTarget   ( .Cam:Default 00000000 00000000 )
                    EndThread
                    Call  StartBossBattle   ( .Song:JrTroopaBattle )
            EndSwitch
            Wait  1`
            Goto  0
        CaseOR  ==  00000065
        CaseOR  ==  00000066
        CaseOR  ==  00000003
        CaseOR  ==  00000067
        EndCaseGroup
    EndSwitch
    Return
    End
}

#new:Script $Script_Defeat_80241334
{
    Call  GetBattleOutcome  ( *Var[0] )
    Switch  *Var[0]
        Case  ==  00000000
            Call  GetPlayerPos  ( *Var[0] *Var[1] *Var[2] )
            Call  UseSettingsFrom   ( .Cam:Default *Var[0] *Var[1] *Var[2] )
            Call  SetPanTarget  ( .Cam:Default 00000190 *Var[1] *Var[2] )
            Call  SetCamDistance    ( .Cam:Default *Fixed[275.0] )
            Call  SetCamPitch   ( .Cam:Default *Fixed[15.0] *Fixed[-7.5] )
            Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
            Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
            Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
            Call  PlayerFaceNpc ( .Npc:Self 00000000 )
            Call  SetNpcAnimation   ( .Npc:Self 00210011 )
            Call  SpeakToPlayer ( .Npc:Self 00210011 00210011 00000000 000B00B5 ) % Shoooooot!! I was winning, too!  I'll be back, Mar ...
            Call  SetNpcSpeed   ( .Npc:Self *Fixed[6.0] )
            Call  SetNpcAnimation   ( .Npc:Self 00210009 )
            Call  NpcMoveTo     ( .Npc:Self 00000234 0000000A 00000000 )
            Call  SetNpcPos     ( .Npc:Self 00000000 FFFFFC18 00000000 )
            Wait  60`
            Call  SetNpcPos     ( .Npc:Self 00000234 00000000 0000000A )
            Call  NpcMoveTo     ( .Npc:Self 000001B3 0000000A 00000000 )
            Call  SpeakToPlayer ( .Npc:Self 0021001A 00210006 00000000 000B00B6 ) % I mean it, I'll be back!!
            Call  NpcMoveTo     ( .Npc:Self 00000234 0000000A 00000000 )
            Call  SetNpcAnimation   ( .Npc:Self 00210003 )
            Call  SetNpcPos     ( .Npc:Self 00000000 FFFFFC18 00000000 )
            Thread
                Call  ResetCam  ( .Cam:Default 00000004 )
            EndThread
            Exec  $Script_80240560
            Set   *AreaByte[0]  00000000
            Set   *StoryProgress  FFFFFF8A
            Call  DisablePlayerInput    ( .False )
    EndSwitch
    Return
    End
}

#new:NpcSettings $NpcSettings_802415E8
{
    009D0001 00180018 $Script_8024088C $Script_80240FC4 $Script_NpcAI_8024090C 00000000 $Script_802408FC $Script_80240FD4
    00000105 00000000 00000000
}

#new:Script $Script_Init_80241614
{
    Call  SetNpcPos     ( .Npc:Self 00000000 FFFFFC18 00000000 )
    Call  EnableNpcShadow   ( .Npc:Self .False )
    Call  BindNpcIdle   ( .Npc:Self $Script_Idle_80240FE4 )
    Call  BindNpcDefeat ( .Npc:Self $Script_Defeat_80241334 )
    Return
    End
}

#new:NpcGroup $NpcGroup_8024167C
{
    00000000 $NpcSettings_80240860 ~Vec3f:NPC_8024167C % 0 -1000 0
    00A40D00 $Script_Init_80241614 00000000 00000000 00000000
    ~NoDrops
    ~Movement:NPC_8024167C
    ~AnimationTable:NPC_8024167C % .Sprite:JrTroopa
    00000000 00000000 00000000 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_8024186C
{
    00000001 $NpcSettings_802415E8 ~Vec3f:NPC_8024186C % -58 0 130
    00200100 00000000 00000000 00000000 00000000
    ~NoDrops~Movement:NPC_8024186C
    ~AnimationTable:NPC_8024186C % 00000000
    00000000 00000000 00000000 00000000 % no tattle string
}

PADDING: 802419A6 to 80241A5C (000019A6 to 00001A5C)
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000

#new:NpcGroupList $NpcGroupList_80241A5C
{
    00000001 $NpcGroup_8024167C 02020000
    00000001 $NpcGroup_8024186C 00000000
    00000000 00000000 00000000
}

#new:Script $Script_80241A80
{
    Set   *Flag_KMR_29  .True
    Return
    End
}

#new:Script $Script_MakeEntities
{
    If  *Flag_KMR_29  ==  .False
        Call  MakeEntity    ( .Entity:Hammer1Block ~Vec4d:Entity80241AB0 80000000 )
        Call  AssignScript  ( $Script_80241A80 )
    EndIf
    Call  MakeEntity    ( .Entity:BrickBlock ~Vec4d:Entity80241AEC 80000000 )
    Call  MakeEntity    ( .Entity:BrickBlock ~Vec4d:Entity80241B10 80000000 )
    Call  MakeEntity    ( .Entity:BrickBlock ~Vec4d:Entity80241B34 80000000 )
    Call  MakeEntity    ( .Entity:BrickBlock ~Vec4d:Entity80241B58 80000000 )
    Call  MakeEntity    ( .Entity:MultiCoinBrick ~Vec4d:Entity80241B7C 80000000 )
    Call  AssignBlockFlag   ( *Flag_KMR_28 )
    Call  MakeEntity    ( .Entity:SavePoint ~Vec4d:Entity80241BB0 80000000 )
    Return
    End
}

PADDING: 80241BE4 to 80241BF0 (00001BE4 to 00001BF0)
00000000 00000000 00000000

#new:Unknown $???_80241BF0
{
    00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000066
    66666666 66666600 00000000 00000000 00003388 99888888 89999999 99999988
    88888888 88830000 0005A999 99999999 99999999 99888888 88787777 77773000
    005AAAAA AAA99999 99999999 99999877 77777777 77788300 05ADFFFE EEDDDDDD
    DBAAAAAA AAAA9977 77888888 88888800 07AFFEEE EEEEEEEE EEEEEEEE FFFF9978
    88888888 88888800 07AFEDCC DDDDDDDD EEEEEEEE EEEFD978 88888888 88888800
    07AFDCCC CCCCCCCC CCCCCCDD DDEFF978 88888888 88888800 07AFDCCC CCCCCCCC
    CCCCCCCC CCDFE978 88888888 88888800 07AEDCCC CCCCCCCC CCCCCCCC CCCED978
    88888888 88888800 07AEDCCC CCCCCCCC CCCCCCCC CCCED978 88888888 88888800
    07AEDCCC CCCCCCCC CCCCCCCC CCCED978 88888888 88888800 07AEDCCC CCCCCCCC
    CCCCCCCC CCDED978 88888888 88888800 07AEDCCC CBBCCCCC CCCCCCCC CCDED978
    88888888 87888800 07AEDCCC CA79BCCC CBAABCCC CCDED978 88877888 65888800
    07AEDCCC CA56ACCC CB958BCC CCDED978 88854888 65888800 07AEDCCC CA57ACCC
    CB948BCC CCDED978 88854888 65888800 07AEDCCC CA57ACCC CB948BCC CCDED978
    88854888 55888800 07AEDCCC CA57ACCC CB948BCC CCDED978 88854888 55888800
    07AEDCCC CA57ACCC CB948BCC CCDED978 88854888 66888800 07AEDCCC CBA9ACCC
    CC958BCC CCDED978 88856888 88888800 07AEDCCC CCCCCCCC CCCAABCC CCDED978
    88888888 88888800 07AEDCCC CCCCCCCC CCCCCCCC CCDED978 88888888 88888800
    07AEDCCC CCCCCCCC CCCCCCCC CCDED978 88888888 88888800 07AEDCCC CCCCCCCC
    CCCCCCCC CCDED978 88888888 88888800 07AEDCCC CCCCCCCC CCCCCCCC CCDEA978
    88888888 88888800 07AEDCCC CCCCCCCC CCCCCCCC CCDEA978 88888888 88888800
    07AEDCCC CCCCCCCC CCCCCCCC CCDEA978 88888888 88888800 07AEDCCC CCCCCCCC
    CCCCCCCC CCDEA978 88888888 88888800 07AEDCCC CCCCCCCC CCCCCCCC CCDEA978
    88888888 88888800 07BEDCCC CCCCCCCC CCCCCCCC CCDEA978 88888888 88888300
    008EBCCC CCCCCCCC CCCCCCCC CCDEA978 88888888 88883000 0008BCCC CCBCCCCC
    CCCCCCCC CCDEA978 88888888 88730000 000089AA AAAAACCC BBBCCCCC CCDEA978
    88888777 55000000 00000088 88999AAA AAAAAACB BBBEB978 88777322 00000000
    00000000 00000888 999999AA AAAAA877 75510000 00000000 00000000 00000000
    00000288 88999752 10000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
    00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
}

#new:Unknown $???_80242070
{
    00000841 08431083 184128C3 31434985 5A078307 A3CBB44B B44BBC8D C4CFC511
}

#new:Script $Script_SearchBush_80242090
{
    UseIntBuffer  *Var[0]
    Get4Int  *Var[1] *Var[2] *Var[3] *Var[4]
    Call  GetPlayerPos  ( *Var[5] *Var[F] *Var[7] )
    Thread
        Set   *Flag[00]  .False
        If  *Var[1]  !=  00000000
            Loop  00000005
                UseIntBuffer  *Var[1]
                Get1Int  *Var[2]
                Loop  *Var[2]
                    Get1Int  *Var[3]
                    Call  $Function_802400D0    ( *Var[3] *Fixed[0.1] 00000001 *Var[F] 00000000 )
                    If  *Flag[00]  ==  .False
                        Set   *Flag[00]  .True
                        Call  PlaySoundAtModel  ( *Var[3] .Sound:SearchBush 00000000 )
                    EndIf
                EndLoop
                Wait  1`
                UseIntBuffer  *Var[1]
                Get1Int  *Var[2]
                Loop  *Var[2]
                    Get1Int  *Var[3]
                    Call  $Function_802400D0    ( *Var[3] *Fixed[0.1] FFFFFFFF *Var[F] 00000000 )
                EndLoop
                Wait  1`
            EndLoop
            UseIntBuffer  *Var[1]
            Get1Int  *Var[2]
            Loop  *Var[2]
                Get1Int  *Var[3]
                Call  TranslateModel    ( *Var[3] 00000000 00000000 00000000 )
            EndLoop
            Wait  1`
        EndIf
    EndThread
    Thread
        If  *Var[2]  !=  00000000
            UseIntBuffer  *Var[2]
            Get1Int  *Var[3]
            Loop  *Var[3]
                Get1Int  *Var[4]
                Get3Int  *Var[5] *Var[6] *Var[7]
                Get3Int  *Var[8] *Var[9] *Var[A]
                If  *Var[A]  ==  00000000
                    Call  DropItemEntity    ( *Var[4] *Var[5] *Var[6] *Var[7] *Var[8] *Var[9] )
                Else
                    Call  GetValueByRef ( *Var[A] *Var[B] )
                    If  *Var[B]  ==  00000000
                        Call  SetValueByRef     ( *Var[A] 00000001 )
                        Call  DropItemEntity    ( *Var[4] *Var[5] *Var[6] *Var[7] *Var[8] *Var[9] )
                    EndIf
                EndIf
            EndLoop
        EndIf
    EndThread
    Wait  15`
    If  *Var[4]  !=  00000000
        ExecWait  *Var[4]
    EndIf
    Return
    End
}

#new:Script $Script_ShakeTree_802423F0
{
    SetTimescale  *Fixed[2.0]
    UseIntBuffer  *Var[0]
    Get4Int  *Var[1] *Var[2] *Var[3] *Var[4]
    Get1Int  *Var[5]
    Call  GetPlayerPos  ( *Var[6] *Var[F] *Var[8] )
    Call  PlaySound     ( 00000165 )
    Call  PlaySound     ( 00000166 )
    Thread
        Set   *Flag[00]  .False
        If  *Var[1]  !=  00000000
            Wait  1`
            Loop  00000005
                UseIntBuffer  *Var[1]
                Get1Int  *Var[2]
                Loop  *Var[2]
                    Get1Int  *Var[3]
                    Call  $Function_802400D0    ( *Var[3] *Fixed[0.1] *Fixed[0.2] *Var[F] 00000000 )
                    If  *Flag[00]  ==  .False
                        Set   *Flag[00]  .True
                        Call  PlaySoundAtModel  ( *Var[3] 00000166 00000000 )
                    EndIf
                EndLoop
                Wait  1`
                UseIntBuffer  *Var[1]
                Get1Int  *Var[2]
                Loop  *Var[2]
                    Get1Int  *Var[3]
                    Call  $Function_802400D0    ( *Var[3] *Fixed[0.1] *Fixed[-0.2] *Var[F] 00000000 )
                EndLoop
                Wait  1`
            EndLoop
            UseIntBuffer  *Var[1]
            Get1Int  *Var[2]
            Loop  *Var[2]
                Get1Int  *Var[3]
                Call  TranslateModel    ( *Var[3] 00000000 00000000 00000000 )
            EndLoop
            Wait  1`
        EndIf
    EndThread
    Thread
        Set   *Flag[00]  .False
        If  *Var[2]  !=  00000000
            Loop  00000005
                UseIntBuffer  *Var[2]
                Get1Int  *Var[3]
                Loop  *Var[3]
                    Get1Int  *Var[4]
                    Call  $Function_802400D0    ( *Var[4] *Fixed[0.1] *Fixed[0.2] *Var[F] 00000000 )
                    If  *Flag[00]  ==  .False
                        Set   *Flag[00]  .True
                        Call  PlaySoundAtModel  ( *Var[4] 00000165 00000000 )
                    EndIf
                EndLoop
                Wait  1`
                UseIntBuffer  *Var[2]
                Get1Int  *Var[3]
                Loop  *Var[3]
                    Get1Int  *Var[4]
                    Call  $Function_802400D0    ( *Var[4] *Fixed[0.1] *Fixed[-0.2] *Var[F] 00000000 )
                EndLoop
                Wait  1`
            EndLoop
            UseIntBuffer  *Var[2]
            Get1Int  *Var[3]
            Loop  *Var[3]
                Get1Int  *Var[4]
                Call  TranslateModel    ( *Var[4] 00000000 00000000 00000000 )
            EndLoop
            Wait  1`
        EndIf
    EndThread
    Thread
        If  *Var[3]  !=  00000000
            UseIntBuffer  *Var[3]
            Get1Int  *Var[4]
            Loop  *Var[4]
                Get1Int  *Var[5]
                Get3Int  *Var[6] *Var[7] *Var[8]
                Get3Int  *Var[9] *Var[A] *Var[B]
                If  *Var[B]  ==  00000000
                    Call  DropItemEntity    ( *Var[5] *Var[6] *Var[7] *Var[8] *Var[9] *Var[A] )
                Else
                    Call  GetValueByRef ( *Var[B] *Var[C] )
                    If  *Var[C]  ==  00000000
                        Call  SetValueByRef     ( *Var[B] 00000001 )
                        Call  DropItemEntity    ( *Var[5] *Var[6] *Var[7] *Var[8] *Var[9] *Var[A] )
                    EndIf
                EndIf
            EndLoop
        EndIf
    EndThread
    Thread
        If  *Var[4]  !=  00000000
            UseIntBuffer  *Var[4]
            Get1Int  *Var[5]
            Loop  *Var[5]
                Get3Int  *Var[6] *Var[7] *Var[8]
                Call  PlayEffect    ( ~FX:DropLeaves:Random *Var[6] *Var[7] *Var[8] 00000064 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
            EndLoop
        EndIf
    EndThread
    If  *Var[5]  !=  00000000
        ExecWait  *Var[5]
    EndIf
    Wait  15`
    Return
    End
}

% Origin: HEURISTIC
#new:Unknown $???_802429F4
{
    00000000
}

% Origin: HEURISTIC
#new:Script $Script_802429F8
{
    Call  ShowGotItem   ( *Var[0] .True 00000000 )
    Return
    Return
    End
}

% Origin: HEURISTIC
#new:Script $Script_80242A28
{
    Call  ShowGotItem   ( *Var[0] .True 00000010 )
    Return
    Return
    End
}

#new:Script $Script_80242A58
{
    Call  SetPlayerAnimation    ( 0006000C )
    Call  GetPlayerPos      ( *Var[5] *Var[6] *Var[7] )
    Add   *Var[6]  00000028
    Call  MakeItemEntity    ( .Item:Hammer *Var[5] *Var[6] *Var[7] .ItemSpawnMode:Decoration 00000000 )
    Set   *Var[C]  *Var[0]
    Add   *Var[6]  00000010
    Call  PlayEffect        ( ~FX:GotItemOutline *Var[5] *Var[6] *Var[7] *Fixed[1.0] *Var[8] 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Call  PlayEffect        ( 00000033 00000009 *Var[5] *Var[6] *Var[7] *Fixed[1.0] 00000064 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    Exec  $Script_802405B8
    Thread
        Wait  4`
        Call  GetPlayerPos  ( *Var[3] *Var[4] *Var[5] )
        Add   *Var[4]  00000032
        Add   *Var[5]  00000002
        Add   *Var[3]  00000008
        Call  PlayEffect    ( 00000011 00000003 *Var[3] *Var[4] *Var[5] 00000014 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
        Add   *Var[3]  FFFFFFF0
        Call  PlayEffect    ( 00000011 00000003 *Var[3] *Var[4] *Var[5] 00000014 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
    EndThread
    Loop
        Wait  1`
        If  *MapFlag[12]  ==  .True
            BreakLoop
        EndIf
    EndLoop
    Call  802D7B44  ( *Var[8] )
    Call  RemoveItemEntity      ( *Var[C] )
    Call  SetPlayerAnimation    ( 00010002 )
    Return
    End
}

#new:Script $Script_80242CE4
{
    Call  AdjustCam ( .Cam:Default *Fixed[8.0] 00000000 *Fixed[300.0] *Fixed[19.0] *Fixed[-9.0] )
    Set   *MapFlag[12]  .False
    Exec  $Script_80242A58
    Call  $Function_80240434 ( )
    Wait  30`
    Call  $Function_802403E0 ( )
    Call  ShowMessageAtScreenPos    ( 001D0164 000000A0 00000028 ) % You found the Hammer! Mario can do the  Hammer att ...
    Set   *MapFlag[12]  .True
    Call  DisablePartnerAI  ( 00000000 )
    Wait  10`
    Call  SpeakToPlayer     ( .Npc:Partner 009D0008 009D0001 00000000 000B00AA ) % Oh!! There we go! That's it! That's the Hammer! I' ...
    Call  SetNpcAnimation   ( .Npc:Partner 009D0001 )
    Set   *StoryProgress  FFFFFF89
    Call  ClearPartnerMoveHistory   ( .Npc:Partner )
    Call  EnablePartnerAI ( )
    Thread
        Call  ResetCam  ( .Cam:Default 00000003 )
    EndThread
    Return
    End
}

#new:Script $Script_Bush7_Callback
{
    If  *StoryProgress  >=  FFFFFF89
        Return
    EndIf
    Call  DisablePlayerInput    ( .True )
    ExecWait  $Script_80242CE4
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:Script $Script_Bush8_Callback
{
    If  *StoryProgress  >=  FFFFFF89
        Return
    EndIf
    Call  DisablePlayerInput    ( .True )
    Call  MakeLerp  ( 00000000 00000055 00000014 .Easing:CosInOut )
    Label  0
    Call  UpdateLerp ( )
    Call  RotateModel   ( ~Model:o213 *Var[0] 00000001 00000000 00000000 )
    Wait  1`
    If  *Var[1]  ==  00000001
        Goto  0
    EndIf
    ExecWait  $Script_80242CE4
    Call  MakeLerp      ( 00000055 00000000 00000014 .Easing:CosInOut )
    Label  A
    Call  UpdateLerp ( )
    Call  RotateModel   ( ~Model:o213 *Var[0] 00000001 00000000 00000000 )
    Wait  1`
    If  *Var[1]  ==  00000001
        Goto  A
    EndIf
    Call  DisablePlayerInput    ( .False )
    Return
    End
}

#new:TreeModelList $TreeModelList_Bush1_Bush
{
    00000001 ~Model:o181
}

#new:TreeDropList $TreeDropList_Bush1
{
    00000001
    .Item:Coin ~Vec3d:Bush1_Drop1 00000007 *Flag_KMR_20 *MapFlag[0A]
}

#new:TreeEffectVectors $TreeEffectVectors_Bush1
{
    00000001
    ~Vec3f:TreeFX_Bush1_0 %     248      17      97
}

#new:SearchBushEvent $SearchBushEvent_Bush1
{
    $TreeModelList_Bush1_Bush
    $TreeDropList_Bush1
    $TreeEffectVectors_Bush1
    00000000
}

#new:TreeModelList $TreeModelList_Bush2_Bush
{
    00000001 ~Model:o212
}

#new:TreeDropList $TreeDropList_Bush2
{
    00000001
    .Item:Coin ~Vec3d:Bush2_Drop1 00000006 *Flag_KMR_21 *MapFlag[0B]
}

#new:TreeEffectVectors $TreeEffectVectors_Bush2
{
    00000001
    ~Vec3f:TreeFX_Bush2_0 %     100      19     246
}

#new:SearchBushEvent $SearchBushEvent_Bush2
{
    $TreeModelList_Bush2_Bush
    $TreeDropList_Bush2
    $TreeEffectVectors_Bush2
    00000000
}

#new:TreeModelList $TreeModelList_Bush3_Bush
{
    00000001 ~Model:o235
}

#new:TreeDropList $TreeDropList_Bush3
{
    00000002
    .Item:Coin ~Vec3d:Bush3_Drop1 00000007 *Flag_KMR_22 *MapFlag[0C]
    .Item:Coin ~Vec3d:Bush3_Drop2 00000007 *Flag_KMR_23 *MapFlag[0D]
}

#new:TreeEffectVectors $TreeEffectVectors_Bush3
{
    00000001
    ~Vec3f:TreeFX_Bush3_0 %      50      18    -200
}

#new:SearchBushEvent $SearchBushEvent_Bush3
{
    $TreeModelList_Bush3_Bush
    $TreeDropList_Bush3
    $TreeEffectVectors_Bush3
    00000000
}

#new:TreeModelList $TreeModelList_Bush4_Bush
{
    00000001 ~Model:o182
}

#new:TreeDropList $TreeDropList_Bush4
{
    00000001
    .Item:Coin ~Vec3d:Bush4_Drop1 00000007 *Flag_KMR_24 *MapFlag[0E]
}

#new:TreeEffectVectors $TreeEffectVectors_Bush4
{
    00000001
    ~Vec3f:TreeFX_Bush4_0 %     -49      20     146
}

#new:SearchBushEvent $SearchBushEvent_Bush4
{
    $TreeModelList_Bush4_Bush
    $TreeDropList_Bush4
    $TreeEffectVectors_Bush4
    00000000
}

#new:TreeModelList $TreeModelList_Bush5_Bush
{
    00000001 ~Model:o205
}

#new:TreeDropList $TreeDropList_Bush5
{
    00000001
    .Item:Coin ~Vec3d:Bush5_Drop1 00000007 *Flag_KMR_25 *MapFlag[0F]
}

#new:TreeEffectVectors $TreeEffectVectors_Bush5
{
    00000001
    ~Vec3f:TreeFX_Bush5_0 %    -148      16    -150
}

#new:SearchBushEvent $SearchBushEvent_Bush5
{
    $TreeModelList_Bush5_Bush
    $TreeDropList_Bush5
    $TreeEffectVectors_Bush5
    00000000
}

#new:TreeModelList $TreeModelList_Bush8_Bush
{
    00000001 ~Model:o213
}

#new:TreeEffectVectors $TreeEffectVectors_Bush8
{
    00000001
    ~Vec3f:TreeFX_Bush8_0 %    -224      20      96
}

#new:SearchBushEvent $SearchBushEvent_Bush7
{
    $TreeModelList_Bush8_Bush
    00000000
    $TreeEffectVectors_Bush8
    $Script_Bush7_Callback
}

#new:SearchBushEvent $SearchBushEvent_Bush8
{
    $TreeModelList_Bush8_Bush
    00000000
    $TreeEffectVectors_Bush8
    $Script_Bush8_Callback
}

#new:TreeModelList $TreeModelList_Bush6_Bush
{
    00000001 ~Model:o213
}

#new:TreeEffectVectors $TreeEffectVectors_Bush6
{
    00000001
    ~Vec3f:TreeFX_Bush6_0 %    -224      20      96
}

#new:SearchBushEvent $SearchBushEvent_Bush6
{
    $TreeModelList_Bush6_Bush
    00000000
    $TreeEffectVectors_Bush6
    00000000
}

#new:TreeModelList $TreeModelList_Bush9_Bush
{
    00000001 ~Model:o239
}

#new:TreeEffectVectors $TreeEffectVectors_Bush9
{
    00000001
    ~Vec3f:TreeFX_Bush9_0 %    -174      19     296
}

#new:SearchBushEvent $SearchBushEvent_Bush9
{
    $TreeModelList_Bush9_Bush
    00000000
    $TreeEffectVectors_Bush9
    00000000
}

#new:TreeModelList $TreeModelList_Tree1_Leaves
{
    00000001 ~Model:o237
}

#new:TreeModelList $TreeModelList_Tree1_Trunk
{
    00000001 ~Model:o236
}

#new:TreeDropList $TreeDropList_Tree1
{
    00000001
    .Item:Coin ~Vec3d:Tree1_Drop1 0000000F *Flag_KMR_1E 00000000
}

#new:TreeEffectVectors $TreeEffectVectors_Tree1
{
    00000002
    ~Vec3f:TreeFX_Tree1_0 %    -391     150      20
    ~Vec3f:TreeFX_Tree1_1 %    -267     150      22
}

#new:ShakeTreeEvent $ShakeTreeEvent_Tree1
{
    $TreeModelList_Tree1_Leaves
    $TreeModelList_Tree1_Trunk
    $TreeDropList_Tree1
    $TreeEffectVectors_Tree1
    00000000
}

#new:TriggerCoord $TriggerCoord_8024324C
{
    ~BombPos:Bomb_8024324C % -352.000000 0.000000 10.000000 0.000000
}

#new:TreeModelList $TreeModelList_Tree2_Leaves
{
    00000001 ~Model:o194
}

#new:TreeModelList $TreeModelList_Tree2_Trunk
{
    00000001 ~Model:o193
}

#new:TreeDropList $TreeDropList_Tree2
{
    00000001
    .Item:Coin ~Vec3d:Tree2_Drop1 00000007 *Flag_KMR_1F 00000000
}

#new:TreeEffectVectors $TreeEffectVectors_Tree2
{
    00000002
    ~Vec3f:TreeFX_Tree2_0 %    -156     150    -255
    ~Vec3f:TreeFX_Tree2_1 %     -32     150    -272
}

#new:ShakeTreeEvent $ShakeTreeEvent_Tree2
{
    $TreeModelList_Tree2_Leaves
    $TreeModelList_Tree2_Trunk
    $TreeDropList_Tree2
    $TreeEffectVectors_Tree2
    00000000
}

#new:TriggerCoord $TriggerCoord_802432BC
{
    ~BombPos:Bomb_802432BC % -92.000000 0.000000 -295.000000 0.000000
}

#new:Script $Script_Tree3_Callback
{
    If  *Flag_KMR_00  ==  .True
        Return
    EndIf
    If  *AreaFlag[009]  ==  .True
        Return
    EndIf
    Wait  15`
    Call  MakeItemEntity    ( .Item:Dolly ~Vec3d:Item80243318 .ItemSpawnMode:Fall_NeverVanish *Flag_KMR_00 )
    Set   *AreaFlag[009]  .True
    Thread
        Label  A
        If  *Flag_KMR_00  ==  .False
            Wait  1`
            Goto  A
        EndIf
        Call  GetCurrentPartnerID   ( *Var[0] )
        If  *Var[0]  ==  .Partner:Goompa % 5
            Call  DisablePlayerInput    ( .True )
            Wait  5`
            Call  DisablePartnerAI      ( 00000000 )
            Call  SpeakToPlayer ( .Npc:Partner 009D0008 009D0001 00000000 000B00AB ) % Oh! Well now! I believe that's the dolly that Goom ...
            Call  SetNpcAnimation       ( .Npc:Partner 009D0001 )
            Call  EnablePartnerAI ( )
            Call  DisablePlayerInput    ( .False )
        EndIf
    EndThread
    Return
    End
}

#new:TreeModelList $TreeModelList_Tree3_Leaves
{
    00000001 ~Model:o192
}

#new:TreeModelList $TreeModelList_Tree3_Trunk
{
    00000001 ~Model:o191
}

#new:TreeEffectVectors $TreeEffectVectors_Tree3
{
    00000002
    ~Vec3f:TreeFX_Tree3_0 %     190     150    -124
    ~Vec3f:TreeFX_Tree3_1 %     295     150    -124
}

#new:ShakeTreeEvent $ShakeTreeEvent_Tree3
{
    $TreeModelList_Tree3_Leaves
    $TreeModelList_Tree3_Trunk
    00000000
    $TreeEffectVectors_Tree3
    $Script_Tree3_Callback
}

#new:TriggerCoord $TriggerCoord_8024348C
{
    ~BombPos:Bomb_8024348C % 248.000000 0.000000 -122.000000 0.000000
}

#new:Script $Script_8024349C
{
    Set   *Var[0]  $SearchBushEvent_Bush1
    Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o402 00000001 00000000
    Set   *Var[0]  $SearchBushEvent_Bush2
    Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o415 00000001 00000000
    Set   *Var[0]  $SearchBushEvent_Bush3
    Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o409 00000001 00000000
    Set   *Var[0]  $SearchBushEvent_Bush4
    Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o412 00000001 00000000
    Set   *Var[0]  $SearchBushEvent_Bush5
    Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o399 00000001 00000000
    If  *StoryProgress  >=  FFFFFF89
        Set   *Var[0]  $SearchBushEvent_Bush6
        Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o410 00000001 00000000
        Set   *Var[0]  $SearchBushEvent_Bush6
        Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o410_1 00000001 00000000
    Else
        Set   *Var[0]  $SearchBushEvent_Bush7
        Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o410 00000001 00000000
        Set   *Var[0]  $SearchBushEvent_Bush8
        Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o410_1 00000001 00000000
    EndIf
    Set   *Var[0]  $SearchBushEvent_Bush9
    Bind  $Script_SearchBush_80242090 .Trigger:WallPressA ~Collider:o413 00000001 00000000
    Set   *Var[0]  $ShakeTreeEvent_Tree1
    Bind  $Script_ShakeTree_802423F0 .Trigger:WallHammer ~Collider:o407 00000001 00000000
    Bind  $Script_ShakeTree_802423F0 .Trigger:PointBomb $TriggerCoord_8024324C 00000001 00000000
    Set   *Var[0]  $ShakeTreeEvent_Tree2
    Bind  $Script_ShakeTree_802423F0 .Trigger:WallHammer ~Collider:o271 00000001 00000000
    Bind  $Script_ShakeTree_802423F0 .Trigger:PointBomb $TriggerCoord_802432BC 00000001 00000000
    Set   *Var[0]  $ShakeTreeEvent_Tree3
    Bind  $Script_ShakeTree_802423F0 .Trigger:WallHammer ~Collider:o341 00000001 00000000
    Bind  $Script_ShakeTree_802423F0 .Trigger:PointBomb $TriggerCoord_8024348C 00000001 00000000
    Return
    End
}

PADDING: 8024375C to 80243760 (0000375C to 00003760)
00000000

#new:ASCII $ASCII_80243760
{
    "kmr_03"
}

PADDING: 80243768 to 80243770 (00003768 to 00003770)
00000000 00000000

